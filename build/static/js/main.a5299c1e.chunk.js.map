{"version":3,"sources":["SidebarOption.js","Stateprovider.js","firebase.js","Comment.js","PostFooter.js","Post.js","Profile.js","TweetBox.js","Sidebar.js","Feed.js","Widgets.js","Login.js","Explore.js","ChatOptie.js","AddnewChat.js","ChatPage.js","Chat.js","Followers.js","Following.js","EditProfile.js","Notifications.js","Register.js","ProfileLikes.js","ProfileMain.js","PostPop.js","ForgotPassword.js","Reset.js","App.js","reducer.js","index.js"],"names":["SidebarOption","active","alert","text","Icon","useState","alertje","setAlertje","useEffect","className","classname","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","Comments","username","avatar","verified","to","src","Avatar","PostFooter","userId","token","likes","comments","shares","image","option1","audio","Rusername","widget","liked","setLiked","likes2","setLikes2","commentWindow","setCommentWindow","newComment","setNewComment","user","profile","handle","OpenComment","comments2","setComments2","repeatWindow","SetRepeatWindow","tweetMessage","setTweetMessage","hasRetweet","setHasRetweet","hasRetweetT","setHasRetweetT","nchar","setNchar","nchar2","isSubscribed","collection","orderBy","where","get","then","querySnapshot","forEach","doc","dat","data","key","comment","newnew","filter","catch","error","console","log","handlelike","e","stopPropagation","preventDefault","delete","update","FieldValue","increment","query","id","set","postId","createdAt","Date","getTime","toString","add","likerUsername","imageUrl","timestamp","Math","random","seen","docRef","exists","len","length","i","newTweetMessage","replace","IconButton","onClick","style","color","map","com","onSubmit","uid","commentUsername","type","onChange","target","Button","undefined","placeholder","alt","controls","retweetmettekstToken","Rtext","Ravatar","retweet","Post","newText","naam","option2","option3","option4","votes1","votes2","votes3","votes4","Rtweeter","RcreatedAt","liker","likerCreatedAt","profilepop","setPoster","follow","allow","setAllow","vote1","setVote1","vote2","setVote2","vote3","setVote3","vote4","setVote4","allowVote","setAllowVote","setUsersign","setWeretweeter","totalVotes","newTex","newTexR","history","useHistory","statemes","setStatemes","statemesR","newname","setNewname","newnameR","setNewnameR","oldtime","oldtimeR","oldtimeL","newTime","setNewTime","Nvotes1","round","Nvotes2","Nvotes3","Nvotes4","testmessage","newmes","exec","testmes","split","num","val","texte","document","getElementById","innerHTML","toggle","addEventListener","checklinkclick","removeEventListener","stopImmediatePropagation","push","newmesR","newTextR","toggleR","checklinkclickr","setTimeout","post","clickImage","clickImageR","date1","diff","abs","floor","newtime","days","leftSec","hrs","min","closest","fontSize","marginLeft","styles","Profile","pName","useParams","setFollow","myposts","setMyposts","retweetData","setRetweetData","rposts","setRposts","setUpdate","doubleposts","setDoubleposts","limit","newdata","createdAt2","olddata","retweeter","createdA","doc2","dat2","newArray","concat","sort","order","a","b","varA","varB","hasOwnProperty","comparison","compareValues","displayName","Rimage","TweetBox","sidebar","tweetImage","setTweetImage","setImageProgress","setAudioProgress","tweetAudio","setTweetAudio","dispatch","windowstate","pollOnOff","setPollOnOff","setOption1","setOption2","setOption3","setOption4","choices3","setChoices3","choices4","setChoices4","ad","setAd","added","setAdded","require","chosenEmoji","setChosenEmoji","openEmoji","setOpenEmoji","postToken","setPostToken","childPathImage","childPathAudio","emoji","handlechangeimage","files","task","ref","child","put","on","snapshot","bytesTransferred","getDownloadURL","handleImage","click","sendTweet","message","first","hashes","indexOf","has","postsCount","hashtag","tagUsername","handlePoll","addOption","removeOption","hidden","Tooltip","title","pickerStyle","width","onEmojiClick","emojiObject","uri","taskAudio","Sidebar","getUrl","window","location","setClick","explore1","setExplore1","follow1","setFollow1","profile1","setProfile1","chat1","setChat1","notifi1","setNotifi1","notiCounter","setNotiCounter","notify","setNotify","onSnapshot","docs","href","HomeIcon","SearchIcon","NotificationsActiveIcon","NotificationsIcon","MailOutlineIcon","AccountCircleIcon","variant","fullWidth","signOut","Feed","posts","setPosts","feedData","setFeedData","likersPostsId","setLikersPostsId","likersPosts","setLikersPosts","liker1","newArray2","Widgets","searchContent","setSearchContent","output","setOutput","show","setShow","hashtrends","setHashtrends","hashTrends","dataTrendsExplore","refresh","setRefresh","OpenTrendExplore","Login","email","setEmail","password","setPassword","open","setOpen","newemail","signInWithEmailAndPassword","userCredential","useruser","collectionGroup","Explore","searchPosts","setSearchPosts","widgetTrends","setWidgetTrends","newolddata","searchHash1","ChatOptie","name1","name2","addNewChat","messages","setMessages","roomName","setRoomName","AddnewChat","handleNewchat","senderUsername","receiverUsername","ChatPage","Chat","input","setInput","seed","setSeed","roomId","toDate","toUTCString","serverTimestamp","Followers","volgersData","setVolgersData","volgers","setVolgers","Following","volgendData","setVolgendData","volgend","setVolgend","EditProfile","bio","setBio","childPath","newbio","Notifications","notis","setNotis","newNotis","setNewNotis","newData","newtimestamp","followUsername","Register","setUsername","createUserWithEmailAndPassword","newuser","following","followers","sendEmailVerification","ProfileLikes","feedposts","setFeedPosts","doc3","ProfileMain","profileMain","setProfileMain","poster","userfollowing","setUserfollowing","postsOrLiked","SetPostsOrLiked","floading","setFloading","followingNUM","setFollowingNUM","followersNUM","setFollowersNUM","handleFollow","fuserId","PostPop","nam","setPost","setComments","tok","ForgotPassword","sendPasswordResetEmail","Reset","App","setLoaded","onAuthStateChanged","authUser","path","exact","state","action","ReactDOM","render","StrictMode"],"mappings":"qwBA0BeA,MAvBf,YAAiD,IAAzBC,EAAwB,EAAxBA,OAAOC,EAAiB,EAAjBA,MAAMC,EAAW,EAAXA,KAAKC,EAAM,EAANA,KAAM,EACnBC,oBAAS,GADU,mBACvCC,EADuC,KAC/BC,EAD+B,KAS5C,OANFC,qBAAU,WACPN,GACDK,GAAW,KAEX,IAGI,sBAAKE,UAAS,wBAAmBR,GAAS,yBAA1C,UACGK,EACD,cAACF,EAAD,CAAMM,UAAU,UAChB,cAACN,EAAD,IAGA,6BAAKD,Q,kDCjBFQ,EAAaC,0BAEbC,EAAc,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAAQC,EAAV,EAAUA,aAAaC,EAAvB,EAAuBA,SAAvB,OACvB,cAACL,EAAaM,SAAd,CAAuBC,MAAOC,qBAAWL,EAAQC,GAAjD,SACCC,KAGQI,EAAc,kBAAIC,qBAAWV,I,QCiBlCW,EAFYC,IAASC,cArBN,CACnBC,OAAQ,0CACRC,WAAY,qCACZC,YAAa,4EACbC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAeIC,YACfC,EAAKX,IAASW,OACdC,EAAUZ,IAASY,U,+JCeZC,MArCf,YAAoD,IAAjCjC,EAAgC,EAAhCA,KAAKkC,EAA2B,EAA3BA,SAASC,EAAkB,EAAlBA,OAAOC,EAAW,EAAXA,SACpC,OACI,sBAAK9B,UAAU,UAAf,UACG,qBAAKA,UAAU,eAAf,SAEK,cAAC,IAAD,CAAM+B,GAAE,mBAAcH,GAAtB,SACCC,EAED,qBAAKG,IAAKH,EAAQ7B,UAAU,uBAC3B,cAACiC,EAAA,EAAD,CAAQjC,UAAU,qBAAqBgC,IAAI,SAKxD,qBAAKhC,UAAU,aAAf,SACE,sBAAKA,UAAU,eAAf,UACM,qBAAKA,UAAU,mBAAf,SACC,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,sBAAhB,UACA8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,gBADtC,IAEC4B,UAMZ,qBAAK5B,UAAU,0BAAf,SACM,4BAAIN,e,wBC8bDwC,MA9cf,YAA6H,EAAxGC,OAAyG,IAAlGC,EAAiG,EAAjGA,MAAMC,EAA2F,EAA3FA,MAAMC,EAAqF,EAArFA,SAASC,EAA4E,EAA5EA,OAAOX,EAAqE,EAArEA,SAASC,EAA4D,EAA5DA,OAAOC,EAAqD,EAArDA,SAASpC,EAA4C,EAA5CA,KAAK8C,EAAuC,EAAvCA,MAAMC,EAAiC,EAAjCA,QAAQC,EAAyB,EAAzBA,MAAMC,EAAmB,EAAnBA,UAAUC,EAAS,EAATA,OAAS,EACnGhD,oBAAS,GAD0F,mBACnHiD,EADmH,KAC7GC,EAD6G,OAEjGlD,mBAASyC,GAFwF,mBAEnHU,EAFmH,KAE5GC,EAF4G,OAGnFpD,oBAAS,GAH0E,mBAGnHqD,EAHmH,KAGrGC,EAHqG,OAIzFtD,mBAAS,IAJgF,mBAInHuD,EAJmH,KAIxGC,EAJwG,OAKvEzC,IALuE,0BAKlH0C,EALkH,EAKlHA,KAAKC,EAL6G,EAK7GA,QAL6G,KAKrGC,OALqG,EAK9FC,YAL8F,KAMvG5D,mBAAS,KAN8F,oCAO3FA,mBAAS,KAPkF,qBAOnH6D,GAPmH,MAOzGC,GAPyG,SAQ3F9D,oBAAS,GARkF,qCASrFA,oBAAS,IAT4E,qBASnH+D,GATmH,MAStGC,GATsG,SAUrFhE,mBAAS,IAV4E,qBAUnHiE,GAVmH,MAUtGC,GAVsG,SAWvFlE,oBAAS,GAX8E,qBAWlHmE,GAXkH,MAWtGC,GAXsG,SAYrFpE,oBAAS,GAZ4E,qBAYlHqE,GAZkH,MAYrGC,GAZqG,SAalGtE,mBAAS,GAbyF,qBAalHuE,GAbkH,MAa5GC,GAb4G,MAerHC,GAAO,EAqCftE,qBAAU,WACN,IAAIuE,GAAe,EAiBf,OAfFlC,GACDvB,EAAG0D,WAAW,YAAYC,QAAQ,YAAY,QAAQC,MAAM,QAAS,KAAMrC,GAC3EsC,MACAC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAChBR,GAEFZ,IAAa,SAACqB,GACd,IAAMC,EAAK,CAACC,IAAIH,EAAIE,OAAOC,IAAIC,QAAQJ,EAAIE,OAAOE,QAAQtD,SAASkD,EAAIE,OAAOpD,UAElEuD,EAAQJ,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIG,UAAUF,EAAKE,WAEnD,MAAM,GAAN,mBAAUC,GAAV,CAAiBH,aAEvBK,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MACzB,kBAAMhB,GAAe,KAC9B,CAACnB,IAEH,IAAMsC,GAAW,SAACC,GACbA,EAAEC,kBACND,EAAEE,iBAGI/C,IACCG,EAAUD,EAAO,GACdD,GAAS,GACZjC,EAAG0D,WAAW,SAASO,IAAvB,UAA8BxB,EAAQ1B,SAAtC,uBAA6DQ,IAASyD,SAASlB,MAAK,WAC5FY,QAAQC,SACTH,OAAM,SAACC,GACNC,QAAQD,MAAM,4BAA6BA,MAG/CzE,EAAG0D,WAAW,SAASO,IAAvB,UAA8B1C,IAAS0D,OAAO,CAC1CzD,MAAMvB,IAASU,UAAUuE,WAAWC,WAAW,KAAKX,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAE/EzE,EAAG0D,WAAW,SAASO,IAAIlD,GAAU2C,WAAW,iBAAiBE,MAAM,iBAAiB,KAAKrC,GAAOsC,MAAMC,MAAK,SAACsB,GAC5GA,EAAMpB,SAAQ,SAACC,GACRjE,EAAG0D,WAAW,SAASO,IAAIlD,GAAU2C,WAAW,iBAAiBO,IAAIA,EAAIoB,IAAIL,SAASlB,MAAK,WACtGY,QAAQC,SACTH,OAAM,SAACC,GACNC,QAAQD,MAAM,4BAA6BA,aAOnCzC,IACAG,EAAUD,EAAO,GAChBD,GAAS,GACtBjC,EAAG0D,WAAW,SAASO,IAAvB,WAA+BxB,EAAQ1B,SAAvC,uBAA8DQ,IAAS+D,IAAI,CAC1DC,OAAOhE,EACPiE,WAAU,IAAIC,MAAOC,UAAUC,aAChC7B,MAAK,WACjBY,QAAQC,IAAI,mCACbH,OAAM,SAACC,GACNC,QAAQD,MAAM,0BAA2BA,MAE7CzE,EAAG0D,WAAW,SAASO,IAAvB,UAA8B1C,IAAS0D,OAAO,CAC1CzD,MAAMvB,IAASU,UAAUuE,WAAWC,UAAU,KAAKX,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAE3E1D,GAAW0B,EAAQ1B,UACtBf,EAAG0D,WAAW,SAASO,IAAIlD,GAAU2C,WAAW,iBAAiBkC,IAAI,CACjE5D,OAAM,EACN6D,cAAcpD,EAAQ1B,SACtBC,OAAOyB,EAAQqD,SACfC,WAAU,IAAIN,MAAOC,UAAUC,WAC/BJ,OAAOhE,EACP6C,IAAI4B,KAAKC,SAASN,SAAS,IAC3BO,MAAK,EACL3E,MAAM,KAEPuC,MAAK,SAACqC,GACDnG,EAAG0D,WAAW,SAASO,IAAIlD,GAAU2C,WAAW,iBAAiBO,IAAIkC,EAAOd,IAAIJ,OAAO,CAAC,MAAQkB,EAAOd,QAExGb,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAmLlC,OAjKJvF,qBAAU,WAGFuD,GAASlB,GACjBvB,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,cAAcO,IAAI1C,GAAOsC,MAAMC,MAAK,SAAAG,GAErFA,EAAImC,OACHnE,GAAS,GAGTA,GAAS,MAEduC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAG5B,CAACzC,IA8FH9C,qBAAU,WACN,IAAIuE,GAAe,EAoBtB,OAlBEjB,GAAMjB,GAAOkC,IAChBzD,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,YAAYO,IAAI1C,GAAOsC,MAAMC,MAAK,SAACG,GACpFA,EAAImC,OACHjD,IAAc,GAIdA,IAAc,MAEtBnD,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,oBAAoBO,IAAI1C,GAAOsC,MAAMC,MAAK,SAACG,GAC5FA,EAAImC,OACH/C,IAAe,GAIfA,IAAe,OAGf,kBAAMI,GAAe,KAC3B,CAACjB,EAAKM,KAER5D,qBAAU,WACJ,IAAIuE,GAAe,EAErB4C,EAAMrD,GAAasD,OAEvB,GAAG7C,EAAa,CAChB,IAAI,IAAI8C,EAAI,EAAGA,GAAKF,EAAKE,IACA,KAAnBvD,GAAauD,IAEZ/C,KAKP,GADAD,GAASC,IACNA,GAAO,IAAI,CACV,IAAIgD,EAAgBxD,GACpBwD,EAAgBA,EAAgBC,QAAhB,UAA2BD,EAAgBA,EAAgBF,OAAQ,IAAK,IACxFrD,GAAgBuD,IAGpB,OAAO,kBAAM/C,GAAe,KAGtB,CAACT,KAMC,sBAAK7D,UAAU,eAAf,UAEJ,sBAAKA,UAAS,+BAA0B4C,GAAQ,gCAAhD,UACI,8BACJ,eAAC2E,EAAA,EAAD,CAAaC,QAlLO,SAAC9B,GAChBA,EAAEC,kBACND,EAAEE,iBAGI1C,GADDD,IA8KN,cAAuC,cAAC,IAAD,SAEvC,8BAAMX,OAGP,sBAAKtC,UAAS,+BAA0B4C,GAAQ,gCAAhD,UACOmB,IAAYE,GAClB,cAACsD,EAAA,EAAD,CAAYE,MAAO,CAACC,MAAM,SAA1B,SAAoC,cAAC,IAAD,MACpC,cAACH,EAAA,EAAD,CAAaC,QA7JE,SAAC9B,GACfA,EAAEC,kBACFD,EAAEE,iBAEHhC,IAAgB,IAyJhB,SAAoC,cAAC,IAAD,MACpC,4BAAIrB,OAEJ,sBAAKvC,UAAU,uBAAf,UACC6C,EAAO,cAAC0E,EAAA,EAAD,CAAYE,MAAO,CAACC,MAAM,OAAQF,QAAS/B,GAA3C,SACG,cAAC,IAAD,MACH,cAAC8B,EAAA,EAAD,CAAYC,QAAS/B,GAArB,SAAiC,cAAC,IAAD,MACvC1C,EAAO,KACT,4BAAIA,IACFA,EAAO,KACT,8BAAIA,EAAO,IAAX,UAQA,qBAAK/C,UAAU,0BAAf,SACCiD,EACA,sBAAKjD,UAAU,WAAf,UACI,wBAAQwH,QAAS,SAAC9B,GACdA,EAAEC,kBACDD,EAAEE,iBACH1C,GAAiB,MAClB,oBAAIlD,UAAU,yBAAd,sBACA,qBAAKA,UAAU,iBAAf,SACCyD,GAAUkE,KAAI,SAAAC,GAAG,OACrB,cAAC,EAAD,CAAuBlI,KAAMkI,EAAI1C,QAAStD,SAAUgG,EAAIhG,SAAUC,OAAQyB,EAAQqD,SAAU7E,UAAQ,GAAtF8F,EAAI3C,UAOf,qBAAKjF,UAAU,mBAAf,SACK,uBAAM6H,SArVG,SAACnC,GACtBA,EAAEC,kBACFD,EAAEE,iBAEP/E,EAAG0D,WAAW,YAAYkC,IAAI,CAC7BvB,QAAQ/B,EACRhB,OAAOkB,EAAKyE,IACZlG,SAAS0B,EAAQ1B,SACjBC,OAAOyB,EAAQqD,SACfvE,MAAMA,EACNwE,WAAU,IAAIN,MAAOC,UAAUC,WAC/BvB,IAAI4B,KAAKC,SAASN,SAAS,MAEzBnB,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3BlC,EAAc,IAEdvC,EAAG0D,WAAW,SAASO,IAAIlD,GAAU2C,WAAW,iBAAiBkC,IAAI,CACjEsB,gBAAgBzE,EAAQ1B,SACxBC,OAAOyB,EAAQqD,SACfzB,QAAQ/B,EACRyD,WAAU,IAAIN,MAAOC,UAAUC,WAC/BJ,OAAOhE,EACN6C,IAAI4B,KAAKC,SAASN,SAAS,IAC3BO,MAAK,EACL3E,MAAM,KAERuC,MAAK,SAACqC,GACAnG,EAAG0D,WAAW,SAASO,IAAIlD,GAAU2C,WAAW,iBAAiBO,IAAIkC,EAAOd,IAAIJ,OAAO,CAAC,MAAQkB,EAAOd,QAExGb,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MACnCzE,EAAG0D,WAAW,SAASO,IAAI1C,GAAO0D,OAAO,CACrCxD,SAASxB,IAASU,UAAUuE,WAAWC,UAAU,MAsTvC,UACD,uBAAOgC,KAAK,OAAOvH,MAAO0C,EAAY8E,SAAU,SAACvC,GAC7CA,EAAEC,kBACFD,EAAEE,iBACFxC,EAAcsC,EAAEwC,OAAOzH,UAC3B,cAAC0H,EAAA,EAAD,CAASH,KAAK,SAAd,0BAMP,0BAIJrE,IAAc,qBAAK3D,UAAU,iBAAf,SACV,sBAAKA,UAAU,cAAf,UACI,cAACuH,EAAA,EAAD,CAAaC,QAAS,SAAC9B,GACnBA,EAAEC,kBACFD,EAAEE,iBACFhC,IAAgB,IAAQ5D,UAAU,sBAHtC,SAIL,cAAC,IAAD,MAEJ,iCAEI,sBAAKA,UAAU,kBAAf,UACE,cAACiC,EAAA,EAAD,CAAQD,IAAKsB,EAAQqD,gBAEXyB,GAAT3F,GACD,uBAEAwF,SAAU,SAACvC,GACPA,EAAEC,kBACFD,EAAEE,iBACF9B,GAAgB4B,EAAEwC,OAAOzH,QAC7BA,MAAOoD,GACNwE,YAAY,8BACbL,KAAK,iBAEMI,GAAT3F,GACF,oBAAIzC,UAAU,UAAd,UAAyBmE,GAAzB,UACV,sBAAKnE,UAAU,wBAAf,UAEQ,qBAAKA,UAAU,sBAAf,SACG,cAAC,IAAD,CAAM+B,GAAE,mBAAcH,GAAtB,SACDC,EAEM,qBAAKG,IAAKH,EAAQ7B,UAAU,8BAC3B,cAACiC,EAAA,EAAD,CAAQjC,UAAU,4BAA4BgC,IAAI,SAI3D,sBAAKhC,UAAU,2BAAf,UACJ,sBAAKA,UAAU,mCAAf,UACA,qBAAKA,UAAU,+CAAf,SACI,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,kDAAhB,UACK8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,4CAD3C,IAEM4B,UAOd,qBAAK5B,UAAU,sDAAf,SACI,4BAAIN,SAKP8C,GACD,qBAAKxC,UAAU,wCAAuCgC,IAAKQ,EAAO8F,IAAI,KACrE5F,GAAO,uBAAO1C,UAAU,SAASuI,UAAQ,EAACvG,IAAKU,UAK1C,qBAAK1C,UAAU,mBAAf,SACI,qBAAKA,UAAU,wBAAf,SACA,cAACmI,EAAA,EAAD,CACNX,QA3QY,SAAC9B,GAChBA,EAAEC,kBACFD,EAAEE,iBAEH/B,GAQ2CnB,EA8BtCA,IAAQC,IACb9B,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,oBAAoBO,IAAI1C,GAAO+D,IAAI,CACpFqC,qBAAqBpG,IAE5BvB,EAAG0D,WAAW,SAASkC,IAAI,CAE3B9D,UAAUW,EAAQ1B,SAClB6G,MAAM5E,GACN6E,QAAQpF,EAAQqD,SAChB/E,SAASA,EACLO,OAAOkB,EAAKyE,IACZhG,UAAS,EACTpC,KAAKA,EACLmC,OAAOA,EACPwE,WAAU,IAAIC,MAAOC,UAAUC,WAC/BnE,MAAM,EACNC,SAAS,EACTC,OAAO,EACPH,MAAM,GACNuG,SAAQ,EACRjG,MAAMA,IAIXiC,MAAK,SAACqC,GACGnG,EAAG0D,WAAW,SAASO,IAAIkC,EAAOd,IAAIJ,OAAO,CACzC1D,MAAM4E,EAAOd,QAG1Bb,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QA1D1BzE,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,oBAAoBO,IAAI1C,GAAO+D,IAAI,CACpFqC,qBAAqBpG,IAE5BvB,EAAG0D,WAAW,SAASkC,IAAI,CAE3B9D,UAAUW,EAAQ1B,SAClB6G,MAAM5E,GACN6E,QAAQpF,EAAQqD,SAChB/E,SAASA,EACLO,OAAOkB,EAAKyE,IACZhG,UAAS,EACTpC,KAAKA,EACLmC,OAAOA,EACPW,MAAMA,EACN6D,WAAU,IAAIC,MAAOC,UAAUC,WAC/BnE,MAAM,EACNC,SAAS,EACTC,OAAO,EACPH,MAAM,GACNuG,SAAQ,IAIbhE,MAAK,SAACqC,GACGnG,EAAG0D,WAAW,SAASO,IAAIkC,EAAOd,IAAIJ,OAAO,CACzC1D,MAAM4E,EAAOd,QAG1Bb,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OApC9BzE,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,YAAYO,IAAI1C,GAAO+D,IAAI,CAC/E/D,MAAMA,EACNO,UAAUW,EAAQ1B,SAClByE,WAAU,IAAIC,MAAOC,UAAUC,WAC/BrE,OAAOmB,EAAQnB,SAGhBkD,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MA+DtBzE,EAAG0D,WAAW,SAASO,IAAI1C,GAAO0D,OAAO,CACrCvD,OAAOzB,IAASU,UAAUuE,WAAWC,UAAU,KAI3DpC,IAAgB,IA4LRoE,KAAK,SACJhI,UAAU,wBAHL,oC,kCCstBC4I,MA5oCf,YA8BG,IAmCUC,EAEAC,EAlERpG,EA6BH,EA7BGA,MACDN,EA4BF,EA5BEA,MACAD,EA2BF,EA3BEA,OACAP,EA0BF,EA1BEA,SACAE,EAyBF,EAzBEA,SACApC,EAwBF,EAxBEA,KACA8C,EAuBF,EAvBEA,MACAX,EAsBF,EAtBEA,OACAwE,EAqBF,EArBEA,UACAhE,EAoBF,EApBEA,MACAC,EAmBF,EAnBEA,SACAC,EAkBF,EAlBEA,OACAE,EAiBF,EAjBEA,QACAsG,EAgBF,EAhBEA,QACAC,EAeF,EAfEA,QACAC,EAcF,EAdEA,QACAC,EAaF,EAbEA,OACAC,EAYF,EAZEA,OACAC,EAWF,EAXEA,OACAC,EAUF,EAVEA,OACA1G,EASF,EATEA,UACA8F,EAQF,EAREA,MAEAa,GAMF,EAPEZ,QAOF,EANEY,UACAC,EAKF,EALEA,WACAC,EAIF,EAJEA,MACAC,EAGF,EAHEA,eAGF,KAFE7G,OAGsDjC,KADxD,0BACc0C,EADd,EACcA,KAAKC,EADnB,EACmBA,QADnB,KAC2BC,OAD3B,EACkCmG,WADlC,KAE+B9J,mBAAS,KAFxC,mBAEoB+J,GAFpB,aAG+B/J,oBAAS,GAHxC,mBAGagK,EAHb,cAI6BhK,oBAAS,IAJtC,qBAIaiK,GAJb,MAImBC,GAJnB,SAK8BlK,oBAAS,GALvC,qBAKcmK,GALd,MAKoBC,GALpB,SAM8BpK,oBAAS,GANvC,qBAMcqK,GANd,MAMoBC,GANpB,SAO8BtK,oBAAS,GAPvC,qBAOcuK,GAPd,MAOoBC,GAPpB,SAQ8BxK,oBAAS,GARvC,qBAQcyK,GARd,MAQoBC,GARpB,SASsC1K,oBAAS,GAT/C,qBASc2K,GATd,MASwBC,GATxB,SAUmC5K,mBAAS,IAV5C,qBAUsB6K,IAVtB,gBAW0C7K,oBAAS,GAXnD,qBAW0B8K,IAX1B,aAYaC,GAAWzB,EAAOC,EAAOC,EAAOC,EAZ7C,GAa+BzJ,mBAASF,GAbxC,qBAaakL,GAbb,gBAckChL,mBAAS6I,IAd3C,qBAccoC,GAdd,gBAeiCjL,mBAAS,KAf1C,qCAgB4BA,oBAAS,IAhBrC,qBAiBakL,IAjBb,YAiBqBC,eAjBrB,GAkBoCnL,mBAAS,IAlB7C,qBAkBcoL,GAlBd,MAkBuBC,GAlBvB,SAmBuCrL,mBAAS,IAnBhD,qBAmBesL,GAnBf,gBAqBkCtL,mBAAS,KArB3C,qBAqBcuL,GArBd,MAqBsBC,GArBtB,SAsBoCxL,mBAAS,IAtB7C,qBAsBcyL,GAtBd,MAsBuBC,GAtBvB,SAuB8B1L,oBAAS,GAvBvC,qCAwBkCA,mBAASyG,IAxB3C,qBAwBckF,GAxBd,gBAyBqC3L,mBAAS2J,IAzB9C,qBAyBeiC,GAzBf,gBA0BsC5L,mBAAS6J,IA1B/C,qBA0BgBgC,GA1BhB,gBA2BkC7L,mBAAS,KA3B3C,qBA2Bc8L,GA3Bd,MA2BsBC,GA3BtB,MA4BaC,GAAQ/E,KAAKgF,MAAO3C,EAAOyB,GAAY,KACvCmB,GAAQjF,KAAKgF,MAAO1C,EAAOwB,GAAY,KACrCoB,GAAQlF,KAAKgF,MAAOzC,EAAOuB,GAAY,KACtCqB,GAAQnF,KAAKgF,MAAOxC,EAAOsB,GAAY,KAazD5K,qBAAU,WACN,IAAIkM,EAAYrB,GAEhBsB,EAAO,UAAUC,KAAKF,GAI1B,GAAW,MAARC,EAAa,CAChB,IAAIE,EAAQF,EAAO,GAAGG,MAAM,KACxBC,GAAK,EAETF,EAAQvH,SAAQ,SAAS0H,GAClBD,EAAI,EACHA,IAGFlB,GADAtC,EAAKyD,MAOT1D,EAAQoD,EAAY3E,QAAQ,UAApB,kCAA+D4E,EAA/D,mBAKT,IAAIM,EAAMC,SAASC,eAAe,YAEtB,MAAT7D,IACH2D,EAAMG,UAAU9D,EAEhBoC,GAAYpC,OAGF,IAEF9I,qBAAU,WACN,IAAIuE,GAAe,EAC5BsI,EAASH,SAASC,eAAe,UAErC,OAAW,MAARE,GAActI,GAEjBsI,EAAOC,iBAAiB,QAAQC,IACzB,WAEKF,EAAOG,oBAAoB,QAAQD,MAIxC,kBAAMxI,GAAe,MAGnB,IAAMwI,GAAe,SAACpH,GAE7BA,EAAEsH,2BACCtH,EAAEE,iBAGLkF,GAAQmC,KAAR,mBAAyB9B,MAQlBpL,qBAAU,WACN,IAAIuE,GAAe,EACnB,GAAGmE,GAAOnE,EAAa,CAC3B,IAAI2H,EAAYpB,GACrBqC,EAAQ,UAAUf,KAAKF,GAC3B,GAAY,MAATiB,EAAc,CACjB,IAAId,EAAQc,EAAQ,GAAGb,MAAM,KACzBC,GAAK,EAETF,EAAQvH,SAAQ,SAAS0H,GAClBD,EAAI,EACHA,KAEIC,EACNjB,GAAYxC,OAMhBD,EAAQoD,EAAY3E,QAAQ,UAApB,mCAAgE4F,EAAhE,mBAECT,SAASC,eAAe,aAC/BS,GAMJ,OAAO,kBAAM7I,GAAe,KACjB,IAEDvE,qBAAU,WACP,IAAIuE,GAAe,EAC5B8I,EAAUX,SAASC,eAAe,WAEtC,OAAY,MAATU,GAAe9I,GAElB8I,EAAQP,iBAAiB,SAASQ,IAC3B,WAEKD,EAAQL,oBAAoB,SAASM,MAI1C,kBAAM/I,GAAe,MAGnB,IAAM+I,GAAgB,SAAC3H,GAE9BA,EAAEsH,2BACCtH,EAAEE,iBAGLkF,GAAQmC,KAAR,mBAAyB5B,MAU3BtL,qBAAU,WACN,IAAIuE,GAAe,EAgBd,OAfLzD,EAAG0D,WAAW,SAASO,IAAvB,UAA8B3C,IAAUuC,MAAMC,MAAK,SAACI,GAAD,OAC9CT,EACAqF,EAAU5E,EAAIC,QAAQ,QACxBK,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,QACnDjC,EACCxC,EAAG0D,WAAW,SAASO,IAAvB,UAA8BzB,EAAKyE,MAAOpD,MAAMC,MAAK,SAACI,GAAD,OACpDT,EACDmG,GAAY1F,EAAIC,QAAQ,QAClBK,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,QACrDC,QAAQC,IAAI,WACd8H,YAAW,WACJhJ,EACHwF,IAAS,GACHvE,QAAQC,IAAI,WAChB,KACF,kBAAMlB,GAAe,KAC3B,CAACsF,IAEX7J,qBAAU,WACV,IAAIuE,GAAe,EAKnB,OAJG3B,GAAW2B,EAEVoG,IAAe,GACVpG,EAAcoG,IAAe,GAAYnF,QAAQC,IAAI,SACvD,kBAAMlB,GAAe,KAC1B,IAIFvE,qBAAU,YAENgK,IAAOE,IAAOE,IAAOE,KAAQE,IAAWjH,EAAQ1B,UAAUQ,IACvD2H,IACPlJ,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,SAASO,IAAI1C,GAAO+D,IAAI,CAC5EoH,KAAKnL,EACLK,QAAQsH,GACRnI,SAAS0B,EAAQ1B,WAGlByD,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3B2E,IACHpJ,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,SAASO,IAAI1C,GAAO+D,IAAI,CAC5EoH,KAAKnL,EACL2G,QAAQkB,GACPrI,SAAS0B,EAAQ1B,WAEnByD,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3B6E,IACHtJ,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,SAASO,IAAI1C,GAAO+D,IAAI,CAC5EoH,KAAKnL,EACL4G,QAAQmB,GACPvI,SAAS0B,EAAQ1B,WAEnByD,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC3B+E,IACHxJ,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,SAASO,IAAI1C,GAAO+D,IAAI,CAC5EoH,KAAKnL,EACL6G,QAAQoB,GACRzI,SAAS0B,EAAQ1B,WAGlByD,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAG1ByE,IAAOE,IAAOE,IAAOE,KAAQE,IAAWjH,EAAQ1B,WACjDmI,IACHlJ,EAAG0D,WAAW,SAASO,IAAI1C,GAAO0D,OAAO,CACrCoD,OAAOpI,IAASU,UAAUuE,WAAWC,UAAU,KAGhDiE,IACHpJ,EAAG0D,WAAW,SAASO,IAAI1C,GAAO0D,OAAO,CACrCqD,OAAOrI,IAASU,UAAUuE,WAAWC,UAAU,KAGhDmE,IACHtJ,EAAG0D,WAAW,SAASO,IAAI1C,GAAO0D,OAAO,CACrCsD,OAAOtI,IAASU,UAAUuE,WAAWC,UAAU,KAGhDqE,IACHxJ,EAAG0D,WAAW,SAASO,IAAI1C,GAAO0D,OAAO,CACrCuD,OAAOvI,IAASU,UAAUuE,WAAWC,UAAU,QAKjD,CAAC+D,GAAME,GAAME,GAAME,KAErBtK,qBAAU,WACP,IAAKuE,GAAa,EA4BjB,OA3BGjB,GAAMZ,GAASa,EAAQ1B,UAAUQ,GAExCvB,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,SAASO,IAAI1C,GAAOsC,MAAMC,MAAK,SAACG,GAEjFA,EAAImC,QAAQ3C,GACRQ,EAAIE,OAAOvC,SAEVuH,IAAS,GAEVlF,EAAIE,OAAO+D,SACXmB,IAAS,GAGTpF,EAAIE,OAAOgE,SACVoB,IAAS,GAGVtF,EAAIE,OAAOiE,SACVqB,IAAS,IAGRhG,EACLkG,IAAa,GACPjF,QAAQC,IAAI,0BACvBH,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,QAG5C,kBAAMhB,GAAe,KAC9B,CAACjB,EAAKC,EAAQ1B,WAGhB,IAAM4L,GAAW,SAAC9H,GACbA,EAAEC,kBACFD,EAAEE,iBACFkF,GAAQmC,KAAR,mBAAyBrL,KAExB6L,GAAY,SAAC/H,GACdA,EAAEC,kBACFD,EAAEE,iBACFkF,GAAQmC,KAAR,mBAAyBtK,KAuDzB,OA/CC5C,qBAAU,WACN,IACI2N,EADCpJ,GAAa,EAGnBoJ,EADIlC,KAEMD,IAGCE,IAGZ,IAEGkC,IAFO,IAAIrH,MAAOC,UAAUC,WAEZkH,GAAO,IAC9BC,EAAO9G,KAAK+G,IAAI/G,KAAKgH,MAAMF,IAE3B,IASIG,EATAC,EAAOlH,KAAKgH,MAAMF,EAAK,OACvBK,EAAUL,EAAc,GAAPI,EAAU,GAAG,GAE9BE,EAAMpH,KAAKgH,MAAMG,EAAQ,MAGzBE,GAFAF,EAAUA,EAAgB,GAANC,EAAS,GAEvBpH,KAAKgH,MAAMG,EAAS,KAC1BA,GAA0B,GAANE,EAiB1B,OAbDJ,EADMC,EAAK,GAAGE,EAAI,GAAGC,EAAI,EACjB,IAAD,OAAKF,EAAL,KAEID,EAAK,GAAGE,EAAI,EACP,GAAD,OAAIC,EAAJ,KAEJH,EAAK,EACL,GAAD,OAAIE,EAAJ,KAEK,GAAD,OAAIF,EAAJ,KAERzJ,EACNqH,GAAWmC,GACFvI,QAAQC,IAAI,wCACb,kBAAMlB,GAAe,KACtB,IAMC3B,GAAY8F,GAAQhG,GAAUC,GAAQ4G,GAAWE,GA6DnD/G,GAAUC,GAAQ4G,GAAWb,GAAQe,GAgLpCF,IAAUE,GAAS9G,GAAQD,GAAUgG,EAyEtC/F,IAAQC,EACT,sBAAKuD,GAAG,YAAYsB,QAAS,SAAC9B,GAEF,OAA3BA,EAAEwC,OAAOiG,QAAQ,SAChBrD,GAAQmC,KAAR,gBAAsBrL,EAAtB,YAAkCQ,KAEnCpC,UAAU,OALX,UAMF,qBAAKA,UAAU,eAAf,SAEa6B,EAED,qBAAK2F,QAASgG,GAAWxL,IAAKH,EAAQ7B,UAAU,uBAC/C,cAACiC,EAAA,EAAD,CAAQuF,QAASgG,GAAYxN,UAAU,qBAAqBgC,IAAI,OAI7E,sBAAKhC,UAAU,aAAf,UACE,sBAAKA,UAAU,eAAf,UACM,qBAAKA,UAAU,mBAAf,SACC,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,sBAAhB,UACA8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,gBADtC,IAEC4B,EACF,cAAC,IAAD,CAAuB6F,MAAO,CAAC2G,SAAS,QAAQC,WAAW,SAAW3C,WAMhF,sBAAK1L,UAAU,0BAAf,UACM,mBAAGkG,GAAG,cACP8E,IAAW,4BAAItL,UAKtB,uBAAOM,UAAU,QAAQuI,UAAQ,EAACvG,IAAKU,IAErCW,GAAMwG,GACZ,cAAC,EAAD,CAAY1H,OAAQA,EAAQC,MAAOA,EAAOC,MAAOA,EAAMC,SAAUA,EAASC,OAAQA,EAAQX,SAAUA,EAAUC,OAAQA,EAAQC,SAAUA,EAASpC,KAAMA,EAAK8C,MAAOA,EAAMC,QAASA,EAAQC,MAAOA,EAAQE,QAAM,IAC9M,8BAKMH,GAAS6G,EAGP,sBAAKpD,GAAG,YAAYsB,QAAS,SAAC9B,GAEL,OAA3BA,EAAEwC,OAAOiG,QAAQ,SAChBrD,GAAQmC,KAAR,gBAAsBrL,EAAtB,YAAkCQ,KAEnCpC,UAAU,mBALR,UAOD,sBAAKA,UAAU,kBAAf,UACJ,cAAC,IAAD,IACC2C,EAFG,oBAIR,sBAAK3C,UAAU,OAAf,UACI,qBAAKA,UAAU,eAAf,SAEa6B,EAED,qBAAK2F,QAASgG,GAAWxL,IAAKH,EAAQ7B,UAAU,uBAC/C,cAACiC,EAAA,EAAD,CAAQuF,QAASgG,GAAYxN,UAAU,qBAAqBgC,IAAI,OAI7E,sBAAKhC,UAAU,aAAf,UACE,sBAAKA,UAAU,eAAf,UACM,qBAAKA,UAAU,mBAAf,SACC,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,sBAAhB,UACA8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,gBADtC,IAEC4B,EACF,cAAC,IAAD,CAAuB6F,MAAO,CAAC2G,SAAS,QAAQC,WAAW,SAAW3C,WAMhF,sBAAK1L,UAAU,0BAAf,UACO,mBAAGkG,GAAG,cACR8E,IAAW,4BAAItL,UAOtB,qBAAKM,UAAU,aAAf,SACM+J,IAAQE,IAAQE,IAAQE,KAAO/G,EAAQ1B,SA8DhD,gCACW,sBAAK5B,UAAU,8BAAf,UACJ,sBAAMA,UAAU,0BAAhB,UACA,6BAAMyC,IACLsH,IAAQ,cAAC,IAAD,CAAgC/J,UAAU,sBAEnD,qBAAKA,UAAU,6BAAf,SACA,6BAAMkJ,SAKL,sBAAKlJ,UAAU,8BAAf,UACD,sBAAMA,UAAU,0BAAhB,UACA,6BAAM+I,IACLkB,IAAQ,cAAE,IAAF,CAAiCjK,UAAU,sBAEpD,qBAAKA,UAAU,6BAAf,SACA,6BAAMmJ,SAKLH,GACD,sBAAKhJ,UAAU,8BAAf,UACA,sBAAMA,UAAU,0BAAhB,UACA,6BAAMgJ,IACLmB,IAAQ,cAAC,IAAD,OAET,qBAAKnK,UAAU,6BAAf,SACA,6BAAMoJ,SAILH,GACD,sBAAKjJ,UAAU,8BAAf,UACA,sBAAMA,UAAU,0BAAhB,UACA,6BAAMiJ,IACLoB,IAAQ,cAAC,IAAD,OAET,qBAAKrK,UAAU,6BAAf,SACA,6BAAMqJ,SAIN,sBAAKrJ,UAAU,mBAAf,0BAAgD2K,SA1GhD,gCACI,sBAAK3K,UAAU,8BAAf,UACJ,qBAAKwH,QAAS,SAAC9B,GACVA,EAAEC,kBACFD,EAAEE,iBACHoE,IAAS,IAAQhK,UAAU,qBAH/B,SAIA,6BAAMyC,MAEN,qBAAKzC,UAAU,6BAAf,SACA,6BAAMkJ,SAKL,sBAAKlJ,UAAU,8BAAf,UACD,qBAAKwH,QAAS,SAAC9B,GACVA,EAAEC,kBACVD,EAAEE,iBACKsE,IAAS,IAAQlK,UAAU,qBAH/B,SAIC,6BAAM+I,MAGP,qBAAK/I,UAAU,6BAAf,SACA,6BAAMmJ,SAMLH,GACD,sBAAKhJ,UAAU,8BAAf,UACA,qBAAKwH,QAAS,SAAC9B,GACVA,EAAEC,kBACVD,EAAEE,iBACKwE,IAAS,IAAQpK,UAAU,qBAH/B,SAIA,6BAAMgJ,MAEN,qBAAKhJ,UAAU,6BAAf,SACA,6BAAMoJ,SAILH,GACD,sBAAKjJ,UAAU,8BAAf,UACA,qBAAKwH,QAAS,SAAC9B,GACVA,EAAEC,kBACVD,EAAEE,iBACK0E,IAAS,IAAQtK,UAAU,qBAH/B,SAIA,6BAAMiJ,MAEN,qBAAKjJ,UAAU,6BAAf,SACA,6BAAMqJ,SAIN,sBAAKrJ,UAAU,mBAAf,0BAAgD2K,cA8DlDtH,GAAMwG,GACZ,cAAC,EAAD,CAAY1H,OAAQA,EAAQC,MAAOA,EAAOC,MAAOA,EAAMC,SAAUA,EAASC,OAAQA,EAAQX,SAAUA,EAAUC,OAAQA,EAAQC,SAAUA,EAASpC,KAAMA,EAAK8C,MAAOA,EAAMC,QAASA,EAAUG,QAAM,IACjM,8BAKMF,GAAOC,IAAY8F,EAClB,sBAAKvC,GAAG,YAAYsB,QAAS,SAAC9B,GAEJ,OAA3BA,EAAEwC,OAAOiG,QAAQ,SAChBrD,GAAQmC,KAAR,gBAAsBrL,EAAtB,YAAkCQ,KAEnCpC,UAAU,mBALT,UAQA,sBAAKwH,QAAS,SAAC9B,GACVA,EAAEC,kBACVD,EAAEE,iBACFkF,GAAQmC,KAAR,mBAAyB3D,KACnBtJ,UAAU,kBAJb,UAKJ,cAAC,IAAD,IACCsJ,EANG,mBAUD,sBAAKtJ,UAAU,OAAf,UACH,qBAAKA,UAAU,eAAf,SAEa6B,EAED,qBAAK2F,QAASgG,GAAWxL,IAAKH,EAAQ7B,UAAU,uBAC/C,cAACiC,EAAA,EAAD,CAAQuF,QAASgG,GAAYxN,UAAU,qBAAqBgC,IAAI,OAI7E,qBAAKhC,UAAU,aAAf,SACE,sBAAKA,UAAU,eAAf,UACM,qBAAKA,UAAU,mBAAf,SACC,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,sBAAhB,UACA8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,gBADtC,IAEC4B,EACF,cAAC,IAAD,CAAuB6F,MAAO,CAAC2G,SAAS,QAAQC,WAAW,SAAW3C,WAMhF,sBAAK1L,UAAU,0BAAf,UACJ,mBAAGkG,GAAG,cACG8E,IAAW,4BAAItL,OAKrB8C,GACD,qBAAKxC,UAAU,YAAWgC,IAAKQ,EAAO8F,IAAI,KAExCjF,GAAMwG,GACZ,cAAC,EAAD,CAAY1H,OAAQA,EAAQC,MAAOA,EAAOC,MAAOA,EAAMC,SAAUA,EAASC,OAAQA,EAAQX,SAAUA,EAAUC,OAAQA,EAAQC,SAAUA,EAASpC,KAAMA,EAAK8C,MAAOA,EAAMC,QAASA,EAAQE,UAAWA,EAAaC,QAAM,IACvN,mCAOMF,GAAOC,GAAW8F,EACjB,sBAAKvC,GAAG,YAAYsB,QAAS,SAAC9B,GAEJ,OAA3BA,EAAEwC,OAAOiG,QAAQ,SAChBrD,GAAQmC,KAAR,gBAAsBrL,EAAtB,YAAkCQ,KAEnCpC,UAAU,OALT,UAMJ,qBAAKA,UAAU,eAAf,SAEa6B,EAED,qBAAK2F,QAASiG,GAAYzL,IAAKH,EAAQ7B,UAAU,uBAChD,cAACiC,EAAA,EAAD,CAAQuF,QAASiG,GAAazN,UAAU,qBAAqBgC,IAAI,OAI9E,sBAAKhC,UAAU,aAAf,UACE,sBAAKA,UAAU,eAAf,UACM,qBAAKA,UAAU,mBAAf,SACC,mCAAM2C,EAAW,GACb,uBAAM3C,UAAU,sBAAhB,UACA8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,gBADtC,IAEC2C,EACF,cAAC,IAAD,CAAuB8E,MAAO,CAAC2G,SAAS,QAAQC,WAAW,SAAW3C,WAMhF,sBAAK1L,UAAU,0BAAf,UACE,mBAAGkG,GAAG,eACHgF,IAAY,4BAAIzC,UAUvB,sBAAKzI,UAAU,SAAf,UACO,qBAAKA,UAAU,eAAf,SAEO6B,EAEF,qBAAK2F,QAASgG,GAAWxL,IAAKH,EAAQ7B,UAAU,uBAC/C,cAACiC,EAAA,EAAD,CAAQuF,QAASgG,GAAYxN,UAAU,qBAAqBgC,IAAI,OAI5E,sBAAKhC,UAAU,eAAf,UACW,sBAAKA,UAAU,eAAf,UACJ,qBAAKA,UAAU,qBAAf,SACC,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,wBAAhB,UACA8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,gBADtC,IAEC4B,UAMZ,sBAAK5B,UAAU,0BAAf,UACQ,mBAAGkG,GAAG,cACT8E,IAAW,4BAAItL,UAKnBgD,GAAO,uBAAO1C,UAAU,SAASuI,UAAQ,EAACvG,IAAKU,UAShDW,GAAMwG,GACZ,cAAC,EAAD,CAAY1H,OAAQA,EAAQC,MAAOA,EAAOC,MAAOA,EAAMC,SAAUA,EAASC,OAAQA,EAAQX,SAAUA,EAAUC,OAAQA,EAAQC,SAAUA,EAASpC,KAAMA,EAAK8C,MAAOA,EAAMC,QAASA,EAAUG,QAAM,IACjM,8BAUM,cAJP,CAIO,OAAKsD,GAAG,YAAYsB,QAAS,SAAC9B,GAEH,OAA3BA,EAAEwC,OAAOiG,QAAQ,SAChBrD,GAAQmC,KAAR,gBAAsBrL,EAAtB,YAAkCQ,KAEnCpC,UAAU,OALV,UAMH,qBAAKA,UAAU,eAAf,SAEa6B,EAED,qBAAK2F,QAASiG,GAAYzL,IAAKH,EAAQ7B,UAAU,uBAChD,cAACiC,EAAA,EAAD,CAAQuF,QAASiG,GAAazN,UAAU,qBAAqBgC,IAAI,OAI9E,sBAAKhC,UAAU,aAAf,UACE,sBAAKA,UAAU,eAAf,UACM,qBAAKA,UAAU,mBAAf,SACC,mCAAM2C,EAAW,GACb,uBAAM3C,UAAU,sBAAhB,cAEC2C,EACF,cAAC,IAAD,CAAuB8E,MAAO,CAAC2G,SAAS,QAAQC,WAAW,SAAW3C,WAMhF,sBAAK1L,UAAU,0BAAf,UACE,mBAAGkG,GAAG,eACHgF,IAAY,4BAAIzC,UAUvB,sBAAKzI,UAAU,SAAf,UACO,qBAAKA,UAAU,eAAf,SAEO6B,EAEF,qBAAK2F,QAASgG,GAAWxL,IAAKH,EAAQ7B,UAAU,uBAC/C,cAACiC,EAAA,EAAD,CAAQuF,QAASgG,GAAYxN,UAAU,qBAAqBgC,IAAI,OAI5E,sBAAKhC,UAAU,eAAf,UACW,sBAAKA,UAAU,eAAf,UACJ,qBAAKA,UAAU,qBAAf,SACC,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,wBAAhB,cAEC4B,UAMZ,sBAAK5B,UAAU,0BAAf,UACQ,mBAAGkG,GAAG,cACT8E,IAAW,4BAAItL,UAKnB8C,GACH,qBAAKxC,UAAU,YAAWgC,IAAKQ,EAAO8F,IAAI,WASxCjF,GAAMwG,GACZ,cAAC,EAAD,CAAY1H,OAAQA,EAAQC,MAAOA,EAAOC,MAAOA,EAAMC,SAAUA,EAASC,OAAQA,EAAQX,SAAUA,EAAUC,OAAQA,EAAQC,SAAUA,EAASpC,KAAMA,EAAK8C,MAAOA,EAAMC,QAASA,EAAUG,QAAM,IACjM,8BAxgBO,sBAAKsD,GAAG,YAAYsB,QAAS,SAAC9B,GAEJ,OAA3BA,EAAEwC,OAAOiG,QAAQ,SAChBrD,GAAQmC,KAAR,gBAAsBrL,EAAtB,YAAkCQ,KAEnCpC,UAAU,mBALT,UAQPsJ,GACO,sBAAK9B,QAAS,SAAC9B,GACVA,EAAEC,kBACVD,EAAEE,iBACFkF,GAAQmC,KAAR,mBAAyB3D,KACnBtJ,UAAU,kBAJb,UAKJ,cAAC,IAAD,IACCsJ,EANG,mBASPE,GAAO,sBAAKhC,QAAS,SAAC9B,GACVA,EAAEC,kBACVD,EAAEE,iBACFkF,GAAQmC,KAAR,mBAAyBzD,KACnBxJ,UAAU,kBAJb,UAKJ,cAAC,IAAD,CAAcsO,OAAQ,CAACF,SAAS,WAC/B5E,EANG,qBAUD,sBAAKxJ,UAAU,OAAf,UACH,qBAAKA,UAAU,eAAf,SAEa6B,EAED,qBAAK2F,QAASgG,GAAWxL,IAAKH,EAAQ7B,UAAU,uBAC/C,cAACiC,EAAA,EAAD,CAAQuF,QAASgG,GAAYxN,UAAU,qBAAqBgC,IAAI,OAI7E,qBAAKhC,UAAU,aAAf,SACE,sBAAKA,UAAU,eAAf,UACM,qBAAKA,UAAU,mBAAf,SACC,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,sBAAhB,UACA8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,gBADtC,IAEC4B,EACF,cAAC,IAAD,CAAuB6F,MAAO,CAAC2G,SAAS,QAAQC,WAAW,SAAW3C,WAMhF,sBAAK1L,UAAU,0BAAf,UACJ,mBAAGkG,GAAG,cACG8E,IAAW,4BAAItL,OAKrB8C,GACD,qBAAKxC,UAAU,YAAWgC,IAAKQ,EAAO8F,IAAI,KAExCjF,GAAMwG,GACZ,cAAC,EAAD,CAAY1H,OAAQA,EAAQC,MAAOA,EAAOC,MAAOA,EAAMC,SAAUA,EAASC,OAAQA,EAAQX,SAAUA,EAAUC,OAAQA,EAAQC,SAAUA,EAASpC,KAAMA,EAAK8C,MAAOA,EAAMC,QAASA,EAAUG,QAAM,IACjM,mCA7OO,cAJA,CAIA,OAAKsD,GAAG,YAAYsB,QAAS,SAAC9B,GAEJ,OAA3BA,EAAEwC,OAAOiG,QAAQ,SAChBrD,GAAQmC,KAAR,gBAAsBrL,EAAtB,YAAkCQ,KAEnCpC,UAAU,OALT,UAMJ,qBAAKA,UAAU,eAAf,SAEa6B,EAED,qBAAK2F,QAASgG,GAAWxL,IAAKH,EAAQ7B,UAAU,uBAC/C,cAACiC,EAAA,EAAD,CAAQuF,QAASgG,GAAYxN,UAAU,qBAAqBgC,IAAI,OAI7E,sBAAKhC,UAAU,aAAf,UACE,sBAAKA,UAAU,eAAf,UACM,qBAAKA,UAAU,mBAAf,SACC,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,sBAAhB,UACA8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,gBADtC,IAEC4B,EACF,cAAC,IAAD,CAAuB6F,MAAO,CAAC2G,SAAS,QAAQC,WAAW,SAAW3C,WAMhF,sBAAK1L,UAAU,0BAAf,UAEK,mBAAGkG,GAAG,cACN8E,IAAW,4BAAItL,UAOtB,qBAAKM,UAAU,aAAf,SACM+J,IAAQE,IAAQE,IAAQE,KAAO/G,EAAQ1B,SA8DhD,gCACW,sBAAK5B,UAAU,8BAAf,UACJ,sBAAMA,UAAU,0BAAhB,UACA,6BAAMyC,IACLsH,IAAQ,cAAC,IAAD,CAAgC/J,UAAU,sBAEnD,qBAAKA,UAAU,6BAAf,SACA,+BAAM4L,GAAN,YAKC,sBAAK5L,UAAU,8BAAf,UACD,sBAAMA,UAAU,0BAAhB,UACA,6BAAM+I,IACN,8BACCkB,IAAQ,cAAE,IAAF,CAAiCjK,UAAU,wBAGpD,qBAAKA,UAAU,6BAAf,SACA,+BAAM8L,GAAN,YAKC9C,GACD,sBAAKhJ,UAAU,8BAAf,UACA,sBAAMA,UAAU,0BAAhB,UACA,6BAAMgJ,IACLmB,IAAQ,cAAC,IAAD,OAET,qBAAKnK,UAAU,6BAAf,SACA,+BAAM+L,GAAN,YAIC9C,GACD,sBAAKjJ,UAAU,8BAAf,UACA,sBAAMA,UAAU,0BAAhB,UACA,6BAAMiJ,IACLoB,IAAQ,cAAC,IAAD,OAET,qBAAKrK,UAAU,6BAAf,SACA,+BAAMgM,GAAN,YAIA,sBAAKhM,UAAU,mBAAf,0BAAgD2K,SA5GhD,gCACI,sBAAK3K,UAAU,8BAAf,UACJ,qBAAKwH,QAAS,SAAC9B,GACVA,EAAEC,kBACFD,EAAEE,iBACHoE,IAAS,IAAQhK,UAAU,qBAH/B,SAIA,6BAAMyC,MAEN,qBAAKzC,UAAU,6BAAf,SACA,+BAAM4L,GAAN,YAKC,sBAAK5L,UAAU,8BAAf,UACD,qBAAKwH,QAAS,SAAC9B,GACVA,EAAEC,kBACVD,EAAEE,iBACKsE,IAAS,IAAQlK,UAAU,qBAH/B,SAIC,6BAAM+I,MAGP,qBAAK/I,UAAU,6BAAf,SACA,+BAAM8L,GAAN,YAMC9C,GACD,sBAAKhJ,UAAU,8BAAf,UACA,qBAAKwH,QAAS,SAAC9B,GACVA,EAAEC,kBACVD,EAAEE,iBACKwE,IAAS,IAAQpK,UAAU,qBAH/B,SAIA,6BAAMgJ,MAEN,qBAAKhJ,UAAU,6BAAf,SACA,+BAAM+L,GAAN,YAIC9C,GACD,sBAAKjJ,UAAU,8BAAf,UACA,qBAAKwH,QAAS,SAAC9B,GACVA,EAAEC,kBACVD,EAAEE,iBACK0E,IAAS,IAAQtK,UAAU,qBAH/B,SAIA,6BAAMiJ,MAEN,qBAAKjJ,UAAU,6BAAf,SACA,+BAAMgM,GAAN,YAIA,sBAAKhM,UAAU,mBAAf,0BAAgD2K,WAgElDtH,GAAMwG,GACZ,cAAC,EAAD,CAAY1H,OAAQA,EAAQC,MAAOA,EAAOC,MAAOA,EAAMC,SAAUA,EAASC,OAAQA,EAAQX,SAAUA,EAAUC,OAAQA,EAAQC,SAAUA,EAASpC,KAAMA,EAAK8C,MAAOA,EAAMC,QAASA,EAAUG,QAAM,IACjM,8BA9ND,cAJQ,CAIR,OAAKsD,GAAG,YAAYsB,QAAS,SAAC9B,GAEI,OAA3BA,EAAEwC,OAAOiG,QAAQ,SAChBrD,GAAQmC,KAAR,gBAAsBrL,EAAtB,YAAkCQ,KAEnCpC,UAAU,OALjB,UAMI,qBAAMA,UAAU,eAAhB,SAGa6B,EAED,qBAAK2F,QAASgG,GAAWxL,IAAKH,EAAQ7B,UAAU,uBAC/C,cAACiC,EAAA,EAAD,CAAQuF,QAASgG,GAAYxN,UAAU,qBAAqBgC,IAAI,OAK7E,sBAAKhC,UAAU,aAAf,UACE,sBAAKA,UAAU,eAAf,UACM,qBAAKA,UAAU,mBAAf,SACC,mCAAM4B,EAAU,GACZ,uBAAM5B,UAAU,sBAAhB,UACA8B,GAAU,cAAC,IAAD,CAAkB9B,UAAU,gBADtC,IAEC4B,EACF,cAAC,IAAD,CAAuB6F,MAAO,CAAC2G,SAAS,QAAQC,WAAW,SAAW3C,WAOhF,sBAAK1L,UAAU,0BAAf,UAEI,mBAAGkG,GAAG,cACL8E,IAAW,4BAAItL,UAOrB8C,GACD,qBAAKxC,UAAU,YAAWgC,IAAKQ,EAAO8F,IAAI,KAExCjF,GAAMwG,GACZ,cAAC,EAAD,CAAY1H,OAAQA,EAAQC,MAAOA,EAAOC,MAAOA,EAAMC,SAAUA,EAASC,OAAQA,EAAQX,SAAUA,EAAUC,OAAQA,EAAQC,SAAUA,EAASpC,KAAMA,EAAK8C,MAAOA,EAAOC,QAASA,EAASG,QAAM,IACjM,+BCvGc2L,MAzVf,WAAoB,IACTC,EAAOC,cAAPD,MADQ,GAEDzD,cAEyBpK,KAJxB,0BAIP0C,EAJO,EAIPA,KAAKC,EAJE,EAIFA,QAJE,KAIMC,OAJN,KAMkB3D,mBAAS,KAN3B,gCAOoBA,mBAAS,KAP7B,gCAQSA,oBAAS,IARlB,gCASUA,oBAAS,IATnB,mBASRgK,EATQ,KASD8E,EATC,OAUU9O,mBAAS,IAVnB,gCAYuBA,mBAAS,IAZhC,gCAaYA,mBAAS,KAbrB,mBAaR+O,EAbQ,KAaAC,EAbA,OAcqBhP,mBAAS,IAd9B,mBAcRiP,EAdQ,KAcKC,EAdL,OAeUlP,mBAAS,IAfnB,mBAeRmP,EAfQ,KAeDC,EAfC,OAgBUpP,oBAAS,GAhBnB,mBAgBRkG,EAhBQ,KAgBDmJ,EAhBC,OAiBoBrP,mBAAS,IAjB7B,mBAiBRsP,EAjBQ,KAiBIC,EAjBJ,KAsOf,OAlNJpP,qBAAU,WACN,IAAIuE,GAAe,EASvB,OAPAgJ,YAAW,WACJhJ,EACP2K,GAAWnJ,GACDP,QAAQC,IAAI,2BAEpB,KAEK,kBAAMlB,GAAe,KAC1B,CAACjB,IAGFtD,qBAAU,WACL,IAAIuE,GAAe,EAqCpB,OApCGjB,GAAa,aAAPmL,IACd3N,EAAG0D,WAAW,SAASC,QAAQ,YAAY,QAAQ4K,MAAM,IAAI3K,MAAM,WAAW,KAAK+J,GAAO/J,MAAM,UAAU,MAAK,GACzGC,MACDC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAAD,OACnBR,EAEDsK,GAAW,SAAC7J,GACN,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOsK,WAAWxK,EAAIE,OAAOqB,WAC/CkJ,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIC,KAAK5C,QAAQiN,EAAQrK,KAAK5C,SAC9D,MAAM,GAAN,mBAAUmN,GAAV,CAAkBF,OAClB,WAGXhK,OAAM,SAACC,GACJC,QAAQC,IAAI,4BAA6BF,MAGjDzE,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,YAAYC,QAAQ,YAAY,QAAQ4K,MAAM,IAAI1K,MAC1FC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAAD,OAE7BR,EACWwK,GAAe,SAAC/J,GACZ,IAAMsK,EAAQvK,EAAIE,OACZuK,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIsB,YAAYgJ,EAAQhJ,aACxD,MAAM,GAAN,mBAAUkJ,GAAV,CAAkBF,OAClB,WAGXhK,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,SAM7C,kBAAMhB,GAAe,KAC9B,CAACjB,EAAKyC,IAKR/F,qBAAU,WACH,IAAIuE,GAAe,EA4B3B,OA3BKuK,EAAY1H,OAAO,EACvB0H,EAAYlH,KAAI,SAAC7C,GACb,IAAM0K,EAAU1K,EAAInC,UACd8M,EAAS3K,EAAIuB,UAGxBxF,EAAG0D,WAAW,SAASC,QAAQ,YAAY,QAAQ4K,MAAM,IAAI3K,MAAM,QAAS,KAAMK,EAAI1C,OACjFsC,MACAC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAAC6K,GAAD,OAE7BpL,EACW0K,GAAU,SAACjK,GACP,IAAMsK,EAAQ,CAACrK,KAAK0K,EAAK1K,OAAOsE,SAASkG,EAAUtJ,GAAGW,KAAKC,SAASN,SAAS,IAAI+C,WAAWkG,EAASH,WAAWG,GAE1GF,EAAQxK,EAAIK,QAAO,SAACuK,GAAD,OAAQA,EAAK3K,KAAK5C,QAAQiN,EAAQrK,KAAK5C,SAChE,MAAM,GAAN,mBAAUmN,GAAV,CAAkBF,OAClB,WAGVhK,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,WAM5CC,QAAQC,MACf,kBAAMlB,GAAe,KAEtB,CAACuK,EAAYxL,IAGnBtD,qBAAU,WACN,IAAIuE,GAAe,EAcvB,OAZUhB,GAAgB,aAAPkL,GAAoBlK,EACvCzD,EAAG0D,WAAW,SAASO,IAAvB,WAA+BxB,EAAQ1B,SAAvC,sBAA6D4M,IAAS9J,MAAMC,MAAK,SAAAG,GAC1EA,EAAImC,OACHyH,GAAU,GAEVA,GAAU,MAEfrJ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MACjBC,QAAQC,IAAI,cAIlB,kBAAMlB,GAAe,KAC1B,CAACsF,IA2BH7J,qBAAU,WAGT,IAAI6P,EAASb,EAAOc,OAAOlB,GAE1BQ,EAAeS,KAIf,CAACb,EAAOJ,SA2DMvG,GAAb8G,GAEFA,EAAYY,KAzDb,SAAuB7K,GAAqB,IAAhB8K,EAAe,uDAAP,MAClC,OAAO,SAAmBC,EAAGC,GAEzB,IAAIC,EACAC,GAGDH,EAAEI,eAAenL,IAAQgL,EAAEG,eAAenL,IAQtC+K,EAAEI,eAAenL,KAASgL,EAAEG,eAAenL,IAJpDiL,EAAKF,EAAEV,WACJa,EAAKF,EAAEX,YAWAU,EAAEI,eAAenL,IAASgL,EAAEG,eAAenL,GAS5C+K,EAAEI,eAAenL,IAAQgL,EAAEG,eAAenL,KAEjDiL,EAAKF,EAAEV,WACPa,EAAKF,EAAEX,aAPRY,EAAKF,EAAEV,WACLa,EAAKF,EAAEX,YAcV,IAAIe,EAAa,EAMjB,OALIH,EAAOC,EACTE,EAAa,EACJH,EAAOC,IAChBE,GAAc,GAGH,SAAVN,GAAmC,EAAdM,EAAmBA,GAO7BC,CAAc,aAAc,SAqExC,aA/DF,CA+DE,qBACmBlI,GAAb8G,EACF,8BACTA,EAAYvH,KAAI,SAAA4F,GAAI,OAGb,cAAC,EAAD,CAGD7K,MAAO6K,EAAKvI,KAAKtC,MAChBN,MAAOmL,EAAKvI,KAAK5C,MACjBD,OAAQoL,EAAKvI,KAAK7C,OAClBoO,YAAahD,EAAKvI,KAAKuL,YACvB3O,SAAU2L,EAAKvI,KAAKpD,SACpBE,SAAUyL,EAAKvI,KAAKlD,SACpBpC,KAAM6N,EAAKvI,KAAKtF,KACfmC,OAAQ0L,EAAKvI,KAAKnD,OACnBW,MAAO+K,EAAKvI,KAAKxC,MACjB6D,UAAWkH,EAAKvI,KAAKqB,UACrBhE,MAAOkL,EAAKvI,KAAK3C,MACjBC,SAAUiL,EAAKvI,KAAK1C,SACpBC,OAAQgL,EAAKvI,KAAKzC,OAClBE,QAAS8K,EAAKvI,KAAKvC,QACnBsG,QAASwE,EAAKvI,KAAK+D,QACnBC,QAASuE,EAAKvI,KAAKgE,QACnBC,QAASsE,EAAKvI,KAAKiE,QACnBC,OAAQqE,EAAKvI,KAAKkE,OAClBC,OAAQoE,EAAKvI,KAAKmE,OAClBC,OAAQmE,EAAKvI,KAAKoE,OAClBC,OAAQkE,EAAKvI,KAAKqE,OAClB1G,UAAW4K,EAAKvI,KAAKrC,UACrB6N,OAAQjD,EAAKvI,KAAKwL,OAClB/H,MAAO8E,EAAKvI,KAAKyD,MACjBC,QAAS6E,EAAKvI,KAAK0D,QACnBY,SAAUiE,EAAKjE,SACfC,WAAYgE,EAAKhE,YA3BbgE,EAAKhE,WAAWgE,EAAKhE,WAAWgE,EAAKvI,KAAKqB,gBAmCzC,qBAAKrG,UAAU,UAAf,SAAyB,iD,gKCsPvByQ,OA/jBf,YAA6B,IA2BpB3H,EA3BU4H,EAAS,EAATA,QAAS,EACa9Q,mBAAS,IADtB,mBACjBiE,EADiB,KACJC,EADI,OAESlE,mBAAS,IAFlB,mBAEjB+Q,EAFiB,KAENC,EAFM,OAGgBhR,mBAAS,GAHzB,mBAGFiR,GAHE,aAIgBjR,mBAAS,GAJzB,mBAIFkR,GAJE,aAKSlR,mBAAS,IALlB,mBAKjBmR,EALiB,KAKNC,EALM,OAMmBrQ,IANnB,0BAMjB0C,EANiB,EAMjBA,KAAKC,EANY,EAMZA,QAAqB2N,GANT,EAMJC,YANI,QAONtR,mBAAS,IAPH,gCAQAA,mBAAS,KART,mBAQhB4C,EARgB,aASA5C,mBAAS,KATT,mBAShB8C,EATgB,aAUO9C,oBAAS,IAVhB,mBAUjBuR,EAViB,KAUPC,GAVO,QAWGxR,mBAAS,IAXZ,qBAWjB6C,GAXiB,MAWT4O,GAXS,SAYGzR,mBAAS,IAZZ,qBAYjBmJ,GAZiB,MAYTuI,GAZS,SAaI1R,mBAAS,IAbb,qBAahBoJ,GAbgB,MAaRuI,GAbQ,SAcI3R,mBAAS,IAdb,qBAchBqJ,GAdgB,MAcRuI,GAdQ,SAeK5R,oBAAS,GAfd,qBAejB6R,GAfiB,MAeRC,GAfQ,SAgBK9R,oBAAS,GAhBd,qBAgBjB+R,GAhBiB,MAgBRC,GAhBQ,SAiBWhS,oBAAS,GAjBpB,qCAkBAA,mBAAS,IAlBT,qBAkBhBuE,GAlBgB,MAkBVC,GAlBU,SAmBcxE,oBAAS,GAnBvB,qCAoBNA,oBAAS,IApBH,qBAoBhBiS,GApBgB,MAoBbC,GApBa,SAqBAlS,oBAAS,GArBT,qBAqBhBmS,GArBgB,MAqBVC,GArBU,UAsBPC,EAAQ,KACgBrS,mBAAS,OAvB1B,qBAuBdsS,GAvBc,MAuBDC,GAvBC,SAwBUvS,oBAAS,GAxBnB,qBAwBdwS,GAxBc,MAwBJC,GAxBI,SAyBUzS,mBAAS,IAzBnB,qBAyBd0S,GAzBc,MAyBJC,GAzBI,MAmClBC,GAAe,SAAD,OAAUlP,EAAQ1B,SAAlB,YAA8BiF,KAAKC,SAASN,SAAS,KACnEiM,GAAe,SAAD,OAAUnP,EAAQ1B,SAAlB,YAA8BiF,KAAKC,SAASN,SAAS,KAY3EzG,qBAAU,WACN,GAAGmS,GAAY,CAKjB,IACMhG,EADOrI,EACOgM,OAAOqC,GAAYQ,OAEvC5O,EAAgBoI,MAGhB,CAACgG,KAEDnS,qBAAU,WACPgR,GACCzD,YAAW,WACnBwE,IAAM,KACI,OAEJ,CAACf,IAGH,IAAM4B,GAAkB,SAACjN,GACrB,IAAMlD,EAAMkD,EAAEwC,OAAO0K,MAAM,GAErBC,EAAKnR,EAAQoR,MAAMC,MAAMP,IAAgBQ,IAAIxQ,GAenDqQ,EAAKI,GAAG,kBAbU,SAAAC,GACf3N,QAAQC,IAAR,2BAAgC0N,EAASC,mBACzCtC,EAAiBqC,EAASC,qBAQb,SAAAD,GAChB3N,QAAQC,IAAI0N,MAPQ,WAC5BL,EAAKK,SAASJ,IAAIM,iBAAiBzO,MAAK,SAACuO,GACrCtC,EAAcsC,UASRG,GAAY,WACE5G,SAASC,eAAe,cAC9B4G,SAgCRC,GAAU,SAAA7N,GACZA,EAAEE,iBACR,IAAM4N,EAAQ3P,EAGV4P,GAAO,EACPC,EAAO,GAGRF,EAAQG,QAAQ,MAAQ,GACXH,EAAQnH,MAAM,KAKhBxH,SAAQ,SAAS0H,GAE9BkH,EAAM,GACQlH,EACbkH,GAAY,IAKZC,EAAOD,GAAOlH,EACdkH,GAAY,MAKbC,EAAOvM,OAAO,GACbuM,EAAO/L,KAAI,SAAAiM,GAAG,OAChB/S,EAAG0D,WAAW,cAAcO,IAAI8O,GAAKlP,MAAMC,MAAK,SAACG,GAC1CA,EAAImC,OACHpG,EAAG0D,WAAW,cAAcO,IAAI8O,GAAK9N,OAAO,CACxC+N,WAAW/S,IAASU,UAAUuE,WAAWC,UAAU,KACpDX,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAE9BzE,EAAG0D,WAAW,cAAcO,IAAI8O,GAAKzN,IAAI,CACrC2N,QAAQF,EACRC,WAAW,EACXxN,WAAU,IAAIC,MAAOC,UAAUC,aAChCnB,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,YAQ5B6L,GAAYJ,EAgCPtO,IACjB5B,EAAG0D,WAAW,SAASkC,IAAI,CAC3BhE,QAAQA,GACRsG,QAAQA,GACRC,QAAQA,GACRC,QAAQA,GACRC,OAAO,EACPC,OAAO,EACPC,OAAO,EACPC,OAAO,EACP3J,KAAKmE,EACLwC,WAAU,IAAIC,MAAOC,UAAUC,WAC/B5E,SAAS0B,EAAQ1B,SACjBO,OAAOkB,EAAKyE,IACZhG,UAAS,EACTD,OAAOyB,EAAQqD,SACftE,MAAM,EACNC,SAAS,EACTC,OAAO,EACPH,MAAM,GACNuG,SAAQ,IAGLhE,MAAK,SAACqC,GACGnG,EAAG0D,WAAW,SAASO,IAAvB,UAA8BkC,EAAOd,KAAMJ,OAAO,CAAC,MAAQ,GAAR,OAAWkB,EAAOd,SAEtEb,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAEtCxB,EAAgB,IAChBuN,GAAW,IACXC,GAAW,IACXC,GAAW,IACXC,GAAW,IACXJ,IAAa,IAEIL,IACJlQ,EAAG0D,WAAW,SAASkC,IAAI,CAEhC7E,SAAS0B,EAAQ1B,SACjBO,OAAOkB,EAAKyE,IACZhG,UAAS,EACTpC,KAAKmE,EACLhC,OAAOyB,EAAQqD,SACfjE,MAAMqO,EACN1K,WAAU,IAAIC,MAAOC,UAAUC,WAC/BnE,MAAM,EACNC,SAAS,EACTC,OAAO,EACPH,MAAM,GACLsR,OAAOA,EACP/K,SAAQ,IAIRhE,MAAK,SAACqC,GACHuL,GAAavL,EAAOd,IACpBrF,EAAG0D,WAAW,SAASO,IAAIkC,EAAOd,IAAIJ,OAAO,CAAC,MAAQ,GAAR,OAAWkB,EAAOd,SAEjEb,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAGtCxB,EAAgB,IAChBkN,EAAc,MA7FNnQ,EAAG0D,WAAW,SAASkC,IAAI,CAE3B7E,SAAS0B,EAAQ1B,SACjBO,OAAOkB,EAAKyE,IACZhG,UAAS,EACTpC,KAAKmE,EACLhC,OAAOyB,EAAQqD,SACfnE,MAAMmO,EACNtK,WAAU,IAAIC,MAAOC,UAAUC,WAC/BnE,MAAM,EACNC,SAAS,EACTC,OAAO,EACPH,MAAM,GACLsR,OAAOA,EACP/K,SAAQ,IAIRhE,MAAK,SAACqC,GACHnG,EAAG0D,WAAW,SAASO,IAAvB,UAA8BkC,EAAOd,KAAMJ,OAAO,CAAC,MAAQ,GAAR,OAAWkB,EAAOd,SAEtEb,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAQ9BxB,EAAgB,IACpB8M,EAAc,KAkEVyB,IAAa,GACbxR,EAAG0D,WAAW,SAASO,IAAIgE,GAAMpE,MAAMC,MAAK,SAACG,GACtCA,EAAImC,QACHpG,EAAG0D,WAAW,SAASO,IAAIgE,GAAMvE,WAAW,iBAAiBkC,IAAI,CAC7D5E,OAAOyB,EAAQqD,SACfC,WAAU,IAAIN,MAAOC,UAAUC,WAC/BuN,YAAYzQ,EAAQ1B,SACpBwE,OAAOkM,GACPvL,MAAK,EACL3E,MAAM,KACPuC,MAAK,SAACqC,GACbnG,EAAG0D,WAAW,SAASO,IAAIgE,GAAMvE,WAAW,iBAAiBO,IAAIkC,EAAOd,IAAIJ,OAAO,CAAC,MAAQ,GAAR,OAAWkB,EAAOd,SAEvGb,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,UAK5B0O,GAAW,SAACtO,GACtBA,EAAEE,iBAEFwL,IADGD,IAOO8C,GAAU,SAACvO,GACrBA,EAAEE,iBACFoM,IAAS,GACLP,GAGKA,KAAWE,IAChBC,IAAY,GAHZF,IAAY,IAKNwC,GAAa,SAACxO,GACxBA,EAAEE,iBACFoM,IAAS,GACNP,KAAWE,GACVD,IAAY,GAEPC,IACLC,IAAY,IAuDZ,OA/CA7R,qBAAU,WAKd,IAHA,IAAImH,EAAMrD,EAAasD,OACnB9C,EAAO,EAEH+C,EAAI,EAAGA,GAAKF,EAAKE,IACA,KAAnBvD,EAAauD,IAEZ/C,IAKP,GADAD,GAASC,GACNA,EAAO,IAAI,CACV,IAAIgD,EAAgBxD,EACpBwD,EAAgBA,EAAgBC,QAAhB,UAA2BD,EAAgBA,EAAgBF,OAAQ,IAAK,IACxFrD,EAAgBuD,GAEpB,GAAGH,EAAI,EAAE,CACT,IACIgF,EAAO,WAAWC,KADNtI,GAGhB,GAAGqI,EAAO,CACV,IAAIE,EAAQF,EAAO,GAAGG,MAAM,KACxBC,GAAK,EAETF,EAAQvH,SAAQ,SAAS0H,GAClBD,EAAI,EACHA,IAEFxD,EAAKyD,SAcL,CAAC1I,IAGM6M,EAqJL,sBAAK1Q,UAAU,cAAf,UAEJ,cAACuH,EAAA,EAAD,CAAYC,QA3MM,SAAC9B,GACvBA,EAAEE,iBACFqL,EAAS,CAACjJ,KAAK,mBAyMsBhI,UAAU,sBAA3C,SACI,cAAC,IAAD,MAEJ,iCAEI,sBAAKA,UAAU,kBAAf,UACE,cAACiC,EAAA,EAAD,CAAQD,IAAKsB,EAAQqD,WAErB,uBAEAsB,SAAU,SAACvC,GAAD,OAAK5B,EAAgB4B,EAAEwC,OAAOzH,QACxCA,MAAOoD,EACNwE,YAAY,mBACbL,KAAK,YAIL,sBAAKhI,UAAU,mBAAf,UACI,qBAAKA,UAAU,wBAAf,SACA,cAACmI,EAAA,EAAD,CACNX,QAAS+L,GACTvL,KAAK,SACJhI,UAAU,wBAHL,qBAKP,uBAAOqI,YAAY,mBAAmB8L,OAAO,SAASnM,KAAK,OAAO9B,GAAG,aAAazF,MAAO+B,EAAOyF,SAAU0K,KACzG,cAACyB,EAAA,EAAD,CAASC,MAAM,YAAf,SACA,cAAC9M,EAAA,EAAD,CAAaC,QAAS6L,GAAtB,SACA,cAAC,IAAD,QAIC,cAACe,EAAA,EAAD,CAASC,MAAM,WAAf,SACD,cAAC9M,EAAA,EAAD,CAAYC,QAASwM,GAArB,SACA,cAAC,IAAD,cAQH7C,GACD,qBAAKnR,UAAU,mBAhMnB,sBAAKA,UAAS,mBAAcmR,GAAW,oBAAvC,UAII,iCAEI,sBAAKnR,UAAU,kBAAf,UACE,cAACiC,EAAA,EAAD,CAAQD,IAAKsB,EAAQqD,WAErB,uBAEAsB,SAAU,SAACvC,GAAD,OAAK5B,EAAgB4B,EAAEwC,OAAOzH,QACxCA,MAAOoD,EACNwE,YAAa8I,EAAU,iBAAiB,oBACzCnJ,KAAK,SACL,qBAAK9B,GAAG,WACP,oBAAGlG,UAAU,WAAb,UAAyBmE,GAAzB,aAGD,qBAAKnE,UAAU,kBAAf,SAOHoS,IACD,cAAC,KAAD,CAAQkC,YAAa,CAACC,MAAM,SAAWC,aApWtB,SAAC9O,EAAG+O,GACrB/O,EAAEE,iBACDF,EAAEC,kBAELwM,GAAesC,QAqWRtD,GACP,sBAAKnR,UAAU,cAAf,UAEI,uBAAOA,UAAU,qBAAoBqI,YAAY,WAAW5H,MAAOgC,GAASuF,KAAK,OAAOC,SAAU,SAACvC,GAAD,OAAK2L,GAAW3L,EAAEwC,OAAOzH,UAC3H,uBAAOT,UAAU,qBAAqBqI,YAAY,WAAW5H,MAAOsI,GAASf,KAAK,OAAOC,SAAU,SAACvC,GAAD,OAAK4L,GAAW5L,EAAEwC,OAAOzH,UAC3HgR,IAAU,uBAAOzR,UAAU,qBAAqBqI,YAAY,WAAW5H,MAAOuI,GAAShB,KAAK,OAAOC,SAAU,SAACvC,GAAD,OAAK6L,GAAW7L,EAAEwC,OAAOzH,UACtIkR,IAAU,uBAAO3R,UAAU,qBAAqBqI,YAAY,WAAW5H,MAAOwI,GAASjB,KAAK,OAAOC,SAAU,SAACvC,GAAD,OAAK8L,GAAW9L,EAAEwC,OAAOzH,WAKpIgR,KAAWE,KAAWI,IACzB,cAACxK,EAAA,EAAD,CAAYC,QAASyM,GAArB,SACA,cAAC,IAAD,MAEExC,KAAWE,IACb,cAACpK,EAAA,EAAD,CAAYC,QAASyM,GAArB,SACA,cAAC,IAAD,MAECtC,IACA,cAACpK,EAAA,EAAD,CAAYC,QAAS0M,GAArB,SACD,cAAC,KAAD,MAGEzC,KAAWE,IACb,cAACpK,EAAA,EAAD,CAAYC,QAAS0M,GAArB,SACA,cAAC,KAAD,MAGA,cAACE,EAAA,EAAD,CAASC,MAAM,OAAf,SACA,cAAC9M,EAAA,EAAD,CAAYC,QAAS,kBAAI4J,IAAa,IAAtC,SACA,cAAC,KAAD,WASE,sBAAKpR,UAAU,mBAAf,UACI,qBAAKA,UAAS,iCAA4B6D,GAAc,0BAAxD,SACA,cAACsE,EAAA,EAAD,CACNX,QAAS+L,GACTvL,KAAK,SACJhI,UAAU,wBAHL,oBAMJ,uBAAOqI,YAAY,aAAa8L,OAAO,SAASnM,KAAK,OAAO9B,GAAG,aAAazF,MAAO+B,EAAOyF,SAAU0K,MAErGhC,GACD,cAACyD,EAAA,EAAD,CAASC,MAAM,YAAf,SACA,cAAC9M,EAAA,EAAD,CAAaC,QAAS6L,GAAtB,SACA,cAAC,IAAD,QAIC,qBAAKrT,UAAU,QAAf,SAGI2Q,GAAY,sBAAK3Q,UAAU,gBAAf,UACT,cAACuH,EAAA,EAAD,CAAYC,QAAS,kBAAIoJ,EAAc,KAAvC,SACA,cAAC,KAAD,MAEA,qBAAK5O,IAAK2O,EAAW+D,IAAIpM,IAAI,GAAEtI,UAAU,oBAGjD,cAACoU,EAAA,EAAD,CAASC,MAAM,WAAf,SACA,cAAC9M,EAAA,EAAD,CAAYC,QAASwM,GAArB,SACA,cAAC,IAAD,QAGA,uBAAO3L,YAAY,aAAa8L,OAAO,SAASnM,KAAK,OAAO9B,GAAG,aAAazF,MAAOiC,EAAOuF,SA1XtE,SAACvC,GACrB,IAAMhD,EAAMgD,EAAEwC,OAAO0K,MAAM,GAErB+B,EAAUjT,EAAQoR,MAAMC,MAAMN,IAAgBO,IAAItQ,GAexDiS,EAAU1B,GAAG,kBAbU,SAAAC,GACpB3N,QAAQC,IAAR,2BAAgC0N,EAASC,mBACzCrC,EAAiBoC,EAASC,qBAQR,SAAAD,GACrB3N,QAAQC,IAAI0N,MAPa,WACjCyB,EAAUzB,SAASJ,IAAIM,iBAAiBzO,MAAK,SAACuO,GAC1ClC,EAAckC,aAgXRnC,GACF,cAACqD,EAAA,EAAD,CAASC,MAAM,YAAf,SACI,cAAC9M,EAAA,EAAD,CAAaC,QAxWH,WACGiF,SAASC,eAAe,cAC9B4G,SAsWP,SACJ,cAAC,KAAD,QAGAvC,GACA,sBAAK/Q,UAAU,gBAAf,UACA,cAACuH,EAAA,EAAD,CAAYC,QAAS,kBAAIwJ,EAAc,KAAvC,SACA,cAAC,KAAD,MAECa,IACD,+CAIA,qBAAK7R,UAAU,gBAAf,SACI,cAACoU,EAAA,EAAD,CAAUC,MAAM,YAAhB,SACJ,cAAC9M,EAAA,EAAD,CAAaC,QAAS,kBAAI6K,IAAcD,KAAxC,SACA,cAAC,KAAD,gBAcJ,qBAAKlM,GAAG,c,gFClUG0O,OA9Lf,WAGI,IAAIC,EAASC,OAAOC,SAHN,EAIqCpU,IAJrC,0BAIN0C,EAJM,EAINA,KAAKC,EAJC,EAIDA,QAAe4N,GAJd,EAIO3N,OAJP,EAIc2N,aAAaD,EAJ3B,OAKQrR,oBAAS,GALjB,mBAKR0T,EALQ,KAKF0B,EALE,OAMMpV,oBAAS,GANf,gCAQKA,oBAAS,IARd,gCAScA,oBAAS,IATvB,mBASRqV,EATQ,KASCC,EATD,OAUYtV,oBAAS,GAVrB,mBAURuV,EAVQ,KAUAC,EAVA,OAWcxV,oBAAS,GAXvB,mBAWRyV,EAXQ,KAWCC,EAXD,OAYQ1V,oBAAS,GAZjB,mBAYR2V,EAZQ,KAYFC,EAZE,OAaY5V,oBAAS,GAbrB,mBAaR6V,EAbQ,KAaAC,EAbA,OAcqB9V,mBAAS,IAd9B,mBAcP+V,EAdO,KAcKC,EAdL,OAeWhW,oBAAS,GAfpB,mBAePiW,EAfO,KAeAC,GAfA,KA2Gd,OAzFA/V,qBAAU,WACN,IAAIuE,GAAe,EAsB3B,YApBwB8D,IAArB9E,EAAQ1B,WACPgU,EAAe,IACnB/U,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBE,MAAM,OAAO,MAAK,GACtFsR,YAAW,SAAA7C,GAAQ,OACd5O,EACFsR,EAAe1C,EAAS8C,KAAKrO,KAAI,SAAC7C,GAAD,OAAOA,EAAIoB,OACxB,QAOjByP,EAAYxO,OAAO,EAClB2O,IAAU,GAGVA,IAAU,IAGf,kBAAMxR,GAAe,KACtB,CAACjB,EAAKC,IAMRvD,qBAAU,WAGQ,aAAnBuD,EAAQ1B,UAEQ,gCAAbiT,EAAOoB,KACPf,GAAY,GACTA,GAAY,GACF,yBAAbL,EAAOoB,KACPb,GAAW,GACRA,GAAW,GACD,6BAAbP,EAAOoB,KACPT,GAAS,GACNA,GAAS,GACXX,EAAOoB,MAAP,uCAA6C3S,EAAQ1B,UACtD0T,GAAY,GAETA,GAAY,GACJ,sCAAbT,EAAOoB,KACLP,GAAW,GAERA,GAAW,IAGdnQ,QAAQC,IAAI,gBAEZ,CAACqP,EAAOoB,KAAK5S,IAmCnB,sBAAKrD,UAAU,UAAf,UACI,cAAC,IAAD,CAAM+B,GAAG,IAAT,SACI,qBAAK/B,UAAU,eAAegC,IAAI,+JAGtC,cAAC,IAAD,CAAMD,GAAG,IAAT,SACKoT,EACL,cAAC,EAAD,CAAe3V,QAAM,EAACG,KAAMuW,IAAUxW,KAAK,cAC3C,cAAC,EAAD,CAAgBC,KAAMuW,IAAUxW,KAAK,gBAMrC,cAAC,IAAD,CAAMqC,GAAG,WAAT,SACKkT,EACL,cAAC,EAAD,CAAezV,QAAM,EAACG,KAAMwW,IAAYzW,KAAK,YAC7C,cAAC,EAAD,CAAgBC,KAAMwW,IAAYzW,KAAK,cAGvC,cAAC,IAAD,CAAMqC,GAAG,iBAAT,SACD8T,EACD,8BACDJ,EACG,cAAC,EAAD,CAAejW,QAAM,EAACC,OAAK,EAACE,KAAMkW,EAAQO,KAAyBC,KAAmB3W,KAAK,kBAC3F,cAAC,EAAD,CAAeC,KAAOkW,EAAQO,KAAyBC,KAAmB3W,KAAK,oBAE3E,8BACC+V,EACL,cAAC,EAAD,CAAejW,QAAM,EAACG,KAAO0W,KAAmB3W,KAAK,kBACrD,cAAC,EAAD,CAAeC,KAAOkW,EAAQO,KAAyBC,KAAmB3W,KAAK,sBAG/E,cAAC,IAAD,CAAMqC,GAAG,QAAT,SACKwT,EACL,cAAC,EAAD,CAAe5V,KAAO2W,KAAiB9W,QAAM,EAACE,KAAK,SAClD,cAAC,EAAD,CAAeC,KAAO2W,KAAiB5W,KAAK,WAG7C,cAAC,IAAD,CAAMqC,GAAE,0BAAcuB,QAAd,IAAcA,OAAd,EAAcA,EAAS1B,UAA/B,SACKyT,EACL,cAAC,EAAD,CAAe1V,KAAO4W,KAAmB/W,QAAM,EAACE,KAAK,YACrD,cAAC,EAAD,CAAeC,KAAO4W,KAAmB7W,KAAK,cAW9C,cAACyI,EAAA,EAAD,CAAQX,QA7EU,SAAC9B,GACfA,EAAEE,iBAECsL,GAECD,EAAS,CAACjJ,KAAK,kBAEfkJ,GAEAD,EAAS,CAACjJ,KAAK,kBAoEMwO,QAAQ,WAAWxW,UAAU,iBAAiByW,WAAS,EAApF,kBAEJ,sBAAKzW,UAAU,UAAf,UAEQ,6BAAKqD,EAAK,SAAD,cAAUC,QAAV,IAAUA,OAAV,EAAUA,EAAS1B,UAAW,gBACtCyB,EACD,cAAC,IAAD,CAAMtB,GAAE,0BAAcuB,QAAd,IAAcA,OAAd,EAAcA,EAAS1B,UAA/B,SAEC0B,EAAQqD,SACT,qBAAKa,QAAS,WAAWwN,GAAN1B,IAAuCtR,IAAKsB,EAAQqD,SAAU3G,UAAU,gBAC3F,qBAAKwH,QAAS,WAAWwN,GAAN1B,IAAuCtR,IAAI,2FAA2FhC,UAAU,kBAG3J,wBACR,cAAC,IAAD,CAAO+B,GAAG,SAAV,SACR,oBAAI/B,UAAU,gBAAewH,QA9ER,WACVnE,GACR5B,EAAKiV,WA4ER,SAAmDrT,EAAK,WAAW,iBAGjEA,GAAM6N,EACR,qBAAKlR,UAAU,OAAf,SACI,cAAC,GAAD,CAAU0Q,SAAO,MACd,wBACLrN,EAAuC,wBAAlC,6D,cCmNQsT,OAjZf,WAAgB,IAAD,EACY/W,mBAAS,IADrB,mBACJgX,EADI,KACEC,EADF,OAEoBlW,IAFpB,0BAEJ0C,EAFI,EAEJA,KAAKC,EAFD,EAECA,QAFD,QAGiB1D,mBAAS,KAH1B,mBAGLkX,EAHK,KAGIC,EAHJ,OAIuBnX,mBAAS,IAJhC,mBAILiP,EAJK,KAIOC,EAJP,OAKclP,mBAAS,IALvB,mBAKJmP,EALI,KAKGC,EALH,OAMwBpP,mBAAS,IANjC,gCAOcA,oBAAS,IAPvB,mBAOJkG,EAPI,KAOGmJ,EAPH,OAQwBrP,mBAAS,IARjC,mBAQJsP,EARI,KAQQC,EARR,OAS4BvP,mBAAS,IATrC,mBASJoX,EATI,KASUC,EATV,OAUwBrX,mBAAS,IAVjC,mBAUJsX,EAVI,KAUQC,EAVR,KAgTX,OAlSJpX,qBAAU,WACVuN,YAAW,WACX2B,GAAWnJ,KACT,OAEA,IAGE/F,qBAAU,WACN,IAAIuE,GAAe,EAa3B,OAZGjB,GAAwB,aAAlBC,EAAQ1B,SAEbf,EAAG0D,WAAW,SAASO,IAAvB,UAA8BxB,EAAQ1B,WAAY2C,WAAW,aAC5DwR,YAAW,SAAA7C,GAAQ,OACd5O,EACFyS,EAAY7D,EAAS8C,KAAKrO,KAAI,SAAC7C,GAAD,OAAOA,EAAIE,WACrB,QAKtBO,QAAQC,MACP,kBAAMlB,GAAe,KAEtB,CAACjB,EAAKyC,IAER/F,qBAAU,WACL,IAAIuE,GAAe,EAyBpB,OAxBGwS,EAAS3P,OAAO,GAAqB,aAAlB7D,EAAQ1B,UAAuB0C,EAC5DwS,EAASnP,KAAI,SAAC7C,GACZ,IAAMsS,EAAOtS,EAAIlD,SAGpBf,EAAG0D,WAAW,SAASO,IAAIsS,GAAQ7S,WAAW,cACzCG,MACAC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAAD,OAElBmS,GAAiB,SAAClS,GAEd,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOwE,MAAM4N,GAC/B7H,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIC,KAAKoB,SAASiJ,EAAQrK,KAAKoB,UAC/D,MAAM,GAAN,mBAAUmJ,GAAV,CAAkBF,aAGvBhK,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,WAMlDC,QAAQC,MACN,kBAAMlB,GAAe,KAC9B,CAACwS,EAASzT,IAMhBtD,qBAAU,WACF,IAAIuE,GAAe,EAuB3B,OAtBK0S,EAAc7P,OAAO,GAAG7C,EAC5B0S,EAAcrP,KAAI,SAAC7C,GACf,IAAMsS,EAAOtS,EAAI0E,MACXiG,EAAS3K,EAAIE,KAAKqB,UAG7BxF,EAAG0D,WAAW,SAASO,IAAIA,EAAIE,KAAKoB,QAC/B1B,MACAC,MAAK,SAACG,GAICqS,GAAe,SAACpS,GACZ,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOwE,MAAM4N,EAAOlR,GAAGW,KAAKC,SAASN,SAAS,IAAIH,UAAUoJ,EAASH,WAAWG,GAElGF,EAAQxK,EAAIK,QAAO,SAACuK,GAAD,OAAQA,EAAK3K,KAAK5C,QAAQiN,EAAQrK,KAAK5C,SAChE,MAAM,GAAN,mBAAUmN,GAAV,CAAkBF,UAErBhK,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,WAGnDC,QAAQC,MACf,kBAAMlB,GAAe,KAEtB,CAAC0S,EAAc3T,IASjBtD,qBAAU,WACL,IAAIuE,GAAe,EAoBpB,OAnBGwS,EAAS3P,OAAO,GAAqB,aAAlB7D,EAAQ1B,SACrCkV,EAASnP,KAAI,SAAC7C,GACfjE,EAAG0D,WAAW,SAASC,QAAQ,YAAY,QAAQ4K,MAAM,IAAI3K,MAAM,SAAU,KAAMK,EAAI3C,QAClFuC,MACAC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAAD,OACjBR,EACDuS,GAAS,SAAC9R,GAEN,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOsK,WAAWxK,EAAIE,OAAOqB,UAAUH,GAAGW,KAAKC,SAASN,SAAS,KACnF+I,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIC,KAAK5C,QAAQiN,EAAQrK,KAAK5C,SAC9D,MAAM,GAAN,mBAAUmN,GAAV,CAAkBF,OACnB,WAIVhK,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,WAE3CC,QAAQC,MACP,kBAAMlB,GAAe,KAC9B,CAACwS,EAASzT,IAKZtD,qBAAU,WACN,IAAIuE,GAAe,EAqB1B,OApBIwS,EAAS3P,OAAO,GAAqB,aAAlB7D,EAAQ1B,SAC/BkV,EAASnP,KAAI,SAAC7C,GACfjE,EAAG0D,WAAW,SAASO,IAAIA,EAAIlD,UAAU2C,WAAW,YAAY6K,MAAM,IAAI3K,MAAM,YAAa,KAAMK,EAAIlD,UAClG8C,MACAC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAAD,OAE7BR,EACWwK,GAAe,SAAC/J,GACZ,IAAMsK,EAAQvK,EAAIE,OACZuK,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAI3C,QAAQiN,EAAQjN,SACpD,MAAM,GAAN,mBAAUmN,GAAV,CAAkBF,OACnB,WAGVhK,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,WAI3CC,QAAQC,MACd,kBAAMlB,GAAe,KACvB,CAACwS,EAASzT,IAGZtD,qBAAU,WACN,IAAIuE,GAAe,EA4B3B,OA3BKuK,EAAY1H,OAAO,EACvB0H,EAAYlH,KAAI,SAAC7C,GACb,IAAM0K,EAAU1K,EAAInC,UACd8M,EAAS3K,EAAIuB,UAGxBxF,EAAG0D,WAAW,SAASC,QAAQ,YAAY,QAAQ4K,MAAM,IAAI3K,MAAM,QAAS,KAAMK,EAAI1C,OACjFsC,MACAC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAAD,OAE7BR,EACW0K,GAAU,SAACjK,GACP,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOsE,SAASkG,EAAUtJ,GAAGW,KAAKC,SAASN,SAAS,IAAI+C,WAAWkG,EAASH,WAAWG,GAEzGF,EAAQxK,EAAIK,QAAO,SAACuK,GAAD,OAAQA,EAAK3K,KAAK5C,QAAQiN,EAAQrK,KAAK5C,SAChE,MAAM,GAAN,mBAAUmN,GAAV,CAAkBF,OACnB,WAGThK,OAAM,SAAAC,GAAK,OAAKhB,EAAeiB,QAAQC,IAAIF,GAAS,WAM5CC,QAAQC,MACf,kBAAMlB,GAAe,KAEtB,CAACuK,EAAYxL,IAyBnBtD,qBAAU,WAEV,IACKsX,EADQtI,EAAOc,OAAO+G,GACH/G,OAAOqH,GAC/B/H,EAAekI,KAIb,CAACtI,EAAO6H,SAwDMxO,GAAb8G,GAEFA,EAAYY,KAxDb,SAAuB7K,GAAqB,IAAhB8K,EAAe,uDAAP,MAClC,OAAO,SAAmBC,EAAGC,GAEzB,IAAIC,EACAC,GAGDH,EAAEI,eAAenL,IAAQgL,EAAEG,eAAenL,IAQtC+K,EAAEI,eAAenL,KAASgL,EAAEG,eAAenL,IAJpDiL,EAAKF,EAAEV,WACJa,EAAKF,EAAEX,YAWAU,EAAEI,eAAenL,IAASgL,EAAEG,eAAenL,GAS5C+K,EAAEI,eAAenL,IAAQgL,EAAEG,eAAenL,KAEjDiL,EAAKF,EAAEV,WACPa,EAAKF,EAAEX,aAPRY,EAAKF,EAAEV,WACLa,EAAKF,EAAEX,YAcV,IAAIe,EAAa,EAMjB,OALIH,EAAOC,EACTE,EAAa,EACJH,EAAOC,IAChBE,GAAc,GAGH,SAAVN,GAAmC,EAAdM,EAAmBA,GAM7BC,CAAc,aAAc,SAsB9C,sBAAKtQ,UAAU,OAAf,UACI,qBAAKA,UAAU,eAAf,SACA,6CAEHqD,EACG,cAAC,GAAD,IACC,cAAC,IAAD,CAAMtB,GAAG,SAAT,SAAkB,qBAAK/B,UAAU,iBAAf,sCAEpB8F,EACA,8BACFoJ,EAAYvH,KAAI,SAAA4F,GAAI,OAGb,cAAC,EAAD,CAGD7K,MAAO6K,EAAKvI,KAAKtC,MAChBN,MAAOmL,EAAKvI,KAAK5C,MACjBD,OAAQoL,EAAKvI,KAAK7C,OAClBoO,YAAahD,EAAKvI,KAAKuL,YACvB3O,SAAU2L,EAAKvI,KAAKpD,SACpBE,SAAUyL,EAAKvI,KAAKlD,SACpBpC,KAAM6N,EAAKvI,KAAKtF,KACfmC,OAAQ0L,EAAKvI,KAAKnD,OACnBW,MAAO+K,EAAKvI,KAAKxC,MACjB6D,UAAWkH,EAAKvI,KAAKqB,UACrBhE,MAAOkL,EAAKvI,KAAK3C,MACjBC,SAAUiL,EAAKvI,KAAK1C,SACpBC,OAAQgL,EAAKvI,KAAKzC,OAClBE,QAAS8K,EAAKvI,KAAKvC,QACnBsG,QAASwE,EAAKvI,KAAK+D,QACnBC,QAASuE,EAAKvI,KAAKgE,QACnBC,QAASsE,EAAKvI,KAAKiE,QACnBC,OAAQqE,EAAKvI,KAAKkE,OAClBC,OAAQoE,EAAKvI,KAAKmE,OAClBC,OAAQmE,EAAKvI,KAAKoE,OAClBC,OAAQkE,EAAKvI,KAAKqE,OAClB1G,UAAW4K,EAAKvI,KAAKrC,UACrB6N,OAAQjD,EAAKvI,KAAKwL,OAClB/H,MAAO8E,EAAKvI,KAAKyD,MACjBC,QAAS6E,EAAKvI,KAAK0D,QACnBY,SAAUiE,EAAKjE,SACfC,WAAYgE,EAAKhE,WACjBC,MAAO+D,EAAK/D,MACZC,eAAgB8D,EAAKlH,WA7BjBkH,EAAKrH,SAmCH,qBAAKlG,UAAU,UAAf,SAAyB,kD,cC1HxBsX,OA1Of,WAAmB,IAAD,EACwB1X,mBAAS,IADjC,mBACR2X,EADQ,KACMC,EADN,OAEW5X,mBAAS,IAFpB,mBAEP6X,EAFO,KAEAC,EAFA,OAGM9X,oBAAS,GAHf,mBAGR+X,EAHQ,KAGHC,EAHG,OAIchY,oBAAS,GAJvB,gCAKqBA,mBAAS,KAL9B,gCAMmBA,mBAAS,KAN5B,mBAMPiY,EANO,KAMIC,EANJ,OAO8CnX,IAP9C,0BAOP0C,EAPO,EAOPA,KAAKC,EAPE,EAOFA,QAAsC2N,GAPpC,EAOM8G,WAPN,EAOiBC,kBAPjB,QAQapY,oBAAS,GARtB,mBAQPqY,EARO,KAQCC,EARD,KAURpN,EAAQC,cAwHd,OAlHJhL,qBAAU,WACN,IAAIuE,GAAa,EAwBb,OAvBDjB,GAAwB,aAAlBC,EAAQ1B,UACrBf,EAAG0D,WAAW,cAAcC,QAAQ,aAAa,QAAQ4K,MAAM,IAAI1K,MAC9DC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAAD,OACjBR,EACDwT,GAAc,SAAC/S,GAEX,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOC,IAAIH,EAAIE,OAAOqB,WACxCkJ,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIC,KAAKqB,YAAYgJ,EAAQrK,KAAKqB,aAClE,MAAM,GAAN,mBAAUkJ,GAAV,CAAkBF,OAIrB,QAIZ4B,EAAS,CAACjJ,KAAK,iBAAiB+P,WAAW,KAC3C9G,EAAS,CAACjJ,KAAK,iBAAiB+P,WAAWF,OACrCxS,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAInB,kBAAMhB,GAAe,KAElC,CAACjB,IAGFtD,qBAAU,WACN,IAAIuE,GAAa,EA0BrB,OAzBOiT,GAAiC,aAAlBjU,EAAQ1B,SAC/Bf,EAAG0D,WAAW,SAASE,MAAM,WAAW,KAAK8S,GAAe7S,MAC3DC,MAAK,SAACC,GACCA,EAAcC,SAAQ,SAACC,GAAD,OACjBR,EACDoT,GAAU,SAAC3S,GACV,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOC,IAAIH,EAAIE,OAAO7C,QACxCoN,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIE,MAAMoK,EAAQpK,OAEhD,MAAM,GAAN,mBAAUsK,GAAV,CAAkBF,OAIpB,YAIDuI,GAAQ,GACVF,EAAU,IAEXnS,QAAQC,IAAI,UAEViS,EAAOtQ,OAAO,GACbyQ,GAAQ,GAEZ,kBAAMtT,GAAe,KAC1B,CAACiT,IAiDHxX,qBAAU,WAEXuN,YAAW,WACC4K,GAAYD,KACd,OACJ,IAGN,sBAAKjY,UAAU,UAAf,UAGI,sBAAKA,UAAU,iBAAf,UACI,cAAC,IAAD,IAEA,uBAAOiI,SAAU,SAACvC,GAAD,OAAK8R,EAAiB9R,EAAEwC,OAAOzH,QAAQA,MAAO8W,EAAelP,YAAY,mBAAkBrI,UAAU,eAAegI,KAAK,YAK9I,sBAAKhI,UAAU,2BAAf,UACI,wCACC6X,EAAWlQ,KAAI,SAAA7C,GAAG,OAC3B,sBAAK0C,QAAS,WAGVyJ,EAAS,CAACjJ,KAAK,wBAAwB8L,QAAQhP,EAAIE,KAAK8O,UACvD7C,EAAS,CAACjJ,KAAK,wBAAwBmQ,kBAAiB,IACxDrN,EAAQmC,KAAK,aAIhBjN,UAAU,oBATZ,UAUY,mCAAM8E,EAAIE,KAAK8O,WACf,8BAAIhP,EAAIE,KAAK6O,WAAb,mBAKX8D,GACD,8BACKF,EAAO9P,KAAI,SAAA7C,GAAG,OAEnB,cAAC,IAAD,CAAM/C,GAAE,mBAAc+C,EAAIE,KAAKpD,UAA/B,SACQ,sBAAK5B,UAAU,gBAAf,UACA,cAACiC,EAAA,EAAD,CAAQD,IAAK8C,EAAIE,KAAK2B,UAAU,KAChC,qBAAK3G,UAAU,sBAAf,SACI,6BAAK8E,EAAIE,KAAKpD,8B,MChCXwW,OA5If,WACI,IAAMtN,EAAQC,cADD,EAESnL,mBAAS,IAFlB,mBAEPyY,EAFO,KAEDC,EAFC,OAGe1Y,mBAAS,IAHxB,mBAGP2Y,EAHO,KAGEC,EAHF,OAIe5Y,mBAAS,IAJxB,gCAKiBe,KALjB,0BAKOsQ,GALP,EAKN5N,KALM,EAKDE,OALC,QAMO3D,oBAAS,GANhB,mBAMP6Y,EANO,KAMFC,EANE,KA0Gb,OANC3Y,qBAAU,WACZ0Y,GACCnL,YAAW,WACfoL,GAAQ,KACF,OACH,CAACD,IAEI,sBAAKzY,UAAU,QAAf,UACI,cAAC,IAAD,CAAM+B,GAAG,IAAT,SACI,qBAAK/B,UAAU,eAAekG,GAAG,QAAQlE,IAAI,0JAGrD,sBAAKhC,UAAU,mBAAf,UACI,yCAEA,iCAII,uCACA,uBAAOiI,SAAU,SAACvC,GAAD,OAAK4S,EAAS5S,EAAEwC,OAAOzH,QAAOA,MAAO4X,EAAOrQ,KAAK,SAElE,0CACA,uBAAOC,SAAU,SAACvC,GAAD,OAAK8S,EAAY9S,EAAEwC,OAAOzH,QAAOA,MAAO8X,EAAUvQ,KAAK,aACxE,wBAAQA,KAAK,SAAQR,QAhHpB,SAAC9B,GAClBA,EAAEE,iBACF,IAAI+S,EAAWN,EAAM/Q,QAAQ,OAAQ,IAGlCqR,GAAUJ,EAOb9W,EAAKmX,2BAA2BD,EAASJ,GAAU5T,MAAK,SAACkU,GAErD,IAAIC,EAAWD,EAAexV,KAC9B4N,EAAS,CACTjJ,KAAK,WACL3E,KAAKyV,IAMNA,EAAShR,KAEXjH,EAAGkY,gBAAgB,SAAStU,MAAM,SAAU,KAAMqU,EAAShR,KAC3DpD,MAAMC,MAAK,SAACC,GACTA,EAAcC,SAAQ,SAACC,GAEnBmM,EAAS,CACCjJ,KAAK,cACL1E,QAAQwB,EAAIE,eAI3BK,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,SAS7BX,MAAK,SAAClD,GACHqJ,EAAQmC,KAAK,QACd5H,OAAM,SAAAC,GAAK,OAAE7F,MAAM6F,EAAMkO,YAMvB/T,MAAM,8BA4D2CO,UAAU,gBAAhD,wBAMJ,wBAAQwH,QAAS,kBAAIsD,EAAQmC,KAAK,oBAAoBjN,UAAU,8BAAhE,8BACA,wBAAQwH,QAAS,kBAAIsD,EAAQmC,KAAK,cAAcjN,UAAU,wBAA1D,mC,6BCuKGgZ,OAtSf,WAAoB,IAAD,EACSpZ,mBAAS,IADlB,mBACPgX,EADO,KACDC,EADC,OAEsDlW,IAFtD,0BAER0C,EAFQ,EAERA,KAAgB2U,GAFR,EAEHD,WAFG,EAEQC,mBAAkBG,EAF1B,EAE0BA,iBAAkBlH,EAF5C,OAGarR,oBAAS,GAHtB,gCAIwBA,mBAAS,KAJjC,mBAIR2X,EAJQ,KAIMC,EAJN,OAKM5X,oBAAS,GALf,mBAKR+X,EALQ,KAKHC,EALG,OAMUhY,mBAAS,IANnB,mBAMR6X,EANQ,KAMDC,EANC,OAOoB9X,mBAAS,IAP7B,mBAORqZ,EAPQ,KAOIC,EAPJ,OAQsBtZ,mBAAS,IAR/B,mBAQRuZ,EARQ,KAQKC,EARL,KA2Hf,OA/GJrZ,qBAAU,WAEPiY,EAGCnX,EAAG0D,WAAW,SAASC,QAAQ,YAAY,QAAQ4K,MAAM,IAAI3K,MAAM,SAAS,iBAAiBuT,GAAmBtT,MAAMC,MAAK,SAACC,GAG5HA,EAAcC,SAAQ,SAACC,GAG3BsU,GAAgB,SAACrU,GACZ,IAAMsK,EAAQvK,EAAIE,OAEhBqU,EADYtU,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAI2O,OAAO,IAAIsE,KAC1B5S,QAAO,SAACL,GAAD,OAAOA,EAAI3C,QAAQiN,EAAQjN,SAExD,MAAM,GAAN,mBAAUiX,GAAV,CAAqBhK,aAIpBhK,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAAa2L,EAAS,CAACjJ,KAAK,wBAAwBmQ,kBAAiB,MAGnG,CAACH,IAKCjY,qBAAU,WACb,IAAIuE,GAAe,EAOhB,OANH2M,EAAS,CAACjJ,KAAK,wBAAwBmQ,kBAAiB,IAExDtX,EAAG0D,WAAW,SAASC,QAAQ,YAAY,QAAQ4K,MAAM,IAAI2G,YAAW,SAAA7C,GACzD5O,GACZuS,EAAS3D,EAAS8C,KAAKrO,KAAI,SAAA7C,GAAG,OAAGA,EAAIE,cAE9B,kBAAMV,GAAe,KAC1B,IAILvE,qBAAU,WACHwX,GAECtG,EAAS,CAACjJ,KAAK,wBAAwBmQ,kBAAiB,IACjEtX,EAAG0D,WAAW,SAASO,IAAIyS,GAAe7S,MAAMC,MAAK,SAACG,GAC/CA,EAAImC,QAAQwQ,EAAOtQ,OAAO,GAEjCuQ,GAAU,SAAC3S,GACR,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOC,IAAIH,EAAIE,OAAO7C,QAC3CoN,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIE,MAAMoK,EAAQpK,OAE9C,MAAM,GAAN,mBAAUsK,GAAV,CAAkBF,OAEtBuI,GAAQ,IAGGrS,QAAQC,IAAI,oBAGrBH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAKpBsS,GAAQ,GACRF,EAAU,OAIhB,CAACH,IAEHxX,qBAAU,WACX,IAAIuE,GAAa,EACjB,GAAGiT,EAAc,CACb,IACA+B,EADyB/B,EAAclL,MAAM,KAI9BxH,SAAQ,SAAS0H,GAGhC+M,EAAY/M,KAGhB1L,EAAG0D,WAAW,SAASE,MAAM,SAAS,iBAAiB6U,GAAa5U,MAAMC,MAAK,SAACC,GAG5EA,EAAcC,SAAQ,SAACC,GACfA,EAAImC,QAAQ3C,GAAc2U,EAAY9R,OAAO,IAGzD+R,GAAe,SAACnU,GACX,IAAMsK,EAAQvK,EAAIE,OACjBuK,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAI3C,QAAQiN,EAAQjN,SAEhD,MAAM,GAAN,mBAAUmN,GAAV,CAAkBF,OAIrBuI,GAAQ,IACArS,QAAQC,IAAI,0BAChBH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,WAC1BsS,GAAQ,GACVsB,EAAe,IACnB,OAAO,kBAAM5U,GAAe,KACzB,CAACiT,IAMI,sBAAKvX,UAAU,UAAf,UACJ,sBAAKA,UAAU,kBAAf,UACI,sBAAKA,UAAU,wBAAf,UACCqD,EAED,yCACC,sFAGD,8BACC8U,GAEG,cAAC,KAAD,CAAkBnY,UAAU,6BAA6BwH,QAAS,kBAAIyJ,EAAS,CAACjJ,KAAK,wBAAwBmQ,kBAAiB,YAOjI9U,GACD,sBAAKrD,UAAU,iBAAf,UACA,cAAC,IAAD,IAEA,uBAAOiI,SAAU,SAACvC,GAAD,OAAK8R,EAAiB9R,EAAEwC,OAAOzH,QAAQA,MAAO8W,EAAelP,YAAY,+BAA8BrI,UAAU,gBAAgBgI,KAAK,eAS9JmQ,EAAiB,8BACjBgB,EAAaxR,KAAI,SAAA4F,GAAI,OAEjB,cAAC,EAAD,CAIGnL,MAAOmL,EAAKnL,MACZD,OAAQoL,EAAKpL,OACboO,YAAahD,EAAKgD,YAClB3O,SAAU2L,EAAK3L,SACfE,SAAUyL,EAAKzL,SACfpC,KAAM6N,EAAK7N,KACVmC,OAAQ0L,EAAK1L,OACdW,MAAO+K,EAAK/K,MACZ6D,UAAWkH,EAAKlH,UAChBhE,MAAOkL,EAAKlL,MACZC,SAAUiL,EAAKjL,SACfC,OAAQgL,EAAKhL,OACbE,QAAS8K,EAAK9K,QACdsG,QAASwE,EAAKxE,QACdC,QAASuE,EAAKvE,QACdC,QAASsE,EAAKtE,QACdC,OAAQqE,EAAKrE,OACbC,OAAQoE,EAAKpE,OACbC,OAAQmE,EAAKnE,OACbC,OAAQkE,EAAKlE,QArBXkE,EAAKlH,gBA8Bf,8BACMsR,EAoCN,gCACEF,EAAO9P,KAAI,SAAA7C,GAAG,OAEhB,cAAC,IAAD,CAAM/C,GAAE,mBAAc+C,EAAIE,KAAKpD,UAA/B,SACQ,sBAAK5B,UAAU,gBAAf,UACA,cAACiC,EAAA,EAAD,CAAQD,IAAK8C,EAAIE,KAAK2B,UAAU,KAChC,qBAAK3G,UAAU,sBAAf,SACI,6BAAK8E,EAAIE,KAAKpD,qBAYrBqX,EAAYtR,KAAI,SAAA4F,GAAI,OAEpB,cAAC,EAAD,CAEGnL,MAAOmL,EAAKnL,MACZD,OAAQoL,EAAKpL,OACboO,YAAahD,EAAKgD,YAClB3O,SAAU2L,EAAK3L,SACfE,SAAUyL,EAAKzL,SACfpC,KAAM6N,EAAK7N,KACVmC,OAAQ0L,EAAK1L,OACdW,MAAO+K,EAAK/K,MACZ6D,UAAWkH,EAAKlH,UAChBhE,MAAOkL,EAAKlL,MACZC,SAAUiL,EAAKjL,SACfC,OAAQgL,EAAKhL,OACbE,QAAS8K,EAAK9K,QACdsG,QAASwE,EAAKxE,QACdC,QAASuE,EAAKvE,QACdC,QAASsE,EAAKtE,QACdC,OAAQqE,EAAKrE,OACbC,OAAQoE,EAAKpE,OACbC,OAAQmE,EAAKnE,OACbC,OAAQkE,EAAKlE,QApBXkE,EAAKlH,iBAzDX,8BACHuQ,EAAMjP,KAAI,SAAA4F,GAAI,OAEP,cAAC,EAAD,CAEC7K,MAAO6K,EAAK7K,MACbN,MAAOmL,EAAKnL,MACZD,OAAQoL,EAAKpL,OACboO,YAAahD,EAAKgD,YAClB3O,SAAU2L,EAAK3L,SACfE,SAAUyL,EAAKzL,SACfpC,KAAM6N,EAAK7N,KACVmC,OAAQ0L,EAAK1L,OACdW,MAAO+K,EAAK/K,MACZ6D,UAAWkH,EAAKlH,UAChBhE,MAAOkL,EAAKlL,MACZC,SAAUiL,EAAKjL,SACfC,OAAQgL,EAAKhL,OACbE,QAAS8K,EAAK9K,QACdsG,QAASwE,EAAKxE,QACdC,QAASuE,EAAKvE,QACdC,QAASsE,EAAKtE,QACdC,OAAQqE,EAAKrE,OACbC,OAAQoE,EAAKpE,OACbC,OAAQmE,EAAKnE,OACbC,OAAQkE,EAAKlE,OACb1G,UAAW4K,EAAK5K,UAChB6N,OAAQjD,EAAKiD,OACb/H,MAAO8E,EAAK9E,MACZC,QAAS6E,EAAK7E,SAzBT6E,EAAKlH,sB,cCxIHkT,OAhEf,YAAiD,IAAD,EAA5BrT,EAA4B,EAA5BA,GAAGsT,EAAyB,EAAzBA,MAAMC,EAAmB,EAAnBA,MAAMC,EAAa,EAAbA,WAAa,EACf9Z,mBAAS,IADM,mBACrC+Z,EADqC,KAC5BC,EAD4B,OAEXjZ,IAFW,0BAE9B2C,GAF8B,EAEnCD,KAFmC,EAE9BC,SAF8B,QAGd1D,mBAAS,KAHK,mBAGpCia,EAHoC,KAG3BC,EAH2B,KAqC5C,OA/BJ/Z,qBAAU,WACPmG,GACCrF,EAAG0D,WAAW,YAAYO,IAA1B,UAAiCoB,IAAM3B,WAAW,YAAYC,QAAQ,YAAY,QACjFuR,YAAW,SAAA7C,GAAQ,OACxB0G,EAAY1G,EAAS8C,KAAKrO,KAAI,SAAC7C,GAAD,OAAOA,EAAIE,gBAIvC,CAACkB,IAcCnG,qBAAU,WACXuD,EAAQ1B,WACF4X,IAAQlW,EAAQ1B,SACfkY,EAAYL,GACTK,EAAYN,MAEnB,CAAClW,EAAQ1B,WAGH8X,EAgBJ,8BACA,cAAC,IAAD,CAAM3X,GAAG,cAAT,SACF,qBAAK/B,UAAU,cAAf,SACI,mDAlBF,8BACI,cAAC,IAAD,CAAM+B,GAAE,oBAAemE,GAAvB,SACN,sBAAKlG,UAAU,cAAf,UACE,cAACiC,EAAA,EAAD,CAAQD,IAAI,KACZ,sBAAKhC,UAAU,oBAAf,UACI,6BAAK6Z,IACL,sCAAIF,EAAS,UAAb,aAAI,EAAanG,qB,OCwDduG,OAnGf,WAAuB,IAAD,EACapZ,IADb,0BACN2C,GADM,EACXD,KADW,EACNC,SADM,QAEoB1D,mBAAS,KAF7B,mBAEZ2X,EAFY,KAEEC,EAFF,OAGO5X,mBAAS,IAHhB,mBAGX6X,EAHW,KAGJC,EAHI,OAIE9X,oBAAS,GAJX,mBAIZ+X,EAJY,KAIPC,EAJO,KAKZ9M,EAAQC,cAERiP,EAAc,SAACtU,GACzBA,EAAEE,iBACCtC,GACCzC,EAAG0D,WAAW,YAAYkC,IAAI,CAC1BwT,eAAe3W,EAAQ1B,SACvBsY,iBAAiB3C,IAUlBlS,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAKlCwF,EAAQmC,KAAK,UAiCT,OA9BJlN,qBAAU,WACFwX,EACR1W,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,aAAaE,MAAM,WAAW,KAAK8S,GAAe7S,MACrGC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAG/B4S,GAAU,SAAC3S,GACR,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOC,IAAIH,EAAIE,OAAO7C,QAC3CoN,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIE,MAAMoK,EAAQpK,OAE9C,MAAM,GAAN,mBAAUsK,GAAV,CAAkBF,OAEtBuI,GAAQ,SAMJvS,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAKtBsS,GAAQ,GACRF,EAAU,IAEXnS,QAAQC,IAAI,YAEjB,CAAC+R,IAEI,sBAAKvX,UAAU,SAAf,UACI,sBAAKA,UAAU,iBAAf,UACJ,cAAC,IAAD,IAEA,uBAAOiI,SAAU,SAACvC,GAAD,OAAK8R,EAAiB9R,EAAEwC,OAAOzH,QAAQA,MAAO8W,EAAelP,YAAY,sBAAqBrI,UAAU,iBAAiBgI,KAAK,YAKnJ,qBAAKhI,UAAU,2BAAf,SAEH2X,EACD,8BACKF,EAAO9P,KAAI,SAAC7C,GAAD,OAChB,sBAAK0C,QAASwS,EAAeha,UAAU,gBAAvC,UACQ,cAACiC,EAAA,EAAD,CAAQD,IAAK8C,EAAIE,KAAK2B,WACtB,qBAAK3G,UAAU,sBAAf,SACI,6BAAK8E,EAAIE,KAAKpD,qBAYrB,8BCRUuY,OAhFf,WAAqB,IAAD,EACcva,mBAAS,IADvB,mBACR+Z,EADQ,KACCC,EADD,OAGgBjZ,IAHhB,0BAGR0C,EAHQ,EAGRA,KAAKC,EAHG,EAGHA,QAHG,QAIQ1D,oBAAS,IAJjB,mBAsDhB,OAtDgB,UAQpBG,qBAAU,WACHsD,GAAMC,EAAQ1B,WACrBf,EAAG0D,WAAW,YAAYE,MAAM,iBAAkB,KAAMnB,EAAQ1B,UAC3D8C,MACAC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAGnB8U,GAAY,SAAC7U,GACT,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOkB,GAAGpB,EAAIoB,IAChCqJ,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAImB,KAAKmJ,EAAQnJ,MACjD,MAAM,GAAN,mBAAUqJ,GAAV,CAAkBF,aAK7BhK,OAAM,SAACC,GACJC,QAAQC,IAAI,4BAA6BF,MAI7CzE,EAAG0D,WAAW,YAAYE,MAAM,mBAAoB,KAAMnB,EAAQ1B,UACjE8C,MACAC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAGnB8U,GAAY,SAAC7U,GACT,IAAMsK,EAAQ,CAACrK,KAAKF,EAAIE,OAAOkB,GAAGpB,EAAIoB,IAChCqJ,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAImB,KAAKmJ,EAAQnJ,MACjD,MAAM,GAAN,mBAAUqJ,GAAV,CAAkBF,aAK7BhK,OAAM,SAACC,GACJC,QAAQC,IAAI,4BAA6BF,SAK/C,CAACjC,EAAKC,EAAQ1B,WAOR,qBAAK5B,UAAU,OAAf,SAEG,gCACC,qBAAKA,UAAU,eAAf,SACX,wCAGG,cAAC,GAAD,CAAW0Z,YAAU,IACZC,EAAShS,KAAI,SAAA6L,GAAO,OAEjC,cAAC,GAAD,CAA4BtN,GAAIsN,EAAQtN,GAAIsT,MAAOhG,EAAQxO,KAAKkV,iBAAkBT,MAAOjG,EAAQxO,KAAKiV,gBAAtFzG,EAAQtN,a,2GC8CTkU,OA5Gf,WAAiB,IAAD,MACWxa,mBAAS,IADpB,mBACLya,EADK,KACCC,EADD,OAEU1a,mBAAS,IAFnB,mBAEL2a,EAFK,KAECC,EAFD,KAGLC,EAAQhM,cAARgM,OAHK,EAIiB7a,mBAAS,IAJ1B,mBAILia,EAJK,KAIIC,EAJJ,OAKiBla,mBAAS,IAL1B,mBAKL+Z,EALK,KAKIC,EALJ,OAMoBjZ,IANpB,0BAMC2C,GAND,EAMJD,KANI,EAMCC,SAqDf,OA3Dc,KAUZvD,qBAAU,WACL,IAAIuE,GAAe,EA0B5B,OAzBGmW,GAAQnX,EAAQ1B,WACff,EAAG0D,WAAW,YAAYO,IAAI2V,GAAQ1E,YAAW,SAAC7C,GAI9CrS,EAAG0D,WAAW,YACbO,IAAI2V,GAAQlW,WAAW,YACvBC,QAAQ,YAAa,OACrBuR,YAAW,SAAA7C,GAAQ,OACf5O,EACDsV,EAAY1G,EAAS8C,KAAKrO,KAAI,SAAA7C,GAAG,OAAEA,EAAIE,WACpC,WAKZnE,EAAG0D,WAAW,YAAYO,IAAI2V,GAAQ/V,MAAMC,MAAK,SAACG,GAE3CA,EAAIE,OAAOkV,mBAAmB5W,EAAQ1B,UAAU0C,EACnDwV,EAAYhV,EAAIE,OAAOiV,gBACd3V,EACLwV,EAAYhV,EAAIE,OAAOkV,kBACrB3U,QAAQC,IAAI,0BACnBH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAE1B,kBAAMhB,GAAe,KACtB,CAAChB,EAAQ1B,WAEX7B,qBAAU,WACNya,EAAQ3T,KAAKgH,MAAoB,IAAdhH,KAAKC,aAC1B,CAACxD,EAAQ1B,WAkBX,sBAAK5B,UAAU,OAAf,UAEE,sBAAKA,UAAU,eAAf,UACA,cAACiC,EAAA,EAAD,CAAQD,IAAG,qDAAgDuY,EAAhD,UACX,sBAAKva,UAAU,mBAAf,UACI,6BAAK6Z,IACL,2CAAc,GAAI,IAAIvT,KAAJ,UAASqT,EAASA,EAASxS,OAAO,UAAlC,iBAAS,EAA6BP,iBAAtC,aAAS,EAAwC8T,UAAUC,oBAGvF,sBAAK3a,UAAU,oBAAf,UACA,cAACuH,EAAA,EAAD,UAAY,cAAC,KAAD,MAEF,cAACA,EAAA,EAAD,UAAY,cAAC,KAAD,MACZ,eAACA,EAAA,EAAD,eAAa,cAAC,KAAD,IAAb,aAOJ,qBAAKvH,UAAU,aAAf,SACK2Z,EAAShS,KAAI,SAAA6L,GAAO,aAGzB,oBAAGxT,UAAS,wBAAmBwT,EAAQ5R,WAAW0B,EAAQ1B,UAAW,iBAAzD,KAAZ,UACA,sBAAM5B,UAAU,aAAhB,SAA8BwT,EAAQ5R,WAAW0B,EAAQ1B,SAAS,MAAM4R,EAAQ5R,WAC/E4R,EAAQA,QACT,sBAAMxT,UAAU,kBAAhB,SAAmC,IAAIsG,KAAJ,UAASkN,EAAQ5M,iBAAjB,aAAS,EAAmB8T,UAAUC,wBAKzE,sBAAK3a,UAAU,eAAf,UACN,cAAC,KAAD,IACA,iCACI,uBAAOS,MAAO4Z,EAAOpS,SAAU,SAAAvC,GAAC,OAAE4U,EAAS5U,EAAEwC,OAAOzH,QAAQ4H,YAAY,iBAAiBL,KAAK,SAC1F,wBAAQR,QApDM,SAAC9B,GACfA,EAAEE,iBACFL,QAAQC,IAAI,aAAa6U,GAEjCxZ,EAAG0D,WAAW,YAAYO,IAAI2V,GAAQlW,WAAW,YAAYkC,IAAI,CAC7D+M,QAAQ6G,EACRlY,OAAOmB,EAAQnB,OACfP,SAAS0B,EAAQ1B,SACjBgF,UAAU9F,IAASU,UAAUuE,WAAW6U,kBACxC3V,IAAI3B,EAAQnB,SACbkD,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAEtBgV,EAAS,KAwCqBtS,KAAK,SAAnC,+BAGR,cAAC,KAAD,W,OCzBe6S,OAhFf,WAAsB,IACVrM,EAAOC,cAAPD,MADS,EAEmB5O,mBAAS,IAF5B,mBAETkb,EAFS,KAEGC,EAFH,OAGMpa,IAHN,mBAGV0C,EAHU,KAGVA,KAHU,QAISzD,mBAAS,KAJlB,mBAIXob,EAJW,KAIHC,EAJG,KAgDjB,OAzCAlb,qBAAU,WAEJ,aAAPyO,GAEC3N,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,aAC5CwR,YAAW,SAAA7C,GAAQ,OACxB+H,EAAW/H,EAAS8C,KAAKrO,KAAI,SAAC7C,GAAD,OAAOA,EAAIE,gBAKlC,CAAC3B,IAIHtD,qBAAU,WACbib,EAAQrT,KAAI,SAAC7C,GACdjE,EAAG0D,WAAW,SAASO,IAAIA,EAAIlD,UAC1B8C,MAAMC,MAAK,SAACG,GACjBiW,GAAe,SAAChW,GACA,IAAMsK,EAAQvK,EAAIE,OACZuK,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAI5C,SAASkN,EAAQlN,UACrD,MAAM,GAAN,mBAAUoN,GAAV,CAAkBF,UAGvBhK,OAAM,SAACC,GACVC,QAAQC,IAAI,4BAA6BF,WAa3C,CAAC0V,IAGC,sBAAKhb,UAAU,YAAf,UACJ,qBAAKA,UAAU,oBAAf,SACA,6CAEC,8BACK8a,EAAYnT,KAAI,SAAC7C,GAAD,OACzB,cAAC,IAAD,CAAM/C,GAAE,mBAAc+C,EAAIlD,UAA1B,SACK,sBAAK5B,UAAU,mBAAf,UACE,cAACiC,EAAA,EAAD,CAAQD,IAAK8C,EAAI6B,WACjB,qBAAK3G,UAAU,yBAAf,SACI,6BAAK8E,EAAIlD,2B,OCqBNsZ,OAhFf,WAAsB,IACX1M,EAAOC,cAAPD,MADU,EAEmB5O,mBAAS,IAF5B,mBAETub,EAFS,KAEGC,EAFH,OAGMza,IAHN,mBAGV0C,EAHU,KAGVA,KAHU,QAISzD,mBAAS,KAJlB,mBAIXyb,EAJW,KAIHC,EAJG,KAiDjB,OA1CAvb,qBAAU,WAGJ,aAAPyO,GACC3N,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,aAC5CwR,YAAW,SAAA7C,GAAQ,OACxBoI,EAAWpI,EAAS8C,KAAKrO,KAAI,SAAC7C,GAAD,OAAOA,EAAIE,gBAKlC,CAAC3B,IAIHtD,qBAAU,WACbsb,EAAQ1T,KAAI,SAAC7C,GACdjE,EAAG0D,WAAW,SAASO,IAAIA,EAAIlD,UAC1B8C,MAAMC,MAAK,SAACG,GACjBsW,GAAe,SAACrW,GACA,IAAMsK,EAAQvK,EAAIE,OACZuK,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAI5C,SAASkN,EAAQlN,UACrD,MAAM,GAAN,mBAAUoN,GAAV,CAAkBF,UAGvBhK,OAAM,SAACC,GACVC,QAAQC,IAAI,4BAA6BF,WAa3C,CAAC+V,IAIC,sBAAKrb,UAAU,YAAf,UACJ,qBAAKA,UAAU,oBAAf,SACA,6CAEC,8BACKmb,EAAYxT,KAAI,SAAC7C,GAAD,OACzB,cAAC,IAAD,CAAM/C,GAAE,mBAAc+C,EAAIlD,UAA1B,SACK,sBAAK5B,UAAU,mBAAf,UACE,cAACiC,EAAA,EAAD,CAAQD,IAAK8C,EAAI6B,WACjB,qBAAK3G,UAAU,yBAAf,SACI,6BAAK8E,EAAIlD,2B,6BC8DN2Z,OAzHf,WAAwB,IAAD,EACa5a,IADb,0BACX0C,EADW,EACXA,KAAKC,EADM,EACNA,QADM,QAEA1D,mBAAS0D,EAAQkY,MAFjB,mBAEZA,EAFY,KAERC,EAFQ,OAGG7b,mBAAS,IAHZ,gCAIKA,mBAAS,KAJd,mBAIX4C,EAJW,KAKZkZ,GALY,KAKF,SAAD,OAAUpY,EAAQ1B,SAAlB,YAA8BiF,KAAKC,SAASN,SAAS,MALlD,EAMM5G,mBAAS,GANf,mBAMVuE,EANU,KAMJC,EANI,KA4EnB,OAnBCrE,qBAAU,WAKf,IAHA,IAAImH,EAAMsU,EAAIrU,OACV9C,EAAO,EAEH+C,EAAI,EAAGA,GAAKF,EAAKE,IACT,KAAVoU,EAAIpU,IAEH/C,IAKP,GADAD,EAASC,GACNA,EAAO,IAAI,CACV,IAAIsX,EAAOH,EACXG,EAAOA,EAAOrU,QAAP,UAAkBqU,EAAOA,EAAOxU,OAAQ,IAAK,IACpDsU,EAAOE,MAEJ,CAACH,IAEA,sBAAKxb,UAAU,OAAf,UACJ,qBAAKA,UAAU,eAAf,SACA,gDAGA,sBAAKA,UAAU,cAAf,UACI,cAACiC,EAAA,EAAD,CAAQD,IAAKsB,EAAQqD,WAEvB,uBAAO0B,YAAY,mBAAmB8L,OAAO,SAASnM,KAAK,OAAO9B,GAAG,aAAazF,MAAO+B,EAAOyF,SA/D1E,SAACvC,GACrB,IAAMlD,EAAMkD,EAAEwC,OAAO0K,MAAM,GAErBC,EAAKnR,EAAQoR,MAAMC,MAAM2I,GAAW1I,IAAIxQ,GAgB9CqQ,EAAKI,GAAG,kBAdU,SAAAC,GACf3N,QAAQC,IAAR,sBAA2B0N,EAASC,sBAUvB,SAAAD,GAChB3N,QAAQC,IAAI0N,MATQ,WAC5BL,EAAKK,SAASJ,IAAIM,iBAAiBzO,MAAK,SAACuO,GACrCrS,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAUkE,OAAO,CAChDa,SAASuM,aAsDX,cAACkB,EAAA,EAAD,CAASC,MAAM,qBAAf,SACA,cAAC9M,EAAA,EAAD,CAAYvH,UAAU,oBAAoBwH,QA7C1B,WACEiF,SAASC,eAAe,cAC9B4G,SA2CZ,SACA,cAAC,KAAD,WAaF,sBAAKtT,UAAU,YAAf,UACE,qCACA,sBAAO6H,SA/FO,SAACnC,GACZA,EAAEE,iBACCvC,GAAwB,aAAlBC,EAAQ1B,UACjBf,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAUkE,OAAO,CAChD0V,IAAIA,IACLnW,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAC9BmW,EAAO,KAyFV,SACI,sBAAKzb,UAAU,mBAAf,UACJ,uBAAOA,UAAU,aAAcqI,YAAamT,EAAKxT,KAAK,OAAOvH,MAAO+a,EAAKvT,SAAU,SAACvC,GAAD,OAAK+V,EAAO/V,EAAEwC,OAAOzH,UAEnG,sBAAKT,UAAU,WAAf,UAA2BmE,EAA3B,sB,OCiGIyX,OA/Mf,WAA0B,IAAD,EACChc,mBAAS,IADV,mBACfic,EADe,KACTC,EADS,OAEOlc,mBAAS,IAFhB,mBAEfmc,EAFe,KAENC,EAFM,OAGUrb,IAHV,0BAGd0C,EAHc,EAGdA,KAAKC,EAHS,EAGTA,QACNwH,GAJe,KAIPC,eAsFd,OAnFJhL,qBAAU,WACV,IAAIuE,GAAe,EAanB,YAXwB8D,IAArB9E,EAAQ1B,UACXf,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBC,QAAQ,YAAY,QACxFuR,YAAW,SAAA7C,GAAQ,OACd5O,EACFwX,EAAS5I,EAAS8C,KAAKrO,KAAI,SAAC7C,GAAD,OAAOA,EAAIE,WAClB,QAMrB,kBAAMV,GAAe,KAC1B,CAACjB,IAIHtD,qBAAU,WACP,IAAIuE,GAAe,EA0DtB,OAzDGjB,GAAMiB,EAELuX,EAAMlU,KAAI,SAAC7C,GAEP,IAAI4I,EAAM5I,EAAI8B,UAGX+G,IAFO,IAAIrH,MAAOC,UAAUC,WAEZkH,GAAO,IAC9BC,EAAO9G,KAAK+G,IAAI/G,KAAKgH,MAAMF,IAE3B,IASIG,EATAC,EAAOlH,KAAKgH,MAAMF,EAAK,OACvBK,EAAUL,EAAc,GAAPI,EAAU,GAAG,GAE9BE,EAAMpH,KAAKgH,MAAMG,EAAQ,MAGzBE,GAFAF,EAAUA,EAAgB,GAANC,EAAS,GAEvBpH,KAAKgH,MAAMG,EAAS,KAC1BA,GAA0B,GAANE,EAI3BJ,EADMC,EAAK,GAAGE,EAAI,GAAGC,EAAI,EACjB,IAAD,OAAKF,EAAL,SAEID,EAAK,GAAGE,EAAI,EACP,GAAD,OAAIC,EAAJ,SAEJH,EAAK,EACL,GAAD,OAAIE,EAAJ,SAEK,GAAD,OAAIF,EAAJ,SAEXiO,GAAY,SAACjX,GAEN,IAAIkX,EACDnX,EAAI4B,cACLuV,EAAQ,CAACpa,OAAOiD,EAAIjD,OAAO6E,cAAc5B,EAAI4B,cAAcwV,aAAapO,EAAQ1H,OAAOtB,EAAIsB,OAAOnB,IAAIH,EAAIG,IAAI7C,MAAM0C,EAAI1C,OACjH0C,EAAIqX,eAETF,EAAQ,CAACpa,OAAOiD,EAAIjD,OAAOsa,eAAerX,EAAIqX,eAAeD,aAAapO,EAAQ7I,IAAIH,EAAIG,IAAI7C,MAAM0C,EAAI1C,OAEnG0C,EAAIiP,YACTkI,EAAQ,CAACpa,OAAOiD,EAAIjD,OAAOkS,YAAYjP,EAAIiP,YAAYmI,aAAapO,EAAQ1H,OAAOtB,EAAIsB,OAAOnB,IAAIH,EAAIG,IAAI7C,MAAM0C,EAAI1C,OAEhH0C,EAAIiD,kBACRkU,EAAQ,CAACpa,OAAOiD,EAAIjD,OAAOkG,gBAAgBjD,EAAIiD,gBAAgBmU,aAAapO,EAAQ1H,OAAOtB,EAAIsB,OAAOnB,IAAIH,EAAIG,IAAI7C,MAAM0C,EAAI1C,QAG9H,IAAMmN,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIE,MAAMgX,EAAQhX,OACvD,MAAM,GAAN,mBAAUsK,GAAV,CAAkB0M,UAQpB1W,QAAQC,IAAI,oBACX,kBAAMlB,GAAe,KAC1B,CAACjB,EAAKwY,IAKA,sBAAK7b,UAAU,gBAAf,UACI,qBAAKA,UAAU,wBAAf,SACA,iDAEC+b,EAASpU,KAAI,SAAA7C,GAAG,OAC5B,qBAAK9E,UAAU,uBAAf,SAGO,gCAEK8E,EAAI4B,eACL,sBAAK1G,UAAU,sBAAf,UACA,cAACiC,EAAA,EAAD,CAAQuF,QAAS,SAAC9B,GACbA,EAAEC,kBACdD,EAAEE,iBACF/E,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBO,IAAIA,EAAI1C,OAAO0D,OAAO,CAC3FiB,MAAK,IAET+D,EAAQmC,KAAR,mBAAyBnI,EAAI4B,iBAClB1E,IAAK8C,EAAIjD,SACb,sBAAM2F,QAAS,SAAC9B,GACZA,EAAEC,kBACbD,EAAEE,iBAEF/E,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBO,IAAIA,EAAI1C,OAAO0D,OAAO,CAC3FiB,MAAK,IAEE+D,EAAQmC,KAAR,gBAAsBnI,EAAI4B,cAA1B,YAA2C5B,EAAIsB,UAAYpG,UAAU,oBAPzE,UASA,+BAAI,iCAAS8E,EAAI4B,gBAAjB,IAAyC,4DACzC,4BAAG,gCAAQ5B,EAAIoX,uBAKdpX,EAAIqX,gBACL,sBAAKnc,UAAU,sBAAf,UACA,cAACiC,EAAA,EAAD,CAAQuF,QAAS,SAAC9B,GACbA,EAAEC,kBACdD,EAAEE,iBACF/E,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBO,IAAIA,EAAI1C,OAAO0D,OAAO,CAC3FiB,MAAK,IAET+D,EAAQmC,KAAR,mBAAyBnI,EAAIqX,kBACnBna,IAAK8C,EAAIjD,SACZ,sBAAK2F,QAAS,SAAC9B,GACVA,EAAEC,kBACFD,EAAEE,iBACA/E,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBO,IAAIA,EAAI1C,OAAO0D,OAAO,CACvFiB,MAAK,IAEhB+D,EAAQmC,KAAR,mBAAyBnI,EAAIqX,kBAAoBnc,UAAU,oBAN/D,UAQA,+BAAI,iCAAS8E,EAAIqX,iBAAjB,IAA0C,6DAC1C,4BAAG,gCAAQrX,EAAIoX,uBAIdpX,EAAIiP,aACL,sBAAK/T,UAAU,sBAAf,UACA,cAACiC,EAAA,EAAD,CAAQuF,QAAS,SAAC9B,GACbA,EAAEC,kBACdD,EAAEE,iBACF/E,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBO,IAAIA,EAAI1C,OAAO0D,OAAO,CAC3FiB,MAAK,IAET+D,EAAQmC,KAAR,mBAAyBnI,EAAIiP,eAClB/R,IAAK8C,EAAIjD,SACb,sBAAK2F,QAAS,SAAC9B,GACVA,EAAEC,kBACFD,EAAEE,iBACA/E,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBO,IAAIA,EAAI1C,OAAO0D,OAAO,CACvFiB,MAAK,IAEhB+D,EAAQmC,KAAR,gBAAsBnI,EAAIiP,YAA1B,YAAyCjP,EAAIsB,UAAYpG,UAAU,oBANvE,UAQA,+BAAI,iCAAS8E,EAAIiP,cAAjB,IAAuC,sEACvC,4BAAG,gCAAQjP,EAAIoX,uBAKdpX,EAAIiD,iBACL,sBAAK/H,UAAU,sBAAf,UACA,cAACiC,EAAA,EAAD,CAAQuF,QAAS,SAAC9B,GACbA,EAAEC,kBACdD,EAAEE,iBACF/E,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBO,IAAIA,EAAI1C,OAAO0D,OAAO,CAC3FiB,MAAK,IAET+D,EAAQmC,KAAR,mBAAyBnI,EAAIiD,mBACnB/F,IAAK8C,EAAIjD,SACZ,sBAAM2F,QAAS,SAAC9B,GACXA,EAAEC,kBACdD,EAAEE,iBACS/E,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,iBAAiBO,IAAIA,EAAI1C,OAAO0D,OAAO,CACtGiB,MAAK,IAEE+D,EAAQmC,KAAR,gBAAsBnI,EAAIiD,gBAA1B,YAA6CjD,EAAIsB,UAAYpG,UAAU,oBAN3E,UAQA,+BAAI,iCAAS8E,EAAIiD,kBAAjB,IAA2C,mEAC3C,4BAAG,gCAAQjD,EAAIoX,mCCxFZE,OAzGf,WACI,IAAMtR,EAAQC,cADE,EAEMnL,mBAAS,IAFf,mBAEVyY,EAFU,KAEJC,EAFI,OAGY1Y,mBAAS,IAHrB,mBAGV2Y,EAHU,KAGDC,EAHC,OAIY5Y,mBAAS,IAJrB,mBAIVgC,EAJU,KAIDya,EAJC,OAKc1b,IALd,+BAKT0C,KALS,EAKJE,OALI,KAMI3D,oBAAS,IANb,mBAMV6Y,EANU,KAMLC,EANK,KAqEhB,OANC3Y,qBAAU,WACZ0Y,GACCnL,YAAW,WACfoL,GAAQ,KACF,OACH,CAACD,IAEI,sBAAKzY,UAAU,QAAf,UACI,cAAC,IAAD,CAAM+B,GAAG,IAAT,SACI,qBAAK/B,UAAU,eAAekG,GAAG,QAAQlE,IAAI,0JAGrD,sBAAKhC,UAAU,mBAAf,UACI,0CAEA,iCACI,0CACA,uBAAOiI,SAAU,SAACvC,GAAD,OAAK2W,EAAY3W,EAAEwC,OAAOzH,QAAOA,MAAOmB,EAAUoG,KAAK,SAExE,uCACA,uBAAOC,SAAU,SAACvC,GAAD,OAAK4S,EAAS5S,EAAEwC,OAAOzH,QAAOA,MAAO4X,EAAOrQ,KAAK,SAElE,0CACA,uBAAOC,SAAU,SAACvC,GAAD,OAAK8S,EAAY9S,EAAEwC,OAAOzH,QAAOA,MAAO8X,EAAUvQ,KAAK,gBAO5E,wBAAQR,QArFD,SAAC9B,GACZA,EAAEE,iBAEF,IAAI+S,EAAWN,EAAM/Q,QAAQ,OAAQ,IAElC1F,GAAoB,aAAVA,EACrBf,EAAG0D,WAAW,SAASE,MAAM,WAAW,KAAK7C,GAAU8C,MAAMC,MAAK,SAAAG,GAC9D,GAAGA,EAAImC,OACH,OAAOxH,MAAMmC,EAAS,mCAE9BH,EAAK6a,+BAA+B3D,EAASJ,GAAU5T,MAAK,SAACkU,GAEzD,IAAI0D,EAAU1D,EAAexV,KAG7BxC,EAAG0D,WAAW,SAASO,IAAIlD,GAAUuE,IAAI,CACzCvE,SAASA,EACTyW,MAAMkE,EAAQlE,MACdlW,OAAOoa,EAAQzU,IACfnB,SAAS,GACT6U,IAAI,KAIR3a,EAAG0D,WAAW,SAASO,IAAIlD,GAAU2C,WAAW,gBAAgBO,IAAIlD,GAAUuE,IAAI,CAC9EqW,UAAU,IACXnX,OAAM,SAAAC,GAAK,OAAE7F,MAAM6F,EAAMkO,YAC3B3S,EAAG0D,WAAW,SAASO,IAAIlD,GAAU2C,WAAW,gBAAgBO,IAAIlD,GAAUuE,IAAI,CAC/EsW,UAAU,IACXpX,OAAM,SAAAC,GAAK,OAAE7F,MAAM6F,EAAMkO,YAE5B+I,EAAQG,wBAAwB/X,MAAK,eAElCU,OAAM,SAASC,OAIlBgT,EAAS,IACL+D,EAAY,IACZ7D,EAAY,OAIP7T,MAAK,SAAClD,GACHiX,GAAQ,MACTrT,OAAM,SAAAC,GAAK,OAAE7F,MAAM6F,EAAMkO,eAM9B/T,MAAM,0BAkC2BO,UAAU,wBAArC,4BAEC,wBAAQgI,KAAK,SAASR,QAAS,kBAAIsD,EAAQmC,KAAK,WAAUjN,UAAU,gBAApE,gCAGJyY,GAAM,qBAAKzY,UAAU,eAAf,SACF,iF,6CCAE2c,OA9Ff,WAAyB,IACdnO,EAAOC,cAAPD,MADa,EAEmB7N,IAFnB,+BAEZ0C,KAFY,EAEPC,QAFO,EAECC,OAFD,KAGY3D,mBAAS,KAHrB,mBAGZgd,EAHY,KAGFC,EAHE,OAIIjd,mBAAS,IAJb,mBAIZgX,EAJY,KAINC,EAJM,KA2CpB,OApCJ9W,qBAAU,WACL,IAAIuE,GAAe,EAOpB,OANAA,GACAzD,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,cAAcwR,YAAW,SAAA7C,GAAQ,OAErE2J,EAAa3J,EAAS8C,KAAKrO,KAAI,SAAC7C,GAAD,OAAOA,EAAIE,cAG5C,kBAAMV,GAAe,KAC9B,IAEFvE,qBAAU,WACL,IAAIuE,GAAe,EAcpB,OAbGsY,EAAUzV,OAAO,GAAG7C,GAC1BsY,EAAUjV,KAAI,SAACmV,GACJjc,EAAG0D,WAAW,SAASO,IAAIgY,EAAK1W,QAAQ1B,MAAMC,MAAK,SAAC+K,GAEjDmH,GAAS,SAAC9R,GAET,IAAMsK,EAAQK,EAAK1K,OACbuK,EAAQxK,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAI3C,QAAQiN,EAAQjN,SACpD,MAAM,GAAN,mBAAUmN,GAAV,CAAkBF,aAKvB,kBAAM/K,GAAe,KAC9B,CAACsY,IAWG,mCACaxU,GAAPwO,EACF,8BACTA,EAAMjP,KAAI,SAAA4F,GAAI,OAGP,cAAC,EAAD,CAGD7K,MAAO6K,EAAK7K,MACXN,MAAOmL,EAAKnL,MACZD,OAAQoL,EAAKpL,OACboO,YAAahD,EAAKgD,YAClB3O,SAAU2L,EAAK3L,SACfE,SAAUyL,EAAKzL,SACfpC,KAAM6N,EAAK7N,KACVmC,OAAQ0L,EAAK1L,OACdW,MAAO+K,EAAK/K,MACZ6D,UAAWkH,EAAKlH,UAChBhE,MAAOkL,EAAKlL,MACZC,SAAUiL,EAAKjL,SACfC,OAAQgL,EAAKhL,OACbE,QAAS8K,EAAK9K,QACdsG,QAASwE,EAAKxE,QACdC,QAASuE,EAAKvE,QACdC,QAASsE,EAAKtE,QACdC,OAAQqE,EAAKrE,OACbC,OAAQoE,EAAKpE,OACbC,OAAQmE,EAAKnE,OACbC,OAAQkE,EAAKlE,OACb1G,UAAW4K,EAAK5K,UAChB6N,OAAQjD,EAAKiD,OACb/H,MAAO8E,EAAK9E,MACZC,QAAS6E,EAAK7E,QACdY,SAAUiE,EAAKjE,UA1BXiE,EAAKlH,gBAgCN,gDC6NI0W,OA/Sf,WAAwB,IACbvO,EAAOC,cAAPD,MACD1D,EAAQC,cAFK,EAIoBpK,IAJpB,0BAIX0C,EAJW,EAIXA,KAAKC,EAJM,EAINA,QAJM,KAIEC,OAJF,KAMc3D,mBAAS,KANvB,gCAOgBA,mBAAS,KAPzB,mBAOZod,EAPY,KAOAC,EAPA,OAQKrd,oBAAS,GARd,mBAQXiK,EARW,KAQLC,EARK,OASMlK,oBAAS,GATf,mBASZgK,EATY,KASL8E,EATK,OAUM9O,mBAAS,IAVf,mBAUZsd,EAVY,KAULvT,EAVK,OAYmB/J,mBAAS,GAZ5B,mBAYbud,EAZa,KAYCC,EAZD,OAaQxd,mBAAS,IAbjB,gCAciBA,mBAAS,KAd1B,gCAeMA,mBAAS,KAff,gCAgBMA,oBAAS,IAhBf,mBAgBZkG,EAhBY,aAiBmBlG,oBAAS,IAjB5B,mBAiBXyd,EAjBW,KAiBEC,EAjBF,OAkBW1d,oBAAS,GAlBpB,oBAkBX2d,GAlBW,MAkBFC,GAlBE,SAmBmB5d,mBAAS,IAnB5B,qBAmBX6d,GAnBW,MAmBEC,GAnBF,SAoBmB9d,mBAAS,IApB5B,qBAoBX+d,GApBW,MAoBEC,GApBF,MAwBvB7d,qBAAU,WACN,IAAIuE,GAAe,EAmBvB,OAhBUhB,GAAkB,cAARkL,GAAsBlK,GAAcjB,EACxDxC,EAAG0D,WAAW,SAASO,IAAvB,WAA+BxB,EAAQ1B,SAAvC,sBAA6D4M,IAAS9J,MAAMC,MAAK,SAAAG,GAC1EA,EAAImC,QACHyH,GAAU,GACV8O,IAAY,GACZjY,QAAQC,IAAI,qBAEZkJ,GAAU,GACV8O,IAAY,GACZjY,QAAQC,IAAI,qBAEjBH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MACjBC,QAAQC,IAAI,cAIlB,kBAAMlB,GAAe,KAC1B,CAACsF,EAAOvG,EAAKC,IAUP,IAAMua,GAAa,SAACnY,GAEhBA,EAAEE,iBACFgE,GAAe,aAAP4E,IACPE,GAAU,GACV/E,EAAU,6BAAIuT,GAAL,IAAYT,UAAU,KAE/BW,EAAiBD,EAAc,GAC/Btc,EAAG0D,WAAW,SAASO,IAAvB,iBAA8BxB,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAS1B,SAAvC,sBAA6D4M,IAAS3I,SAASlB,MAAK,WAC7FY,QAAQC,IAAI,qCACbH,OAAM,SAACC,GACNC,QAAQD,MAAM,4BAA6BA,MAE/CzE,EAAG0D,WAAW,SAASO,IAAvB,WAA+B0J,EAA/B,sBAAkDlL,EAAQ1B,WAAYiE,SACxDlB,MAAK,WACfY,QAAQC,IAAI,mCACbH,OAAM,SAACC,GACNC,QAAQD,MAAM,0BAA2BA,MAG7CzE,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,gBAAgBO,IAAI0J,GAAO1I,OAAO,CAC3E2W,UAAUkB,GAAa,IACpBhZ,MAAK,WAAKY,QAAQC,IAAI,oCAAmCH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAEvFzE,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,gBAAgBO,IAAIxB,EAAQ1B,UAAUkE,OAAO,CACrG0W,UAAUiB,GAAa,IACxB9Y,MAAK,WAAKY,QAAQC,IAAI,oCAAmCH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAEhFzE,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,iBAAiBE,MAAM,iBAAiB,KAAKnB,EAAQ1B,UAAU8C,MAAMC,MAAK,SAACsB,GACvHA,EAAMpB,SAAQ,SAACC,GACRjE,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,iBAAiBO,IAAIA,EAAIoB,IAAIL,SAASlB,MAAK,WACnGY,QAAQC,SACTH,OAAM,SAACC,GACNC,QAAQD,MAAM,4BAA6BA,aAOlCsE,GAAe,aAAP4E,IAERE,GAAU,GACX/E,EAAU,6BAAIuT,GAAL,IAAYT,UAAU,KAC9BW,EAAiBD,EAAc,GAE/Btc,EAAG0D,WAAW,SAASO,IAAvB,kBAA+BxB,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAS1B,SAAxC,sBAA8D4M,IAASrI,IAAI,CACvEhE,OAAO6a,EAAY7a,OACnBP,SAAS4M,EACT5H,WAAU,IAAIN,MAAOC,UAAUC,WAC/BG,SAASqW,EAAYrW,SACrBmX,QAAQxa,EAAQnB,SACjBwC,MAAK,WACjBY,QAAQC,IAAI,mCACbH,OAAM,SAACC,GACNC,QAAQD,MAAM,0BAA2BA,MAG7CzE,EAAG0D,WAAW,SAASO,IAAvB,WAA+B0J,EAA/B,sBAAkDlL,EAAQ1B,WAAYuE,IAAI,CACzDhE,OAAOmB,EAAQnB,OACfP,SAAS0B,EAAQ1B,SACjBgF,WAAU,IAAIN,MAAOC,UAAUC,WAC/BG,SAASqW,EAAYrW,WACtBhC,MAAK,WACjBY,QAAQC,IAAI,mCACbH,OAAM,SAACC,GACNC,QAAQD,MAAM,0BAA2BA,MAG7CzE,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,gBAAgBO,IAAI0J,GAAO1I,OAAO,CAC3E2W,UAAU3b,IAASU,UAAUuE,WAAWC,UAAU,KAC/CrB,MAAK,WAAKY,QAAQC,IAAI,oCAAmCH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAEvFzE,EAAG0D,WAAW,SAASO,IAAIxB,EAAQ1B,UAAU2C,WAAW,gBAAgBO,IAAIxB,EAAQ1B,UAAUkE,OAAO,CACrG0W,UAAU1b,IAASU,UAAUuE,WAAWC,UAAU,KACnDrB,MAAK,WAAKY,QAAQC,IAAI,oCAAmCH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAE/EzE,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,iBAAiBkC,IAAI,CAC9DmD,QAAO,EACPuS,eAAe7Y,EAAQ1B,SACvBC,OAAOyB,EAAQqD,SACfC,WAAU,IAAIN,MAAOC,UAAUC,WAC9BvB,IAAI4B,KAAKC,SAASN,SAAS,IAC3BO,MAAK,EACL3E,MAAM,KAERuC,MAAK,SAACqC,GACLnG,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,iBAAiBO,IAAIkC,EAAOd,IAAIJ,OAAO,CAAC,MAAQkB,EAAOd,QAErGb,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAiElC,OAxDJvF,qBAAU,WACT,IAAIuE,GAAe,EAEhB,GAAGhB,GAAgB,aAAPkL,EAAmB,CAUlC,GARD3N,EAAG0D,WAAW,SAASO,IAAI0J,GAAO9J,MAAMC,MAAK,SAACG,GACvCA,EAAImC,QAAQ3C,EACf2Y,EAAenY,EAAIE,QAEXO,QAAQC,IAAI,8BAEjBH,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAE9BhC,EAAQ1B,UAAU4M,GAAOlK,EACrBwF,GAAS,OACP,KAAGxF,EAGH,OAFFwF,GAAS,GAIbjJ,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,gBAAgBO,IAAI0J,GAAO9J,MAAMC,MAAK,SAACG,GAChF4Y,GAAgB5Y,EAAIE,OAAOwX,cAE/B3b,EAAG0D,WAAW,SAASO,IAAI0J,GAAOjK,WAAW,gBAAgBO,IAAI0J,GAAO9J,MAAMC,MAAK,SAACG,GAChF8Y,GAAgB9Y,EAAIE,OAAOyX,mBAM3BlX,QAAQC,IAAI,8BAKpB,OAAO,kBAAMlB,GAAe,KAC1B,CAACkK,EAAMnL,EAAKyC,EAAOxC,EAAQsG,IAoBrB2T,GASA,sBAAKvd,UAAU,UAAf,UACI,qBAAKA,UAAU,kBAAf,SACA,2CAGA,sBAAKA,UAAU,gBAAf,UACI,sBAAKA,UAAU,kBAAf,UACCgd,EAAYrW,SAEb,qBAAK3E,IAAKgb,EAAYrW,SAAU3G,UAAU,eACzC,cAACiC,EAAA,EAAD,CAAQjC,UAAU,aAAagC,IAAI,KAErC,oBAAIhC,UAAU,kBAAd,SAAiCgd,EAAY,KAAD,cAAMA,QAAN,IAAMA,OAAN,EAAMA,EAAapb,UAAW,OAC1E,eAAC,IAAD,CAAMG,GAAE,mBAAcyM,EAAd,SAAR,WACM3E,GAAOxG,EAET,sBAAKrD,UAAU,eAAf,UACI,cAACuH,EAAA,EAAD,CAAYC,QA3Cd,SAAC9B,GACVA,EAAEE,iBAGXtC,GAAgB,aAAPkL,GACR3N,EAAG0D,WAAW,YAAYkC,IAAI,CAC1BwT,eAAe3W,EAAQ1B,SACvBsY,iBAAiB1L,IAClBnJ,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAKlCwF,EAAQmC,KAAK,UA8B8CjN,UAAU,mBAA9C,SAAiE,cAAC,KAAD,MAEnE4J,EAEhB,wBAAQpC,QAASqW,GAAc7d,UAAU,oBAAzC,sBADA,wBAAQwH,QAASqW,GAAc7d,UAAU,mBAAzC,uBAEO,wBACI6J,GACD,sBAAM7J,UAAU,gBAAhB,cAAkC,cAAC,KAAD,IAAlC,sBAGE,qBAAKA,UAAU,kCAMhB,qBAAKA,UAAU,eAAf,SACA,6BAAKgd,EAAYxB,QAGrB,sBAAKxb,UAAU,kBAAf,UACI,cAAC,IAAD,CAAM+B,GAAE,6BAAwByM,GAAhC,SACA,sBAAKxO,UAAU,eAAf,yBAA2C2d,QAE3C,cAAC,IAAD,CAAM5b,GAAE,6BAAwByM,GAAhC,SACA,sBAAKxO,UAAU,eAAf,yBAA2Cyd,cAM/C,sBAAKzd,UAAU,cAAf,UAEKqd,EACD,qBAAK7V,QAAS,kBAAI8V,GAAgB,IAAQtd,UAAU,sBAApD,SACI,yCAGJ,qBAAKwH,QAAS,kBAAI8V,GAAgB,IAAQtd,UAAU,uBAApD,SACI,yCAOHqd,EAED,qBAAK7V,QAAS,kBAAI8V,GAAgB,IAAOtd,UAAU,uBAAnD,SACI,yCAGJ,qBAAKwH,QAAS,kBAAI8V,GAAgB,IAAOtd,UAAU,sBAAnD,SACI,4CAQNqd,EAEF,cAAC,GAAD,IADA,cAAC,EAAD,OAvFJ,sBAAKrd,UAAU,gBAAf,UACI,qBAAKA,UAAU,gBAAgBgC,IAAI,6JACrC,oBAAIhC,UAAU,UAAd,4B,OC7HK+d,OA7Ff,WACI,IAAMC,EAAIvP,cADK,EAGM7O,mBAAS,IAHf,mBAGR2N,EAHQ,KAGH0Q,EAHG,OAIcre,mBAAS,IAJvB,mBAIR0C,EAJQ,KAIC4b,EAJD,KAyCf,OAnCAne,qBAAU,WACN,IAAIuE,GAAa,EAQrB,OAPO0Z,EAAIG,KACTtd,EAAG0D,WAAW,SAASO,IAAIkZ,EAAIG,KAAKzZ,MAAMC,MAAK,SAACG,GACzCR,EACH2Z,EAAQnZ,EAAIE,QACNO,QAAQC,IAAI,4BAGjB,kBAAMlB,GAAe,KAC1B,IAEFvE,qBAAU,WACN,IAAIuE,GAAa,EAkBjB,OAjBGA,GAAc0Z,EAAIG,KACjBtd,EAAG0D,WAAW,YAAYE,MAAM,QAAS,KAAMuZ,EAAIG,KAClDzZ,MACRC,MAAK,SAACC,GACHA,EAAcC,SAAQ,SAACC,GAElBoZ,GAAY,SAACnZ,GACb,IAAMC,EAAK,CAACC,IAAIH,EAAIE,OAAO5C,MAAM8C,QAAQJ,EAAIE,OAAOE,QAAQtD,SAASkD,EAAIE,OAAOpD,UAEpEuD,EAAQJ,EAAIK,QAAO,SAACL,GAAD,OAAOA,EAAIG,UAAUF,EAAKE,WAEnD,MAAM,GAAN,mBAAUC,GAAV,CAAiBH,aAEvBK,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,MAIzB,kBAAMhB,GAAe,KAC9B,IAIE,sBAAKtE,UAAU,UAAf,UACI,mCACQoI,GAANmF,GAAuB,MAANA,GAEpB,cAAC,EAAD,CAGJ7K,MAAO6K,EAAK7K,MACXN,MAAOmL,EAAKnL,MACZD,OAAQoL,EAAKpL,OACboO,YAAahD,EAAKgD,YAClB3O,SAAU2L,EAAK3L,SACfE,SAAUyL,EAAKzL,SACfpC,KAAM6N,EAAK7N,KACVmC,OAAQ0L,EAAK1L,OACdW,MAAO+K,EAAK/K,MACZ6D,UAAWkH,EAAKlH,UAChBhE,MAAOkL,EAAKlL,MACZC,SAAUiL,EAAKjL,SACfC,OAAQgL,EAAKhL,OACbE,QAAS8K,EAAK9K,QACdsG,QAASwE,EAAKxE,QACdC,QAASuE,EAAKvE,QACdC,QAASsE,EAAKtE,QACdC,OAAQqE,EAAKrE,OACbC,OAAQoE,EAAKpE,OACbC,OAAQmE,EAAKnE,OACbC,OAAQkE,EAAKlE,OACb1G,UAAW4K,EAAK5K,UAChB6N,OAAQjD,EAAKiD,OACb/H,MAAO8E,EAAK9E,MACZC,QAAS6E,EAAK7E,QACdY,SAAUiE,EAAKjE,UA1BXiE,EAAKlH,aAkCL,8BACK/D,EAASqF,KAAI,SAAAC,GAAG,OACxB,cAAC,EAAD,CAASlI,KAAMkI,EAAI1C,QAAStD,SAAUgG,EAAIhG,SAAUC,OAAQ+F,EAAI/F,kB,OC1C1Duc,OA7Cf,WAA2B,IAAD,EACDxe,oBAAS,GADR,mBACf6Y,EADe,KACVC,EADU,OAEA9Y,mBAAS,IAFT,mBAEhByY,EAFgB,KAEVC,EAFU,KAsBtB,OAjBAvY,qBAAU,WACX0Y,GACCnL,YAAW,WACfoL,GAAQ,KACF,OACH,CAACD,IAaI,sBAAKzY,UAAU,QAAf,UACI,cAAC,IAAD,CAAM+B,GAAG,IAAT,SACI,qBAAK/B,UAAU,eAAekG,GAAG,QAAQlE,IAAI,0JAGrD,sBAAKhC,UAAU,mBAAf,UACI,gDACD,iCACC,uCACA,uBAAOiI,SAAU,SAACvC,GAAD,OAAK4S,EAAS5S,EAAEwC,OAAOzH,QAAOA,MAAO4X,EAAOrQ,KAAK,SACjEqQ,GACD,wBAAQrQ,KAAK,SAAQR,QAtBX,SAAC9B,GACfA,EAAEE,iBAEHnE,EAAK4c,uBAAuBhG,GAAO1T,MAAK,WAC7C+T,GAAQ,MACPrT,OAAM,SAASC,GAChB7F,MAAM6F,OAgB+CtF,UAAU,+BAArD,mCAICyY,GAAM,qBAAKzY,UAAU,eAAf,SACN,wD,OCLEse,OAlCf,WAAkB,IAAD,EAEa3d,IAFb,mBAiBb,OAjBa,KAEN2C,QAFM,KAkBT,sBAAKtD,UAAU,QAAf,UACI,cAAC,IAAD,CAAM+B,GAAG,IAAT,SACI,qBAAK/B,UAAU,eAAekG,GAAG,QAAQlE,IAAI,0JAGrD,qBAAKhC,UAAU,mBAAf,SACI,sDCyKGue,OA3Kf,WAAgB,IAAD,EACU5d,IADV,mBACN0C,EADM,KACNA,KAAM4N,EADA,OAEYrR,oBAAS,GAFrB,mBAEC4e,GAFD,WAsDf,OAhDEze,qBAAU,WACR,IAAIuE,GAAa,EAiBjB,OAhBGA,GACP7C,EAAKgd,oBAAmB,SAACC,GAEpBA,GACLF,GAAU,GACDvN,EAAS,CACPjJ,KAAK,WACL3E,KAAKqb,MAEZF,GAAU,GACdvN,EAAS,CACPjJ,KAAK,WACL3E,KAAK,WAII,kBAAMiB,GAAe,KAC5B,CAACjB,IAGHtD,qBAAU,WACTsD,GAEFxC,EAAG0D,WAAW,SAASE,MAAM,SAAU,KAAMpB,EAAKyE,KAClDpD,MAAMC,MAAK,SAACC,GACTA,EAAcC,SAAQ,SAACC,GAEnBmM,EAAS,CACCjJ,KAAK,cACL1E,QAAQwB,EAAIE,eAI3BK,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,QAK1B,CAACjC,IASD,cAAC,IAAD,UACA,qBAAKrD,UAAU,MAAf,SAGM,eAAC,IAAD,WAEE,eAAC,IAAD,CAAO2e,KAAK,oBAAZ,UACC,cAAC,GAAD,IACC,cAAC,GAAD,IACD,cAAC,GAAD,OAGD,eAAC,IAAD,CAAOA,KAAK,kBAAZ,UACC,cAAC,GAAD,IACC,cAAC,GAAD,IACD,cAAC,GAAD,OAGD,eAAC,IAAD,CAAOA,KAAK,cAAZ,UACC,cAAC,GAAD,IACC,cAAC,GAAD,IACD,cAAC,GAAD,OAGD,eAAC,IAAD,CAAOA,KAAK,iBAAZ,UACC,cAAC,GAAD,IACC,cAAC,GAAD,IACD,cAAC,GAAD,OAGL,cAAC,IAAD,CAAOC,OAAK,EAACD,KAAK,SAAlB,SACA,cAAC,GAAD,MAGA,cAAC,IAAD,CAAOC,OAAK,EAACD,KAAK,YAAlB,SACA,cAAC,GAAD,MAGA,cAAC,IAAD,CAAOC,OAAK,EAACD,KAAK,kBAAlB,SACA,cAAC,GAAD,MAQA,eAAC,IAAD,CAAOA,KAAK,4BAAZ,UACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAKA,eAAC,IAAD,CAAOA,KAAK,4BAAZ,UACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAGA,eAAC,IAAD,CAAQA,KAAK,uBAAb,UACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAKA,eAAC,IAAD,CAAQA,KAAK,kBAAb,UACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAQA,eAAC,IAAD,CAAOA,KAAK,WAAZ,UACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAGC,eAAC,IAAD,CAAOA,KAAK,QAAZ,UACD,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OASA,eAAC,IAAD,CAAOA,KAAK,IAAZ,UACA,cAAC,GAAD,IACA,cAAC,GAAD,IACA,cAAC,GAAD,OAGA,cAAC,IAAD,CAAQA,KAAK,kBAAb,SACA,cAAC,GAAD,cCrHOte,GAhED,SAACwe,EAAMC,GAEjB,OAAOA,EAAO9W,MAEN,IAAK,WACJ,oCACM6W,GADN,IACYxb,KAAKyb,EAAOzb,OAGpB,IAAK,aACT,oCACMwb,GADN,IACYtb,OAAOub,EAAOvb,SAErB,IAAK,iBACV,oCACMsb,GADN,IACYnV,WAAWoV,EAAOpV,aAK3B,IAAK,cACD,oCACKmV,GADL,IACWvb,QAAQwb,EAAOxb,UAG1B,IAAK,iBACL,oCACKub,GADL,IACW9G,WAAW+G,EAAO/G,aAE7B,IAAK,wBACL,oCACK8G,GADL,IACW7G,kBAAkB8G,EAAOhL,UAGpC,IAAK,wBACL,oCACK+K,GADL,IACW1G,iBAAiB2G,EAAO3G,mBAIvC,IAAK,gBACD,oCACK0G,GADL,IACW3N,aAAY,IAI3B,IAAK,eACD,oCACK2N,GADL,IACW3N,aAAY,IAEvB,IAAK,iBACL,oCACK2N,GADL,IACWrb,aAAY,IAI3B,IAAK,gBACD,oCACKqb,GADL,IACWrb,aAAY,IAEvB,QAAQ,OAAOqb,ICxDnCE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,CAAe3e,aDbO,CACtB+C,KAAK,KAAKC,QAAQ,GAAGC,OAAO,KAAKmG,YAAW,EAAMwH,aAAY,EAAM6G,WAAW,GAAGC,kBAAkB,GAAGG,kBAAiB,EAAM3U,aAAY,GCY/FnD,QAASA,GAApD,SACA,cAAC,GAAD,QAGFoM,SAASC,eAAe,U","file":"static/js/main.a5299c1e.chunk.js","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport \"./SidebarOption.css\";\r\n\r\nfunction SidebarOption({active,alert,text,Icon}){\r\n  const [alertje,setAlertje]=useState(false)\r\n\r\n  useEffect(()=>{\r\n  if(alert){\r\n    setAlertje(true)\r\n  }\r\n  },[])\r\n  \r\n    return(\r\n        <div className={`sidebarOption ${active &&'sidebarOption--active'}`}>\r\n          {alertje?\r\n          <Icon classname=\"alert\"/>:\r\n          <Icon />\r\n\r\n          }\r\n          <h2>{text}</h2>\r\n        </div>\r\n    );\r\n\r\n    \r\n}\r\n\r\nexport default SidebarOption;","import React,{createContext,useContext,useReducer} from \"react\";\r\n\r\nexport const StateContext=createContext();\r\n\r\nexport const StateProvider=({reducer,initialState,children})=>(\r\n    <StateContext.Provider value={useReducer(reducer,initialState)}>\r\n    {children}\r\n    </StateContext.Provider>\r\n)\r\nexport const useStateValue=()=>useContext(StateContext)","import firebase from \"firebase\";\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyAg9kB8WEpDs3cHkMJNKQ4GO_RA-P_tuwc\",\r\n    authDomain: \"twitterclone-6c140.firebaseapp.com\",\r\n    databaseURL: \"https://twitterclone-6c140-default-rtdb.europe-west1.firebasedatabase.app\",\r\n    projectId: \"twitterclone-6c140\",\r\n    storageBucket: \"twitterclone-6c140.appspot.com\",\r\n    messagingSenderId: \"879425228770\",\r\n    appId: \"1:879425228770:web:ea9586bec39521d51573bb\",\r\n    measurementId: \"G-LKF179XKY0\"\r\n  };\r\n// const firebaseConfig = {\r\n//     apiKey: \"AIzaSyALCLBa55Gzven0Vd13A_FP1KzJJcusRxU\",\r\n//     authDomain: \"mediaapp-d96d1.firebaseapp.com\",\r\n//     projectId: \"mediaapp-d96d1\",\r\n//     databaseURL: \"https://mediaapp-d96d1.firebaseio.com\",\r\n//     storageBucket: \"mediaapp-d96d1.appspot.com\",\r\n//     messagingSenderId: \"275785490972\",\r\n//     appId: \"1:275785490972:web:65ccaff57e382da10cb5d9\",\r\n//     measurementId: \"G-E3J91N1ET9\"\r\n//   };\r\n\r\n  const firebaseApp=firebase.initializeApp(firebaseConfig);\r\n\r\n  const db=firebaseApp.firestore();\r\n  const auth=firebase.auth();\r\n  const storage = firebase.storage();\r\n\r\n\r\n export {db,auth,storage}\r\n//  https://mediaapp-d96d1-default-rtdb.europe-west1.firebasedatabase.app\r\n \r\n  ","import React from 'react';\r\nimport \"./Comment.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\r\n\r\nfunction Comments({text,username,avatar,verified}) {\r\n    return (\r\n        <div className=\"comment\">\r\n           <div className=\"post__avatar\">\r\n        \r\n                <Link to={`/profile/${username}`}>\r\n                {avatar?\r\n                 \r\n                <img src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar className=\"post__profile__pic\" src=''/>}\r\n                </Link>\r\n         \r\n            </div>\r\n\r\n    <div className=\"post__body\">\r\n      <div className=\"post__header\">\r\n            <div className=\"post__headerText\">\r\n             <h3> {username}{\"\"}\r\n                 <span className=\"post__headerSpecial\">\r\n                {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>}\r\n                @{username}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n            <p>{text}</p>\r\n\r\n            \r\n        </div>\r\n        </div>\r\n        </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comments\r\n","import React,{useState,useEffect} from 'react';\r\nimport {Avatar,IconButton, Button} from \"@material-ui/core\";\r\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\r\nimport RepeatIcon from '@material-ui/icons/Repeat';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport \"./PostFooter.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {db} from \"./firebase\";\r\nimport Comment from \"./Comment\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport HighlightOffOutlinedIcon from '@material-ui/icons/HighlightOffOutlined';\r\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\r\nimport firebase from \"firebase\";\r\nimport NewComment from \"./NewComment\"\r\n\r\nfunction PostFooter({userId,token,likes,comments,shares,username,avatar,verified,text,image,option1,audio,Rusername,widget}) {\r\n    const[liked,setLiked]=useState(false);\r\n    const[likes2,setLikes2]=useState(likes);\r\n    const[commentWindow,setCommentWindow]=useState(false);\r\n    const[newComment,setNewComment]=useState('')\r\n    const[{user,profile,handle,OpenComment},dispatch]=useStateValue();\r\n    const[ids,setIds]=useState([]);\r\n    const[comments2,setComments2]=useState([]);\r\n    const[postliked,setPostliked]=useState(false);\r\n    const[repeatWindow,SetRepeatWindow]=useState(false);\r\n    const[tweetMessage,setTweetMessage]=useState('');\r\n    const[ hasRetweet, setHasRetweet]=useState(false);\r\n    const[ hasRetweetT, setHasRetweetT]=useState(false);\r\n    const [nchar,setNchar]=useState(0);\r\n    \r\n    let nchar2=0\r\n\r\n    const writeNewComment=(e)=>{\r\n     e.stopPropagation();\r\n     e.preventDefault()\r\n    \r\ndb.collection(\"comments\").add({\r\n comment:newComment ,\r\n userId:user.uid,\r\n username:profile.username,\r\n avatar:profile.imageUrl,\r\n token:token,\r\n timestamp:new Date().getTime().toString(),\r\n key:Math.random().toString(36),\r\n   \r\n}).catch((error)=>console.log(error))\r\n   setNewComment('')\r\n\r\n   db.collection('users').doc(username).collection('notifications').add({\r\n       commentUsername:profile.username,\r\n       avatar:profile.imageUrl,\r\n       comment:newComment,\r\n       timestamp:new Date().getTime().toString(),\r\n       postId:token,\r\n        key:Math.random().toString(36),\r\n        seen:false,\r\n        token:''\r\n\r\n   }).then((docRef)=>{\r\n            db.collection(\"users\").doc(username).collection('notifications').doc(docRef.id).update({\"token\":docRef.id})\r\n            \r\n        }).catch((error)=>console.log(error))\r\n   db.collection('posts').doc(token).update({\r\n       comments:firebase.firestore.FieldValue.increment(1)\r\n   })\r\n   \r\n}\r\nuseEffect(()=>{\r\n    let isSubscribed = true\r\n\r\n   if(token){\r\n     db.collection(\"comments\").orderBy('timestamp','desc').where(\"token\", \"==\", token)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n            if(isSubscribed){\r\n            \r\n             setComments2((dat)=>{\r\n             const data={key:doc.data().key,comment:doc.data().comment,username:doc.data().username}\r\n             \r\n                   const newnew= dat.filter((dat)=>dat.comment!==data.comment)\r\n                   \r\n                   return[...newnew,data]            \r\n            })}       \r\n        })}).catch((error)=>console.log(error))}\r\n        return () => isSubscribed = false\r\n    },[newComment]);\r\n\r\n    const handlelike=(e)=>{\r\n         e.stopPropagation();\r\n     e.preventDefault()\r\n        \r\n        \r\n        if(liked){\r\n            setLikes2(likes2-1)\r\n               setLiked(false) \r\n            db.collection(\"users\").doc(`${profile.username}/likedposts/${token}`).delete().then(() => {\r\n    console.log();\r\n}).catch((error) => {\r\n    console.error(\"Error removing document: \", error);\r\n});\r\n \r\ndb.collection(\"posts\").doc(`${token}`).update({\r\n    likes:firebase.firestore.FieldValue.increment(-1)}).catch((error)=>console.log(error)) \r\n    \r\n    db.collection('users').doc(username).collection('notifications').where('likedPostToken','==',token).get().then((query)=>{\r\n        query.forEach((doc)=>{\r\n               db.collection('users').doc(username).collection('notifications').doc(doc.id).delete().then(() => {\r\n    console.log();\r\n}).catch((error) => {\r\n    console.error(\"Error removing document: \", error);\r\n});\r\n\r\n        })\r\n    })\r\n }\r\n                  \r\n        if(!liked){\r\n            setLikes2(likes2+1)\r\n             setLiked(true)        \r\ndb.collection('users').doc(`/${profile.username}/likedposts/${token}`).set({\r\n                 postId:token,\r\n                 createdAt:new Date().getTime().toString(),\r\n             }).then(() => {\r\n    console.log(\"Document successfully added!\");\r\n}).catch((error) => {\r\n    console.error(\"Error adding document: \", error);\r\n});\r\ndb.collection(\"posts\").doc(`${token}`).update({\r\n    likes:firebase.firestore.FieldValue.increment(1)}).catch((error)=>console.log(error))\r\n    \r\n    if(username !=profile.username){\r\n    db.collection('users').doc(username).collection('notifications').add({\r\n        liked:true,\r\n        likerUsername:profile.username,\r\n        avatar:profile.imageUrl,\r\n        timestamp:new Date().getTime().toString(),\r\n        postId:token,\r\n        key:Math.random().toString(36),\r\n        seen:false,\r\n        token:''\r\n        \r\n    }).then((docRef)=>{\r\n            db.collection(\"users\").doc(username).collection('notifications').doc(docRef.id).update({\"token\":docRef.id})\r\n            \r\n        }).catch((error)=>console.log(error))\r\n\r\n}\r\n }    \r\n    }\r\n\r\n    const handlecomment=(e)=>{\r\n         e.stopPropagation();\r\n     e.preventDefault()\r\n        \r\n       if(commentWindow){\r\n           setCommentWindow(false)\r\n       }else{\r\n           setCommentWindow(true)\r\n       }\r\n    }\r\n\r\n\r\nuseEffect(()=>{\r\n    let isSubscribed = true\r\n        \r\n     if(profile&&token){   \r\ndb.collection('users').doc(profile.username).collection('likedposts').doc(token).get().then(doc=>{\r\n    if( isSubscribed){\r\n    if(doc.exists){\r\n        setLiked(true)\r\n        \r\n    }else{\r\n        setLiked(false)\r\n    }}\r\n}).catch((error)=>console.log(error))}\r\n \r\n\r\n},[liked])\r\n\r\nconst handleRepeat=(e)=>{\r\n     e.stopPropagation();\r\n     e.preventDefault()\r\n\r\n    SetRepeatWindow(true)\r\n\r\n}\r\nconst handleRetweet=(e)=>{\r\n     e.stopPropagation();\r\n     e.preventDefault()\r\n\r\nif(!tweetMessage){\r\ndb.collection('users').doc(profile.username).collection('retweets').doc(token).set({\r\n    token:token,\r\n    Rusername:profile.username,\r\n    createdAt:new Date().getTime().toString(),\r\n    userId:profile.userId,\r\n    \r\n    \r\n}).catch((error)=>console.log(error))}else if(!audio){\r\n    db.collection('users').doc(profile.username).collection('retweetsMettekst').doc(token).set({\r\n           retweetmettekstToken:token\r\n    })\r\n    db.collection('posts').add({\r\n    \r\n    Rusername:profile.username,\r\n    Rtext:tweetMessage,\r\n    Ravatar:profile.imageUrl,\r\n    username:username,\r\n        userId:user.uid,\r\n        verified:true,\r\n        text:text,\r\n        avatar:avatar,\r\n        image:image,\r\n        createdAt:new Date().getTime().toString(),\r\n        likes:0,\r\n        comments:0,\r\n        shares:0,\r\n        token:\"\",\r\n        retweet:true,\r\n        \r\n\r\n        \r\n}).then((docRef)=>{\r\n            db.collection(\"posts\").doc(docRef.id).update({\r\n                token:docRef.id\r\n            \r\n        })\r\n}).catch((error)=>console.log(error))\r\n}else if(audio&&!Rusername){\r\n    db.collection('users').doc(profile.username).collection('retweetsMettekst').doc(token).set({\r\n           retweetmettekstToken:token\r\n    })\r\n    db.collection('posts').add({\r\n    \r\n    Rusername:profile.username,\r\n    Rtext:tweetMessage,\r\n    Ravatar:profile.imageUrl,\r\n    username:username,\r\n        userId:user.uid,\r\n        verified:true,\r\n        text:text,\r\n        avatar:avatar,\r\n        createdAt:new Date().getTime().toString(),\r\n        likes:0,\r\n        comments:0,\r\n        shares:0,\r\n        token:\"\",\r\n        retweet:true,\r\n        audio:audio\r\n        \r\n\r\n        \r\n}).then((docRef)=>{\r\n            db.collection(\"posts\").doc(docRef.id).update({\r\n                token:docRef.id\r\n            \r\n        })\r\n}).catch((error)=>console.log(error))\r\n}\r\n  \r\n\r\n        db.collection('posts').doc(token).update({\r\n            shares:firebase.firestore.FieldValue.increment(1)\r\n        })\r\n\r\n\r\nSetRepeatWindow(false)\r\n\r\n\r\n}\r\n\r\nuseEffect(()=>{\r\n    let isSubscribed = true\r\n//check for retweet post in user documents\r\nif(user&&token&&isSubscribed){\r\ndb.collection('users').doc(profile.username).collection('retweets').doc(token).get().then((doc)=>{\r\n    if(doc.exists){\r\n        setHasRetweet(true)\r\n       \r\n    }else{\r\n        \r\n        setHasRetweet(false)}\r\n})\r\ndb.collection('users').doc(profile.username).collection('retweetsMettekst').doc(token).get().then((doc)=>{\r\n    if(doc.exists){\r\n        setHasRetweetT(true)\r\n       \r\n    }else{\r\n        \r\n        setHasRetweetT(false)}\r\n})\r\n}\r\n return () => isSubscribed = false\r\n},[user,repeatWindow])\r\n\r\nuseEffect(()=>{\r\n      let isSubscribed = true\r\n//check length tweetmessage\r\nlet len = tweetMessage.length;\r\n\r\nif(isSubscribed){\r\nfor(let i = 0; i != len; i++) {\r\n   if(tweetMessage[i] != ' ') {\r\n       \r\n       nchar2++\r\n       \r\n   }\r\n}\r\nsetNchar(nchar2)\r\nif(nchar2>100){\r\n    let newTweetMessage=tweetMessage\r\n    newTweetMessage=newTweetMessage.replace(`${newTweetMessage[newTweetMessage.length -1]}`,'')\r\n    setTweetMessage(newTweetMessage)\r\n}\r\n}\r\nreturn () => isSubscribed = false\r\n\r\n\r\n    },[tweetMessage])\r\n\r\n\r\n\r\n    \r\n    return (\r\n        <div className=\"post__footer\">\r\n            \r\n    <div className={`post__footer__option ${widget&&\"post__footer__option--widget\"}`}>\r\n        <div>\r\n    <IconButton  onClick={ handlecomment}> <ChatBubbleOutlineIcon /></IconButton>\r\n    </div>\r\n    <div>{comments}</div>\r\n    \r\n    </div>\r\n   <div className={`post__footer__option ${widget&&\"post__footer__option--widget\"}`}>\r\n       {( hasRetweet||hasRetweetT)?\r\n    <IconButton style={{color:'green'}}><RepeatIcon /></IconButton>:\r\n    <IconButton  onClick={handleRepeat}><RepeatIcon /></IconButton>}\r\n    <p>{shares}</p>\r\n    </div >\r\n    <div className=\"post__footer__option\">\r\n    {liked?(<IconButton style={{color:'red'}} onClick={handlelike}>\r\n               <FavoriteIcon /></IconButton>\r\n         ):(<IconButton onClick={handlelike}><FavoriteBorderIcon  /></IconButton>)}\r\n    {(likes2<1000)&&\r\n    <p>{likes2}</p>}\r\n    {(likes2>1000)&&\r\n    <p>{likes2/1000}k</p>}\r\n\r\n    </div>\r\n    {/* <div className=\"post__footer__option\">\r\n    <IconButton><PublishIcon fontSize=\"large\"/></IconButton>\r\n    <p></p>\r\n    </div> */}\r\n    \r\n    <div className=\"post__commentsContainer\">\r\n    {commentWindow? \r\n     <div className=\"comments\">\r\n         <button onClick={(e)=>{\r\n             e.stopPropagation();\r\n              e.preventDefault()\r\n             setCommentWindow(false)}}></button>\r\n            <h1 className=\"post__comments__header\">Comments</h1>\r\n            <div className=\"comments__body\">\r\n            {comments2.map(com=>(\r\n         <Comment key={com.key} text={com.comment} username={com.username} avatar={profile.imageUrl} verified />\r\n\r\n            ))}\r\n            </div>\r\n            \r\n            \r\n           \r\n            <div className=\"comments__footer\">\r\n                 <form onSubmit={writeNewComment}>\r\n                <input type=\"text\" value={newComment} onChange={(e)=>{\r\n                    e.stopPropagation();\r\n                    e.preventDefault()\r\n                    setNewComment(e.target.value)}}></input>\r\n                <Button  type=\"submit\">Send</Button>\r\n                </form>\r\n            </div>\r\n            \r\n           \r\n        </div>\r\n        :<div></div>} \r\n        {/* {OpenComment&&<NewComment key={token} token={token} username={username}/>} */}\r\n    </div>\r\n\r\n    {repeatWindow&&<div className=\"repeat__window\">\r\n         <div className=\"tweetbox__2\">\r\n             <IconButton  onClick={(e)=>{\r\n                 e.stopPropagation();\r\n                 e.preventDefault()\r\n                 SetRepeatWindow(false)}}className=\"repeat__closeButton\">\r\n        <HighlightOffOutlinedIcon/>\r\n        </IconButton>\r\n    <form>\r\n       \r\n        <div className=\"tweetBox__input\">\r\n          <Avatar src={profile.imageUrl}></Avatar>\r\n          \r\n          {option1==undefined&&\r\n          <input\r\n\r\n          onChange={(e)=>{\r\n              e.stopPropagation();\r\n              e.preventDefault()\r\n              setTweetMessage(e.target.value)}}\r\n          value={tweetMessage}\r\n           placeholder=\"Add your reaction(optional)\" \r\n          type=\"text\"></input>}\r\n          </div>\r\n           {option1==undefined&&\r\n          <p  className=\"maxchar\">{nchar}/100</p>}\r\n<div className=\"tweetBox__retweetBody\">\r\n\r\n        <div className=\"retweetBody__avatar\">\r\n           <Link to={`/profile/${username}`}>\r\n         {avatar?\r\n                 \r\n                <img src={avatar} className=\"retweetBody__profile__pic\"/>\r\n                :<Avatar className=\"retweetBody__profile__pic\" src=''/>}\r\n             </Link>\r\n        </div>\r\n\r\n        <div className=\"retweetBody__BodyvanBody\">\r\n    <div className=\"retweetBody__BodyvanBody__header\">\r\n    <div className=\"retweetBody__BodyvanBody__header__headerText\">\r\n        <h3> {username}{\"\"}\r\n            <span className=\"retweetBody__BodyvanBody__header__headerSpecial\">\r\n                {verified&&<VerifiedUserIcon className=\"retweetBody__BodyvanBody__header__badge\"></VerifiedUserIcon>}\r\n                @{username}\r\n                \r\n            \r\n            </span>\r\n        </h3>\r\n    \r\n    </div>\r\n    <div className=\"retweetBody__BodyvanBody__header__headerDescription\">\r\n        <p>{text}</p>\r\n\r\n    </div>\r\n\r\n    </div>\r\n    {image&&\r\n    <img className=\"retweetBody__BodyvanBody__header__img\"src={image} alt=\"\"></img>}\r\n    {audio&&<audio className=\"audio2\" controls src={audio}></audio>}\r\n    </div>\r\n</div>\r\n          \r\n          \r\n          <div className=\"tweetBox__footer\">\r\n              <div className=\"tweetBox__tweetbutton\">\r\n              <Button\r\n        onClick={handleRetweet}\r\n        type=\"submit\"\r\n         className=\"tweetBox__tweetButton\">Repost</Button>\r\n          </div>\r\n       \r\n        \r\n\r\n        </div>\r\n        \r\n         \r\n    </form>\r\n    \r\n\r\n    \r\n    \r\n</div>\r\n        </div>}\r\n    \r\n\r\n</div>\r\n    )\r\n}\r\n\r\nexport default PostFooter\r\n","import React,{forwardRef,useState,useEffect} from \"react\";\r\nimport \"./Post.css\";\r\nimport {Avatar,IconButton,Button} from \"@material-ui/core\";\r\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\r\nimport ChatBubbleOutlineIcon from '@material-ui/icons/ChatBubbleOutline';\r\nimport RepeatIcon from '@material-ui/icons/Repeat';\r\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport PostFooter from \"./PostFooter\";\r\nimport { db } from \"./firebase\";\r\nimport firebase from \"firebase\";\r\nimport CheckCircleOutlineOutlinedIcon from '@material-ui/icons/CheckCircleOutlineOutlined';\r\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\r\n        \r\nfunction Post({\r\n     audio,\r\n    token,\r\n    userId,\r\n    username,\r\n    verified,\r\n    text,\r\n    image,\r\n    avatar,\r\n    createdAt,\r\n    likes,\r\n    comments,\r\n    shares,\r\n    option1,\r\n    option2,\r\n    option3,\r\n    option4,\r\n    votes1,\r\n    votes2,\r\n    votes3,\r\n    votes4, \r\n    Rusername,\r\n    Rtext,\r\n    Ravatar,\r\n    Rtweeter,\r\n    RcreatedAt,\r\n    liker,\r\n    likerCreatedAt,\r\n    widget, \r\n   \r\n}){\r\n         const[{user,profile,handle,profilepop},dispatch]=useStateValue();\r\n         const[poster,setPoster]=useState([]);\r\n         const[follow,setFollow]=useState(false);\r\n         const[allow,setAllow]=useState(false);\r\n         const [vote1,setVote1]=useState(false)\r\n         const [vote2,setVote2]=useState(false)\r\n         const [vote3,setVote3]=useState(false)\r\n         const [vote4,setVote4]=useState(false)\r\n         const [allowVote,setAllowVote]=useState(false)\r\n         const[usersign,setUsersign]=useState([]);\r\n         const [weretweeter,setWeretweeter]=useState(false)\r\n         const totalVotes=votes1+votes2+votes3+votes4;\r\n         const[newTex,setNewTex]=useState(text)\r\n          const[newTexR,setNewTexR]=useState(Rtext)\r\n         const[newTex2,setNewTex2]=useState('')\r\n         const [stop,setStop]=useState(false)\r\n         const history=useHistory();\r\n         const [statemes,setStatemes]=useState('')\r\n          const [statemesR,setStatemesR]=useState('')\r\n\r\n         const [newname,setNewname]=useState('');\r\n         const [newnameR,setNewnameR]=useState('');\r\n         const [stopi,setStopi]=useState(true);\r\n         const [oldtime,setOldtime]=useState(createdAt);\r\n          const [oldtimeR,setOldtimeR]=useState(RcreatedAt);\r\n           const [oldtimeL,setOldtimeL]=useState(likerCreatedAt);\r\n         const [newTime,setNewTime]=useState('');\r\n         const Nvotes1=Math.round((votes1/totalVotes)*100);\r\n         const Nvotes2=Math.round((votes2/totalVotes)*100);\r\n           const Nvotes3=Math.round((votes3/totalVotes)*100);\r\n            const Nvotes4=Math.round((votes4/totalVotes)*100);\r\n         \r\n        \r\n         \r\n         let newText\r\n         let newTextR\r\n         let naam\r\n         let naamR\r\n\r\n         \r\n         \r\n\r\n         \r\nuseEffect(()=>{\r\n    let testmessage=newTex\r\n   \r\nlet newmes=/@[\\w]+/i.exec(testmessage)\r\n\r\n\r\n\r\nif(newmes!=null){\r\nlet testmes=newmes[0].split('@')\r\nlet num=-1\r\n\r\ntestmes.forEach(function(val){\r\n    if(num<0){\r\n        num++\r\n    }else{\r\n      naam=val\r\n      setNewname(naam)\r\n    }\r\n})\r\n\r\n\r\n  //newText=testmessage.replace(/@[a-z]+/i,`<Link>${newmes}</Link>`)\r\n  newText=testmessage.replace(/@[\\w]+/i,`<strong><a id=\\x22clicke\\x22 >${newmes} </a></strong>`)\r\n   //newText=testmessage.replace(/@[a-z]+/i,`<strong><p onClick={console.log('hi')}>${newmes}</p></strong>`)\r\n // href={/profile/${naam}}\r\n \r\n \r\n let texte=document.getElementById('posttext')\r\n \r\n if(newText!=null){\r\n texte.innerHTML=newText\r\n \r\n setStatemes(newText)\r\n}\r\n}\r\n         },[])\r\n\r\n         useEffect(()=>{\r\n             let isSubscribed = true\r\nvar toggle = document.getElementById('clicke')\r\n\r\nif(toggle!=null&&isSubscribed){\r\n    \r\ntoggle.addEventListener('click',checklinkclick)\r\nreturn ()=>{\r\n            \r\n            toggle.removeEventListener('click',checklinkclick)\r\n        }  \r\n}\r\n\r\nreturn () => isSubscribed = false\r\n         })\r\n\r\n         const checklinkclick=(e)=>{\r\n             \r\n  e.stopImmediatePropagation();\r\n     e.preventDefault()\r\n    \r\n     \r\n  history.push(`/profile/${newname}`)\r\n  \r\n  \r\n  \r\n         }\r\n    \r\n        \r\n         \r\n         useEffect(()=>{\r\n             let isSubscribed = true\r\n             if(Rtext&&isSubscribed){\r\n         let testmessage=newTexR\r\nlet newmesR=/@[\\w]+/i.exec(testmessage)\r\nif(newmesR!=null){\r\nlet testmes=newmesR[0].split('@')\r\nlet num=-1\r\n\r\ntestmes.forEach(function(val){\r\n    if(num<0){\r\n        num++\r\n    }else{\r\n      naamR=val\r\n      setNewnameR(naam)\r\n    }\r\n})\r\n\r\n\r\n  //newText=testmessage.replace(/@[a-z]+/i,`<Link>${newmes}</Link>`)\r\n  newText=testmessage.replace(/@[\\w]+/i,`<strong><a id=\\x22clicker\\x22 >${newmesR} </a></strong>`)\r\n \r\n let texte=document.getElementById('posttextR')\r\n if(newTextR!=null){\r\n texte.innerHTML=newTextR\r\n setStatemesR(newTextR)\r\n }\r\n}\r\n}\r\nreturn () => isSubscribed = false\r\n         },[])\r\n\r\n          useEffect(()=>{\r\n             let isSubscribed = true\r\nvar toggleR = document.getElementById('clicker')\r\n\r\nif(toggleR!=null&&isSubscribed){\r\n    \r\ntoggleR.addEventListener('clickr',checklinkclickr)\r\nreturn ()=>{\r\n            \r\n            toggleR.removeEventListener('clickr',checklinkclickr)\r\n        }  \r\n}\r\n\r\nreturn () => isSubscribed = false\r\n         })\r\n\r\n         const checklinkclickr=(e)=>{\r\n             \r\n  e.stopImmediatePropagation();\r\n     e.preventDefault()\r\n    \r\n     \r\n  history.push(`/profile/${newnameR}`)\r\n  \r\n  \r\n  \r\n         }\r\n         \r\n        \r\n        \r\n         \r\n        \r\nuseEffect(()=>{\r\n    let isSubscribed = true\r\n    db.collection('users').doc(`${userId}`).get().then((dat)=>(\r\n        (isSubscribed?\r\n         setPoster(dat.data()):null) \r\n    )).catch(error => (isSubscribed ? console.log(error) : null))\r\n     if(user){\r\n         db.collection('users').doc(`${user.uid}`).get().then((dat)=>(\r\n         (isSubscribed?\r\n         setUsersign(dat.data()):null)\r\n            )).catch(error => (isSubscribed ? console.log(error) : null))\r\n        }else{console.log('no user')}\r\n            setTimeout(()=>{\r\n                if(isSubscribed){\r\n                setAllow(true)\r\n                }else{console.log('error')}\r\n                },100)\r\n         return () => isSubscribed = false\r\n        },[follow])\r\n\r\nuseEffect(()=>{\r\nlet isSubscribed = true\r\nif(Rusername&&isSubscribed){\r\n   \r\n    setWeretweeter(true)\r\n}else if(isSubscribed){setWeretweeter(false)}else{console.log('error')}\r\nreturn () => isSubscribed = false\r\n},[])\r\n        \r\n       \r\n        \r\nuseEffect(()=>{\r\n    \r\nif((vote1||vote2||vote3||vote4)&&allowVote&&profile.username&&token){\r\n    if(vote1){\r\ndb.collection('users').doc(profile.username).collection('votes').doc(token).set({\r\n    post:token,\r\n    option1:vote1,\r\n    username:profile.username\r\n    \r\n\r\n}).catch((error)=>console.log(error))}\r\nif(vote2){\r\ndb.collection('users').doc(profile.username).collection('votes').doc(token).set({\r\n    post:token,\r\n    option2:vote2,\r\n     username:profile.username\r\n\r\n}).catch((error)=>console.log(error))}\r\nif(vote3){\r\ndb.collection('users').doc(profile.username).collection('votes').doc(token).set({\r\n    post:token,\r\n    option3:vote3,\r\n     username:profile.username\r\n\r\n}).catch((error)=>console.log(error))}\r\nif(vote4){\r\ndb.collection('users').doc(profile.username).collection('votes').doc(token).set({\r\n    post:token,\r\n    option4:vote4,\r\n    username:profile.username\r\n    \r\n\r\n}).catch((error)=>console.log(error))}\r\n\r\n}\r\nif((vote1||vote2||vote3||vote4)&&allowVote&&profile.username){\r\nif(vote1){\r\ndb.collection('posts').doc(token).update({\r\n    votes1:firebase.firestore.FieldValue.increment(1)\r\n})\r\n}\r\nif(vote2){\r\ndb.collection('posts').doc(token).update({\r\n    votes2:firebase.firestore.FieldValue.increment(1)\r\n})\r\n}\r\nif(vote3){\r\ndb.collection('posts').doc(token).update({\r\n    votes3:firebase.firestore.FieldValue.increment(1)\r\n})\r\n}\r\nif(vote4){\r\ndb.collection('posts').doc(token).update({\r\n    votes4:firebase.firestore.FieldValue.increment(1)\r\n})\r\n}\r\n\r\n}\r\n},[vote1,vote2,vote3,vote4])\r\n\r\nuseEffect(()=>{\r\n   let  isSubscribed=true\r\n    if(user&&option1&&profile.username&&token){\r\n        \r\ndb.collection('users').doc(profile.username).collection('votes').doc(token).get().then((doc)=>{\r\n    \r\n    if(doc.exists&&isSubscribed){\r\n        if(doc.data().option1){\r\n            \r\n            setVote1(true)\r\n        }\r\n        if(doc.data().option2){\r\n           setVote2(true)\r\n            \r\n        }\r\n        if(doc.data().option3){\r\n            setVote3(true)\r\n             \r\n        }\r\n        if(doc.data().option4){\r\n            setVote4(true)\r\n             \r\n        }\r\n    }else if(isSubscribed){\r\n        setAllowVote(true)\r\n        }else{console.log('doc does not exists')}\r\n}).catch(error => (isSubscribed ? console.log(error) : null))\r\n\r\n    }\r\n    return () => isSubscribed = false\r\n},[user,profile.username])\r\n\r\n\r\nconst clickImage=(e)=>{\r\n     e.stopPropagation();\r\n     e.preventDefault()\r\n     history.push(`/profile/${username}`)\r\n}\r\nconst clickImageR=(e)=>{\r\n     e.stopPropagation();\r\n     e.preventDefault()\r\n     history.push(`/profile/${Rusername}`)\r\n}\r\n      const handletag =(e)=>{\r\n           e.stopPropagation();\r\n     e.preventDefault()\r\n     history.push(`/profile/${username}`)\r\n      }   \r\n      \r\n      useEffect(()=>{\r\n          let  isSubscribed=true\r\n          var date1\r\n          if(oldtimeR){\r\n         date1=oldtimeR\r\n          }else if(oldtime){\r\n              date1=oldtime\r\n          }else{\r\n              date1=oldtimeL\r\n          }\r\n         \r\n        var date2=new Date().getTime().toString()\r\n\r\n       var diff = (date2 - date1)/1000;\r\n    diff = Math.abs(Math.floor(diff));\r\n\r\n    var days = Math.floor(diff/(24*60*60));\r\n    var leftSec = diff - days * 24*60*60;\r\n\r\n    var hrs = Math.floor(leftSec/(60*60));\r\n    var leftSec = leftSec - hrs * 60*60;\r\n\r\n    var min = Math.floor(leftSec/(60));\r\n    var leftSec = leftSec - min * 60;\r\n\r\n    let newtime\r\n    if(days<1&&hrs<1&&min<1){\r\n newtime=` ${leftSec}s`\r\n    }\r\n    else if(days<1&&hrs<1){\r\n         newtime=`${min}m`\r\n    }\r\n    else if(days<1){\r\n    newtime=`${hrs}h`\r\n    }else{\r\n        newtime=`${days}d`\r\n    }\r\n    if(isSubscribed){\r\n setNewTime(newtime)\r\n    }else{console.log('post line 353, component not mounted')}\r\n  return () => isSubscribed = false\r\n      },[])\r\n\r\n     \r\n     \r\n     \r\n\r\n     if(!Rusername&&!Rtext&&!option1&&!audio&&!Rtweeter&&!liker){return(\r\n        //\r\n         //NORMAL POST\r\n         //\r\n         \r\n<div id=\"clickable\" onClick={(e)=>{\r\n    \r\n    if(e.target.closest('form')===null){\r\n        history.push(`/post/${username}/${token}`)\r\n    }\r\n    }} className=\"post\">\r\n    <div  className=\"post__avatar\">\r\n        \r\n                {/* <Link to={`/profile/${username}`}> */}\r\n                {avatar?\r\n                 \r\n                <img onClick={clickImage}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImage} className=\"post__profile__pic\" src=''/>}\r\n                {/* </Link> */}\r\n         \r\n    </div>\r\n\r\n    <div className=\"post__body\">\r\n      <div className=\"post__header\">\r\n            <div className=\"post__headerText\">\r\n             <h3> {username}{\"\"}\r\n                 <span className=\"post__headerSpecial\">\r\n                {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>}\r\n                @{username}\r\n                <FiberManualRecordIcon style={{fontSize:'small',marginLeft:'2px'}} />{newTime}\r\n                \r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n          \r\n          <p id=\"posttext\"></p>\r\n         {!statemes&& <p>{text}</p>}\r\n          \r\n             \r\n\r\n\r\n      </div>\r\n      </div>\r\n    {image&&\r\n    <img className=\"post__img\"src={image} alt=\"\"></img>}\r\n    \r\n     {user&&allow?\r\n<PostFooter userId={userId} token={token} likes={likes}comments={comments}shares={shares} username={username} avatar={avatar} verified={verified}text={text}image={image} option1={option1} widget/>\r\n:<div></div>}\r\n</div>\r\n    \r\n</div>\r\n\r\n     )}\r\n        \r\n    //\r\n    //\r\n    //\r\n    if(option1&&!audio&&!Rtweeter&&!Rtext&&!liker){return(\r\n        //\r\n        //NORMAL POST + POLL\r\n        //\r\n\r\n        <div id=\"clickable\" onClick={(e)=>{\r\n    \r\n    if(e.target.closest('form')===null){\r\n        history.push(`/post/${username}/${token}`)\r\n    }\r\n    }} className=\"post\">\r\n    <div className=\"post__avatar\">\r\n        \r\n                {avatar?\r\n                 \r\n                <img onClick={clickImage}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImage} className=\"post__profile__pic\" src=''/>}\r\n         \r\n    </div>\r\n\r\n    <div className=\"post__body\">\r\n      <div className=\"post__header\">\r\n            <div className=\"post__headerText\">\r\n             <h3> {username}{\"\"}\r\n                 <span className=\"post__headerSpecial\">\r\n                {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>}\r\n                @{username}\r\n                <FiberManualRecordIcon style={{fontSize:'small',marginLeft:'2px'}} />{newTime}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n            \r\n           <p id=\"posttext\"></p>\r\n         {!statemes&& <p>{text}</p>}\r\n\r\n      </div>\r\n      </div>\r\n      {/* //\r\n      //HIERONDER ZIT DE POLL(ONDERDEEL VAN NORMALE POST POLL)\r\n      // */}\r\n    <div className=\"post__poll\">\r\n        {!vote1&&!vote2&&!vote3&&!vote4&&profile.username?\r\n        <div>\r\n            <div className=\"post__poll__optionContainer\">\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n             e.preventDefault()\r\n            setVote1(true)}} className=\"post__poll__option\">\r\n        <h1 >{option1}</h1>\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{Nvotes1}%</h2>\r\n        </div>\r\n        \r\n        </div>\r\n        \r\n         <div className=\"post__poll__optionContainer\">\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n     e.preventDefault()\r\n            setVote2(true)}} className=\"post__poll__option\">\r\n         <h1 >{option2}</h1> \r\n     \r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{Nvotes2}%</h2>\r\n       \r\n        </div>\r\n        \r\n        </div>\r\n        \r\n        {option3&&\r\n        <div className=\"post__poll__optionContainer\">\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n     e.preventDefault()\r\n            setVote3(true)}} className=\"post__poll__option\">\r\n        <h1 >{option3}</h1>\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{Nvotes3}%</h2>\r\n        </div>\r\n        \r\n        </div>}\r\n        {option4&&\r\n        <div className=\"post__poll__optionContainer\">\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n     e.preventDefault()\r\n            setVote4(true)}} className=\"post__poll__option\">\r\n        <h1 >{option4}</h1>\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{Nvotes4}%</h2>\r\n        </div>\r\n        \r\n        </div>}\r\n        <div className=\"poll__totalvotes\">Total Votes: {totalVotes}</div>\r\n        </div>\r\n        \r\n        :\r\n        \r\n        \r\n <div>\r\n            <div className=\"post__poll__optionContainer\">\r\n        <div  className=\"post__poll__optionVoted\">\r\n        <h1 >{option1}</h1>\r\n        {vote1&& <CheckCircleOutlineOutlinedIcon className=\"poll__CheckBox\"/>}\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{Nvotes1}%</h2>\r\n        </div>\r\n        \r\n        </div>\r\n        \r\n         <div className=\"post__poll__optionContainer\">\r\n        <div  className=\"post__poll__optionVoted\">\r\n        <h1 >{option2}</h1>\r\n        <div>\r\n        {vote2&& < CheckCircleOutlineOutlinedIcon className=\"poll__CheckBox\"/>}\r\n        </div>\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{Nvotes2}%</h2>\r\n        </div>\r\n        \r\n        </div>\r\n        \r\n        {option3&&\r\n        <div className=\"post__poll__optionContainer\">\r\n        <div  className=\"post__poll__optionVoted\">\r\n        <h1 >{option3}</h1>\r\n        {vote3&& <CheckCircleOutlineOutlinedIcon/>}\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{Nvotes3}%</h2>\r\n        </div>\r\n        \r\n        </div>}\r\n        {option4&&\r\n        <div className=\"post__poll__optionContainer\">\r\n        <div  className=\"post__poll__optionVoted\">\r\n        <h1 >{option4}</h1>\r\n        {vote4&& <CheckCircleOutlineOutlinedIcon/>}\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{Nvotes4}%</h2>\r\n        </div>\r\n        \r\n        </div>}\r\n        <div className=\"poll__totalvotes\">Total Votes: {totalVotes}</div>\r\n        </div>\r\n}\r\n        \r\n        \r\n\r\n        </div>\r\n    \r\n    {/* //\r\n    //\r\n    //HIER BOVEN ZIT DE POLL(ONDERDEEL VAN NORMALE POST POLL) */}\r\n     {user&&allow?\r\n<PostFooter userId={userId} token={token} likes={likes}comments={comments}shares={shares} username={username} avatar={avatar} verified={verified}text={text}image={image}option1={option1}  widget/>\r\n:<div></div>}\r\n</div>\r\n    \r\n</div>\r\n\r\n    )}\r\n\r\n//\r\n//HIERONDER ZIT DE NORMALE RETWEET ZONDER TEKST\r\n//\r\n    if((Rtweeter||liker)&&!audio&&!option1&&!Rtext){return(\r\n        \r\n    \r\n        <div id=\"clickable\" onClick={(e)=>{\r\n    \r\n    if(e.target.closest('form')===null){\r\n        history.push(`/post/${username}/${token}`)\r\n    }\r\n    }} className=\"retweetpostExtra\">\r\n     {/* <div className=\"retweetpostExtra\"> */}\r\n\r\n{Rtweeter&&\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n     e.preventDefault()\r\n     history.push(`/profile/${Rtweeter}`)\r\n        }} className=\"post__retweeter\">\r\n    <RepeatIcon/>\r\n    {Rtweeter} has reposted\r\n</div>}\r\n\r\n{liker&&<div onClick={(e)=>{\r\n             e.stopPropagation();\r\n     e.preventDefault()\r\n     history.push(`/profile/${liker}`)\r\n        }} className=\"post__retweeter\">\r\n    <FavoriteIcon styles={{fontSize:'small'}}/>\r\n    {liker} has liked this\r\n</div>}\r\n        \r\n       \r\n       <div className=\"post\">\r\n    <div className=\"post__avatar\">\r\n        \r\n                {avatar?\r\n                 \r\n                <img onClick={clickImage}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImage} className=\"post__profile__pic\" src=''/>}\r\n         \r\n    </div>\r\n\r\n    <div className=\"post__body\">\r\n      <div className=\"post__header\">\r\n            <div className=\"post__headerText\">\r\n             <h3> {username}{\"\"}\r\n                 <span className=\"post__headerSpecial\">\r\n                {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>}\r\n                @{username}\r\n                <FiberManualRecordIcon style={{fontSize:'small',marginLeft:'2px'}} />{newTime}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n  <p id=\"posttext\"></p>\r\n         {!statemes&& <p>{text}</p>}\r\n\r\n\r\n      </div>\r\n      \r\n    {image&&\r\n    <img className=\"post__img\"src={image} alt=\"\"></img>}\r\n    \r\n     {user&&allow?\r\n<PostFooter userId={userId} token={token} likes={likes}comments={comments}shares={shares} username={username} avatar={avatar} verified={verified}text={text}image={image}option1={option1}  widget/>\r\n:<div></div>}\r\n</div>\r\n    \r\n</div>\r\n</div>\r\n    </div>\r\n    )}\r\n    if(audio&&!Rusername){return(\r\n      <div id=\"clickable\" onClick={(e)=>{\r\n    \r\n    if(e.target.closest('form')===null){\r\n        history.push(`/post/${username}/${token}`)\r\n    }\r\n    }} className=\"post\">  \r\n    <div className=\"post__avatar\">\r\n        \r\n                {avatar?\r\n                 \r\n                <img onClick={clickImage}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImage} className=\"post__profile__pic\" src=''/>}\r\n         \r\n    </div>\r\n\r\n    <div className=\"post__body\">\r\n      <div className=\"post__header\">\r\n            <div className=\"post__headerText\">\r\n             <h3> {username}{\"\"}\r\n                 <span className=\"post__headerSpecial\">\r\n                {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>}\r\n                @{username}\r\n                <FiberManualRecordIcon style={{fontSize:'small',marginLeft:'2px'}} />{newTime}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n            <p id=\"posttext\"></p>\r\n         {!statemes&& <p>{text}</p>}\r\n\r\n\r\n      </div>\r\n      </div>\r\n    <audio className=\"audio\" controls src={audio}></audio>\r\n    \r\n     {user&&allow?\r\n<PostFooter userId={userId} token={token} likes={likes}comments={comments}shares={shares} username={username} avatar={avatar} verified={verified}text={text}image={image}option1={option1}audio={audio}  widget/>\r\n:<div></div>}\r\n</div>\r\n    \r\n</div>\r\n    )}\r\n    if(option1&&Rtweeter){return(\r\n\r\n\r\n         <div id=\"clickable\" onClick={(e)=>{\r\n    \r\n    if(e.target.closest('form')===null){\r\n        history.push(`/post/${username}/${token}`)\r\n    }\r\n    }} className=\"retweetpostExtra\">\r\n\r\n        <div className=\"post__retweeter\">\r\n    <RepeatIcon/>\r\n    {Rusername} has retweeted\r\n</div>\r\n<div className=\"post\">\r\n    <div className=\"post__avatar\">\r\n        \r\n                {avatar?\r\n                 \r\n                <img onClick={clickImage}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImage} className=\"post__profile__pic\" src=''/>}\r\n         \r\n    </div>\r\n\r\n    <div className=\"post__body\">\r\n      <div className=\"post__header\">\r\n            <div className=\"post__headerText\">\r\n             <h3> {username}{\"\"}\r\n                 <span className=\"post__headerSpecial\">\r\n                {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>}\r\n                @{username}\r\n                <FiberManualRecordIcon style={{fontSize:'small',marginLeft:'2px'}} />{newTime}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n             <p id=\"posttext\"></p>\r\n         {!statemes&& <p>{text}</p>}\r\n\r\n      </div>\r\n      </div>\r\n      {/* //\r\n      //HIERONDER ZIT DE POLL(ONDERDEEL VAN NORMALE POST POLL)\r\n      // */}\r\n    <div className=\"post__poll\">\r\n        {!vote1&&!vote2&&!vote3&&!vote4&&profile.username?\r\n        <div>\r\n            <div className=\"post__poll__optionContainer\">\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n             e.preventDefault()\r\n            setVote1(true)}} className=\"post__poll__option\">\r\n        <h1 >{option1}</h1>\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{votes1}</h2>\r\n        </div>\r\n        \r\n        </div>\r\n        \r\n         <div className=\"post__poll__optionContainer\">\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n     e.preventDefault()\r\n            setVote2(true)}} className=\"post__poll__option\">\r\n         <h1 >{option2}</h1> \r\n     \r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{votes2}</h2>\r\n       \r\n        </div>\r\n        \r\n        </div>\r\n        \r\n        {option3&&\r\n        <div className=\"post__poll__optionContainer\">\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n     e.preventDefault()\r\n            setVote3(true)}} className=\"post__poll__option\">\r\n        <h1 >{option3}</h1>\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{votes3}</h2>\r\n        </div>\r\n        \r\n        </div>}\r\n        {option4&&\r\n        <div className=\"post__poll__optionContainer\">\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n     e.preventDefault()\r\n            setVote4(true)}} className=\"post__poll__option\">\r\n        <h1 >{option4}</h1>\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{votes4}</h2>\r\n        </div>\r\n        \r\n        </div>}\r\n        <div className=\"poll__totalvotes\">Total Votes: {totalVotes}</div>\r\n        </div>\r\n        \r\n        :\r\n        \r\n        \r\n <div>\r\n            <div className=\"post__poll__optionContainer\">\r\n        <div  className=\"post__poll__optionVoted\">\r\n        <h1 >{option1}</h1>\r\n        {vote1&& <CheckCircleOutlineOutlinedIcon className=\"poll__CheckBox\"/>}\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{votes1}</h2>\r\n        </div>\r\n        \r\n        </div>\r\n        \r\n         <div className=\"post__poll__optionContainer\">\r\n        <div  className=\"post__poll__optionVoted\">\r\n        <h1 >{option2}</h1>\r\n        {vote2&& < CheckCircleOutlineOutlinedIcon className=\"poll__CheckBox\"/>}\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{votes2}</h2>\r\n        </div>\r\n        \r\n        </div>\r\n        \r\n        {option3&&\r\n        <div className=\"post__poll__optionContainer\">\r\n        <div  className=\"post__poll__optionVoted\">\r\n        <h1 >{option3}</h1>\r\n        {vote3&& <CheckCircleOutlineOutlinedIcon/>}\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{votes3}</h2>\r\n        </div>\r\n        \r\n        </div>}\r\n        {option4&&\r\n        <div className=\"post__poll__optionContainer\">\r\n        <div  className=\"post__poll__optionVoted\">\r\n        <h1 >{option4}</h1>\r\n        {vote4&& <CheckCircleOutlineOutlinedIcon/>}\r\n        </div>\r\n        <div className=\"post__poll__optionh__votes\">\r\n        <h2 >{votes4}</h2>\r\n        </div>\r\n        \r\n        </div>}\r\n        <div className=\"poll__totalvotes\">Total Votes: {totalVotes}</div>\r\n        </div>\r\n}\r\n        \r\n        \r\n</div>\r\n        </div>\r\n    \r\n    {/* //\r\n    //\r\n    //HIER BOVEN ZIT DE POLL(ONDERDEEL VAN NORMALE POST POLL) */}\r\n     {user&&allow?\r\n<PostFooter userId={userId} token={token} likes={likes}comments={comments}shares={shares} username={username} avatar={avatar} verified={verified}text={text}image={image}option1={option1}  widget/>\r\n:<div></div>}\r\n</div>\r\n    \r\n</div>\r\n    )}\r\n    if(audio&&Rusername&&!Rtext){return(\r\n        <div id=\"clickable\" onClick={(e)=>{\r\n    \r\n    if(e.target.closest('form')===null){\r\n        history.push(`/post/${username}/${token}`)\r\n    }\r\n    }} className=\"retweetpostExtra\">\r\n     {/* <div className=\"retweetpostExtra\"> */}\r\n\r\n        <div onClick={(e)=>{\r\n             e.stopPropagation();\r\n     e.preventDefault()\r\n     history.push(`/profile/${Rtweeter}`)\r\n        }} className=\"post__retweeter\">\r\n    <RepeatIcon/>\r\n    {Rtweeter} has reposted\r\n</div>\r\n        \r\n       \r\n       <div className=\"post\">\r\n    <div className=\"post__avatar\">\r\n        \r\n                {avatar?\r\n                 \r\n                <img onClick={clickImage}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImage} className=\"post__profile__pic\" src=''/>}\r\n         \r\n    </div>\r\n\r\n    <div className=\"post__body\">\r\n      <div className=\"post__header\">\r\n            <div className=\"post__headerText\">\r\n             <h3> {username}{\"\"}\r\n                 <span className=\"post__headerSpecial\">\r\n                {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>}\r\n                @{username}\r\n                <FiberManualRecordIcon style={{fontSize:'small',marginLeft:'2px'}} />{newTime}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n  <p id=\"posttext\"></p>\r\n         {!statemes&& <p>{text}</p>}\r\n\r\n\r\n      </div>\r\n      \r\n    {image&&\r\n    <img className=\"post__img\"src={image} alt=\"\"></img>}\r\n    \r\n     {user&&allow?\r\n<PostFooter userId={userId} token={token} likes={likes}comments={comments}shares={shares} username={username} avatar={avatar} verified={verified}text={text}image={image}option1={option1}Rusername={Rusername}   widget/>\r\n:<div></div>}\r\n</div>\r\n    \r\n</div>\r\n</div>\r\n    </div>\r\n    )}\r\n    if(audio&&Rusername&&Rtext){return(\r\n        <div id=\"clickable\" onClick={(e)=>{\r\n    \r\n    if(e.target.closest('form')===null){\r\n        history.push(`/post/${username}/${token}`)\r\n    }\r\n    }} className=\"post\">\r\n    <div className=\"post__avatar\">\r\n        \r\n                {avatar?\r\n                 \r\n                <img onClick={clickImageR}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImageR} className=\"post__profile__pic\" src=''/>}\r\n         \r\n    </div>\r\n\r\n    <div className=\"post__body\">\r\n      <div className=\"post__header\">\r\n            <div className=\"post__headerText\">\r\n             <h3> {Rusername}{\"\"}\r\n                 <span className=\"post__headerSpecial\">\r\n                {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>}\r\n                @{Rusername}\r\n                <FiberManualRecordIcon style={{fontSize:'small',marginLeft:'2px'}} />{newTime}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n        <p id=\"posttextR\"></p>\r\n         {!statemesR&& <p>{Rtext}</p>}\r\n           \r\n\r\n      </div>\r\n      </div>\r\n    \r\n    {/* //\r\n    //HIERONDER POST VAN DE GE-RETWEETDE USER\r\n    //\r\n    // */}\r\n    <div className=\"postRR\">\r\n           <div className=\"post__avatar\">\r\n        \r\n                 {avatar?\r\n                 \r\n                <img onClick={clickImage}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImage} className=\"post__profile__pic\" src=''/>}\r\n         \r\n         \r\n            </div>\r\n     <div className=\"post__bodyRR\">\r\n                <div className=\"post__header\">\r\n            <div className=\"post__headerTextRR\">\r\n             <h3> {username}{\"\"}\r\n                 <span className=\"post__headerSpecialRR\">\r\n                {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>}\r\n                @{username}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n              <p id=\"posttext\"></p>\r\n         {!statemes&& <p>{text}</p>}\r\n\r\n\r\n      </div>\r\n      </div>\r\n      {audio&&<audio className=\"audioR\" controls src={audio}></audio>}\r\n      </div>\r\n    </div>\r\n\r\n    {/* //\r\n    //\r\n    //HIERBOVEN POST VAN DE GE-RETWEETDE USER\r\n    // */}\r\n    \r\n     {user&&allow?\r\n<PostFooter userId={userId} token={token} likes={likes}comments={comments}shares={shares} username={username} avatar={avatar} verified={verified}text={text}image={image}option1={option1}  widget/>\r\n:<div></div>}\r\n</div>\r\n    \r\n</div>\r\n    )}\r\nreturn(\r\n//\r\n//retweet met tekst\r\n//\r\n        \r\n       <div id=\"clickable\" onClick={(e)=>{\r\n    \r\n    if(e.target.closest('form')===null){\r\n        history.push(`/post/${username}/${token}`)\r\n    }\r\n    }} className=\"post\">\r\n    <div className=\"post__avatar\">\r\n        \r\n                {avatar?\r\n                 \r\n                <img onClick={clickImageR}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImageR} className=\"post__profile__pic\" src=''/>}\r\n         \r\n    </div>\r\n\r\n    <div className=\"post__body\">\r\n      <div className=\"post__header\">\r\n            <div className=\"post__headerText\">\r\n             <h3> {Rusername}{\"\"}\r\n                 <span className=\"post__headerSpecial\">\r\n                 {/* {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>} */}\r\n                @{Rusername}\r\n                <FiberManualRecordIcon style={{fontSize:'small',marginLeft:'2px'}} />{newTime}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n        <p id=\"posttextR\"></p>\r\n         {!statemesR&& <p>{Rtext}</p>}\r\n           \r\n\r\n      </div>\r\n      </div>\r\n    \r\n    {/* //\r\n    //HIERONDER POST VAN DE GE-RETWEETDE USER\r\n    //\r\n    // */}\r\n    <div className=\"postRR\">\r\n           <div className=\"post__avatar\">\r\n        \r\n                 {avatar?\r\n                 \r\n                <img onClick={clickImage}src={avatar} className=\"post__profile__pic\"/>\r\n                :<Avatar onClick={clickImage} className=\"post__profile__pic\" src=''/>}\r\n         \r\n         \r\n            </div>\r\n     <div className=\"post__bodyRR\">\r\n                <div className=\"post__header\">\r\n            <div className=\"post__headerTextRR\">\r\n             <h3> {username}{\"\"}\r\n                 <span className=\"post__headerSpecialRR\">\r\n                {/* {verified&&<VerifiedUserIcon className=\"post__badge\"></VerifiedUserIcon>} */}\r\n                @{username}\r\n                 </span>\r\n            </h3>\r\n    \r\n            </div>\r\n\r\n      <div className=\"post__headerDescription\">\r\n              <p id=\"posttext\"></p>\r\n         {!statemes&& <p>{text}</p>}\r\n\r\n\r\n      </div>\r\n      </div>\r\n      {image&&\r\n    <img className=\"post__img\"src={image} alt=\"\"></img>}\r\n      </div>\r\n    </div>\r\n\r\n    {/* //\r\n    //\r\n    //HIERBOVEN POST VAN DE GE-RETWEETDE USER\r\n    // */}\r\n    \r\n     {user&&allow?\r\n<PostFooter userId={userId} token={token} likes={likes}comments={comments}shares={shares} username={username} avatar={avatar} verified={verified}text={text}image={image}option1={option1}  widget/>\r\n:<div></div>}\r\n</div>\r\n    \r\n</div>\r\n\r\n    \r\n\r\n\r\n    )\r\n}\r\n//)\r\n\r\nexport default Post","import React,{useState,useEffect} from 'react';\r\nimport \"./Profile.css\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {Avatar,IconButton} from \"@material-ui/core\";\r\nimport { db} from \"./firebase\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport Post from \"./Post\";\r\nimport firebase from \"firebase\";\r\nimport EmailOutlinedIcon from '@material-ui/icons/EmailOutlined';\r\n\r\nfunction Profile() {\r\n    const {pName}=useParams();\r\n    const history=useHistory()\r\n   \r\n     const[{user,profile,handle},dispatch]=useStateValue();\r\n     \r\n     const[newProfile,setNewProfile]=useState('');\r\n     const[profileMain,setProfileMain]=useState([]);\r\n     const [allow,setAllow]=useState(false);\r\n     const[follow,setFollow]=useState(false);\r\n     const[poster,setPoster]=useState([]);\r\n         \r\n    const[userfollowing,setUserfollowing]=useState(0);\r\n    const [myposts,setMyposts]=useState([])\r\n    const[ retweetData, setRetweetData]=useState([]);\r\n    const [rposts,setRposts]=useState([]);\r\n    const [update,setUpdate]=useState(false);\r\n    const [doubleposts,setDoubleposts]=useState([])\r\n    \r\n    \r\nuseEffect(()=>{\r\n    let isSubscribed = true\r\n   \r\nsetTimeout(()=>{\r\n    if(isSubscribed){\r\nsetUpdate(!update)\r\n    }else{console.log('component not mounted')}\r\n \r\n},700)\r\n \r\nreturn () => isSubscribed = false\r\n},[user])\r\n\r\n\r\n useEffect(()=>{\r\n      let isSubscribed = true\r\n     if(user&&pName!='undefined'){\r\ndb.collection('posts').orderBy('createdAt','desc').limit(10).where('username','==',pName).where('retweet','==',false)\r\n     .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => (\r\n          (isSubscribed?\r\n\r\n          setMyposts((dat)=>{\r\n                const newdata={data:doc.data(),createdAt2:doc.data().createdAt}\r\n                const olddata=dat.filter((dat)=>dat.data.token!==newdata.data.token)\r\n                return[...olddata,newdata]\r\n            }) :null)\r\n    ))\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\n\r\ndb.collection('users').doc(pName).collection('retweets').orderBy('createdAt','desc').limit(10).get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => (\r\n          \r\n(isSubscribed?\r\n            setRetweetData((dat)=>{\r\n                const newdata=doc.data()\r\n                const olddata=dat.filter((dat)=>dat.createdAt!==newdata.createdAt)\r\n                return[...olddata,newdata]\r\n            }) :null)\r\n    ));\r\n    })\r\n    .catch(error => (isSubscribed ? console.log(error) : null))\r\n\r\n\r\n}\r\n\r\n\r\n     return () => isSubscribed = false\r\n },[user,update])\r\n\r\n\r\n \r\n\r\n useEffect(()=>{\r\n        let isSubscribed = true;\r\n  if(retweetData.length>0){\r\n retweetData.map((doc)=>{\r\n     const retweeter=doc.Rusername\r\n     const createdA=doc.createdAt\r\n     \r\n     \r\ndb.collection(\"posts\").orderBy('createdAt','desc').limit(10).where(\"token\", \"==\", doc.token)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc2) => (\r\n          \r\n(isSubscribed?\r\n            setRposts((dat)=>{\r\n                const newdata={data:doc2.data(),Rtweeter:retweeter,id:Math.random().toString(36),RcreatedAt:createdA,createdAt2:createdA}\r\n                \r\n                const olddata=dat.filter((dat2)=>dat2.data.token!==newdata.data.token)\r\n                return[...olddata,newdata]\r\n            }) :null)\r\n    ));\r\n    })\r\n     .catch(error => (isSubscribed ? console.log(error) : null))\r\n\r\n\r\n    })\r\n    \r\n\r\n        }else{console.log()}\r\nreturn () => isSubscribed = false\r\n       \r\n    },[retweetData,user])\r\n        \r\n         \r\nuseEffect(()=>{\r\n    let isSubscribed = true;\r\n        \r\n       if(profile&&pName!='undefined'&&isSubscribed){ \r\ndb.collection('users').doc(`/${profile.username}/following/${pName}`).get().then(doc=>{\r\n    if(doc.exists){\r\n        setFollow(true)\r\n    }else{\r\n        setFollow(false)\r\n    }\r\n}).catch((error)=>console.log(error))\r\n       }else{console.log('no profile')}\r\n  \r\n    \r\n    \r\nreturn () => isSubscribed = false\r\n},[follow]) \r\n       \r\n     \r\n// useEffect(()=>{\r\n//     let isSubscribed = true;\r\n// myposts.map((doc)=>(\r\n//    // console.log(doc.data)\r\n//    (isSubscribed?\r\n// setRposts((dat)=>{\r\n//      const newdata={data:doc.data,id:doc.data.createdAt,createdAt2:doc.data.createdAt}\r\n     \r\n     \r\n// //const olddata=dat.filter((dat2)=>dat2.createdAt2!==newdata.createdAt2)\r\n// //console.log(olddata)\r\n     \r\n \r\n   \r\n//     return[...dat,newdata]\r\n\r\n\r\n//  }):null)\r\n    \r\n// ))\r\n\r\n// return () => isSubscribed = false\r\n// },[myposts,user])\r\n\r\nuseEffect(()=>{\r\n    \r\n   \r\n var newArray=rposts.concat(myposts)\r\n  \r\n  setDoubleposts(newArray)\r\n    \r\n  \r\n\r\n},[rposts,myposts])\r\n\r\n\r\n\r\nfunction compareValues(key, order = 'asc') {\r\n  return function innerSort(a, b) {\r\n     \r\n      let varA \r\n      let varB \r\n     \r\n\r\n    if (!a.hasOwnProperty(key) && b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n    //   varA=a.data.createdAt\r\n    //   varB=a.RcreatedAt\r\n    varA=a.createdAt2\r\n       varB=b.createdAt2\r\n      \r\n    }\r\n    else if (a.hasOwnProperty(key) && !b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n    //   varA=a.RcreatedAt\r\n    //   varB=a.data.createdAt\r\n    varA=a.createdAt2\r\n       varB=b.createdAt2\r\n      \r\n    }\r\n    else if (!a.hasOwnProperty(key) && !b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n    //   varA=a.data.createdAt\r\n    //   varB=a.data.createdAt\r\n\r\n     varA=a.createdAt2\r\n       varB=b.createdAt2\r\n      \r\n    }\r\n    else if (a.hasOwnProperty(key) && b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n      varA=a.createdAt2\r\n      varB=b.createdAt2\r\n      \r\n    }\r\n\r\n     \r\n    \r\n     \r\n\r\n    let comparison = 0;\r\n    if (varA > varB) {\r\n      comparison = 1;\r\n    } else if (varA < varB) {\r\n      comparison = -1;\r\n    }\r\n    return (\r\n      (order === 'desc') ? (comparison * -1) : comparison\r\n    );\r\n  };\r\n}\r\n\r\nif(doubleposts!=undefined){\r\n   \r\n doubleposts.sort(compareValues('createdAt2', 'desc')) \r\n}  \r\n   \r\n\r\n\r\n    return (\r\n    //     <div className=\"profile\">\r\n    //         <div className=\"profile__header\">\r\n    //         <h1 >Profile</h1>\r\n    //         </div>\r\n            \r\n    //         <div className=\"profile__body\">\r\n    //             <div className=\"profile__avatar\">\r\n    //             {profileMain.imageUrl?\r\n                 \r\n    //             <img src={profileMain.imageUrl} className=\"profile__a\"/>\r\n    //             :<Avatar className=\"profile__a\" src=''/>}\r\n                \r\n    //            <h3 className=\"profile__option\">{profileMain?`@ ${profileMain?.username}`:\"@ \"}</h3>\r\n    //            <Link to={`/profile/${pName}/edit`}>\r\n    //                {!allow&&user?\r\n\r\n    //                <div className=\"followbutton\">\r\n    //                    <IconButton onClick={handleMessage} className=\"profile__followf\"><EmailOutlinedIcon/></IconButton>\r\n    //                  {/* <button onClick={handleMessage} className=\"profile__followf\">Message</button> */}\r\n    //                {!follow?\r\n    //  <button onClick={handleFollow} className=\"profile__followf\">Follow</button>:\r\n    //  <button onClick={handleFollow} className=\"profile__2followf\">Unfollow</button>}\r\n    //  </div>:<div></div>}\r\n    //            {allow&&\r\n    //            <div  className=\"profile__edit\" > <EditIcon/> Edit Profile</div>}\r\n               \r\n    //            </Link>\r\n    //              <div className=\"profile__commentsContainer\">\r\n                 \r\n    //              </div>\r\n    //             </div>\r\n                \r\n\r\n    //             <div className=\"profile__bio\">\r\n    //             <h4>{profileMain.bio}</h4>\r\n\r\n    //         </div>\r\n    //         <div className=\"profile__follow\">\r\n    //             <Link to={`/profile/followers/${pName}`}>\r\n    //             <div className=\"profile__num\">followers : {profileMain?.followers}</div>\r\n    //             </Link>\r\n    //             <Link to={`/profile/following/${pName}`}>\r\n    //             <div className=\"profile__num\">following : {profileMain?.following}</div>\r\n    //             </Link>\r\n    //         </div>\r\n                \r\n              \r\n    //         </div>\r\n    //         <div className=\"postOptions\">\r\n    //             <div className=\"postOptions__optionA\">\r\n    //                 <Link to={`/profile/${pName}`}>\r\n    //               <h3>Posts</h3>\r\n    //               </Link>\r\n    //             </div>\r\n    //             <div className=\"postOptions__option\">\r\n    //                 <Link to={`/profile/${pName}/likes`}>\r\n    //                  <h3>Likes</h3>\r\n    //                  </Link>\r\n    //             </div>\r\n    //         </div>\r\n\r\n    //         <div className=\"profile__myposts\">\r\n    //   {update?\r\n      <div>    \r\n          {(doubleposts!=undefined)?\r\n          <div>         \r\n{doubleposts.map(post=>(\r\n      \r\n      \r\n        <Post\r\n        \r\n       key={post.RcreatedAt?post.RcreatedAt:post.data.createdAt}\r\n       audio={post.data.audio}\r\n        token={post.data.token}\r\n        userId={post.data.userId}\r\n        displayName={post.data.displayName}\r\n        username={post.data.username}\r\n        verified={post.data.verified}\r\n        text={post.data.text}\r\n         avatar={post.data.avatar}\r\n        image={post.data.image}\r\n        createdAt={post.data.createdAt}\r\n        likes={post.data.likes}\r\n        comments={post.data.comments}\r\n        shares={post.data.shares}\r\n        option1={post.data.option1}\r\n        option2={post.data.option2}\r\n        option3={post.data.option3}\r\n        option4={post.data.option4}\r\n        votes1={post.data.votes1}\r\n        votes2={post.data.votes2}\r\n        votes3={post.data.votes3}\r\n        votes4={post.data.votes4}\r\n        Rusername={post.data.Rusername}\r\n        Rimage={post.data.Rimage}\r\n        Rtext={post.data.Rtext}\r\n        Ravatar={post.data.Ravatar}\r\n        Rtweeter={post.Rtweeter}\r\n        RcreatedAt={post.RcreatedAt}\r\n        \r\n        \r\n        \r\n\r\n        />\r\n      \r\n    ))}\r\n    </div>  :<div className=\"loading\"><p>Loading....</p></div>} \r\n    \r\n    \r\n    \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile\r\n","import React, {useState,useEffect} from \"react\";\r\nimport \"./TweetBox.css\";\r\nimport {Avatar, Button} from \"@material-ui/core\";\r\nimport {db,storage} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport Profile from \"./Profile\";\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport PollIcon from '@material-ui/icons/Poll';\r\nimport AddBoxIcon from '@material-ui/icons/AddBox';\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport HighlightOffOutlinedIcon from '@material-ui/icons/HighlightOffOutlined';\r\nimport firebase from \"firebase\";\r\nimport AudiotrackIcon from '@material-ui/icons/Audiotrack';\r\nimport GraphicEqIcon from '@material-ui/icons/GraphicEq';\r\nimport NavigateBeforeIcon from '@material-ui/icons/NavigateBefore';\r\nimport Picker from 'emoji-picker-react';\r\nimport EmojiEmotionsIcon from '@material-ui/icons/EmojiEmotions';\r\n\r\nfunction TweetBox({sidebar}){\r\n    const [tweetMessage,setTweetMessage]=useState(\"\");\r\n    const [tweetImage,setTweetImage]=useState(\"\");\r\n    const [ imageProgress,setImageProgress]=useState(0);\r\n    const [ audioProgress,setAudioProgress]=useState(0);\r\n    const [tweetAudio,setTweetAudio]=useState(\"\");\r\n    const[{user,profile,windowstate},dispatch]=useStateValue();\r\n    const[ids,setIds]=useState([]);\r\n     const [image,setImage]=useState(\"\");\r\n     const [audio,setAudio]=useState('')\r\n     const[pollOnOff,setPollOnOff]=useState(false);\r\n     const[option1,setOption1]=useState('')\r\n     const[option2,setOption2]=useState('');\r\n      const[option3,setOption3]=useState('');\r\n      const[option4,setOption4]=useState('');\r\n     const[choices3,setChoices3]=useState(false);\r\n     const[choices4,setChoices4]=useState(false);\r\n     const[tweetWindow,SetTweetWindow]=useState(true)\r\n     const [nchar,setNchar]=useState(0);\r\n     const [audioPlaying,setAudioPlaying]=useState(false);\r\n     const [ad,setAd]=useState(true);\r\n     const [added,setAdded]=useState(false);\r\n      const emojis = require('emojis-list');\r\n       const [chosenEmoji, setChosenEmoji] = useState(null);\r\n       const [openEmoji,setOpenEmoji]=useState(false)\r\n       const [postToken,setPostToken]=useState('')\r\n     \r\n     let naam\r\n     \r\n\r\n     \r\n    \r\n     \r\n     \r\n\r\n    const childPathImage=`image/${profile.username}/${Math.random().toString(36)}`\r\n    const childPathAudio=`audio/${profile.username}/${Math.random().toString(36)}`\r\n\r\n   \r\n\r\n \r\n\r\n  const onEmojiClick = (e, emojiObject) => {\r\n      e.preventDefault()\r\n       e.stopPropagation();\r\n     \r\n    setChosenEmoji(emojiObject);\r\n  }\r\n  useEffect(()=>{\r\n      if(chosenEmoji){\r\n    //   setTweetMessage((old)=>{\r\n    //       console.log(old)\r\n    //       return[...old,chosenEmoji.emoji]\r\n    //   })\r\n    const oldmes=tweetMessage\r\n    const newmes=oldmes.concat(chosenEmoji.emoji)\r\n    \r\n    setTweetMessage(newmes)\r\n    }\r\n\r\n  },[chosenEmoji])\r\n\r\n    useEffect(()=>{\r\n    if(tweetAudio){\r\n        setTimeout(()=>{\r\nsetAd(false)\r\n        },2000)\r\n    }\r\n    },[tweetAudio])\r\n    \r\n    \r\n    const handlechangeimage=(e)=>{\r\n        const image=e.target.files[0]\r\n        \r\n        const task=storage.ref().child(childPathImage).put(image)\r\n        \r\n       const taskProgress=snapshot=>{\r\n           console.log(`transferredImage:${snapshot.bytesTransferred}`)\r\n           setImageProgress(snapshot.bytesTransferred)\r\n       }\r\n        const taskCompleted=()=>{\r\ntask.snapshot.ref.getDownloadURL().then((snapshot)=>{\r\n    setTweetImage(snapshot)\r\n})\r\n        }\r\n\r\n        const taskError=snapshot=>{\r\n        console.log(snapshot)\r\n        }\r\n        task.on(\"state__changed\",taskProgress,taskError,taskCompleted)\r\n    }\r\n    const handleImage=()=>{\r\n        const fileInput=document.getElementById('imageInput');\r\n        fileInput.click()\r\n    }\r\n    //Hieronder Audio input\r\n    //\r\n    const handlechangeaudio=(e)=>{\r\n        const audio=e.target.files[0]\r\n        \r\n        const taskAudio=storage.ref().child(childPathAudio).put(audio)\r\n        \r\n       const taskProgressAudio=snapshot=>{\r\n           console.log(`transferredAudio:${snapshot.bytesTransferred}`)\r\n           setAudioProgress(snapshot.bytesTransferred)\r\n       }\r\n        const taskCompletedAudio=()=>{\r\ntaskAudio.snapshot.ref.getDownloadURL().then((snapshot)=>{\r\n    setTweetAudio(snapshot)\r\n})\r\n        }\r\n\r\n        const taskErrorAudio=snapshot=>{\r\n        console.log(snapshot)\r\n        }\r\n        taskAudio.on(\"state__changed\",taskProgressAudio,taskErrorAudio,taskCompletedAudio)\r\n    }\r\n\r\n    const handleAudio=()=>{\r\n        const audioInput=document.getElementById('audioInput');\r\n        audioInput.click()\r\n    }\r\n   //\r\n   //\r\n\r\n    const sendTweet=e=>{\r\n        e.preventDefault();\r\n  const message=tweetMessage;\r\n  var splitmessage;\r\n  let messageDeel1\r\n  let first=-1\r\n  let hashes=[]\r\n  \r\n//  if (string.indexOf(',') > -1) { string.split(',') }\r\n if (message.indexOf('#') > -1) { \r\n     splitmessage=message.split('#'); \r\n  \r\n  \r\n  \r\n\r\n   splitmessage.forEach(function(val){\r\n// str += '<content>'+val+'</content><br />';\r\nif(first<0){\r\n    messageDeel1=val\r\n    first=first+1\r\n    //console.log('hi')\r\n}else{\r\n   // console.log(val)\r\n   // console.log(first)\r\n    hashes[first]=val\r\n    first=first+1\r\n\r\n}\r\n})\r\n }\r\nif(hashes.length>0){\r\n    hashes.map(has=>(\r\n  db.collection('hashtrends').doc(has).get().then((doc)=>{\r\n      if(doc.exists){\r\n          db.collection('hashtrends').doc(has).update({\r\n              postsCount:firebase.firestore.FieldValue.increment(1)\r\n          }).catch((error)=>console.log(error))\r\n      }else{\r\n          db.collection('hashtrends').doc(has).set({\r\n              hashtag:has,\r\n              postsCount:1,\r\n              createdAt:new Date().getTime().toString(),\r\n          }).catch((error)=>console.log(error))\r\n      }\r\n  })\r\n    ))\r\n\r\n}\r\n\r\n\r\n        if(!pollOnOff&&!tweetAudio){\r\n        db.collection('posts').add({\r\n        \r\n        username:profile.username,\r\n        userId:user.uid,\r\n        verified:false,\r\n        text:tweetMessage,\r\n        avatar:profile.imageUrl,\r\n        image:tweetImage,\r\n        createdAt:new Date().getTime().toString(),\r\n        likes:0,\r\n        comments:0,\r\n        shares:0,\r\n        token:\"\",\r\n         hashes:hashes,\r\n         retweet:false\r\n        \r\n\r\n        })\r\n        .then((docRef)=>{\r\n            db.collection(\"posts\").doc(`${docRef.id}`).update({\"token\":`${docRef.id}`})\r\n            \r\n        }).catch((error)=>console.log(error))\r\n\r\n\r\n \r\n\r\n\r\n       \r\n\r\n        setTweetMessage(\"\");\r\n    setTweetImage(\"\");\r\n        }else if(option1){\r\ndb.collection('posts').add({\r\noption1:option1,\r\noption2:option2,\r\noption3:option3,\r\noption4:option4,\r\nvotes1:0,\r\nvotes2:0,\r\nvotes3:0,\r\nvotes4:0,\r\ntext:tweetMessage,\r\ncreatedAt:new Date().getTime().toString(),\r\nusername:profile.username,\r\nuserId:user.uid,\r\nverified:false,\r\navatar:profile.imageUrl,\r\nlikes:0,\r\ncomments:0,\r\nshares:0,\r\ntoken:\"\",\r\nretweet:false\r\n\r\n\r\n}).then((docRef)=>{\r\n            db.collection(\"posts\").doc(`${docRef.id}`).update({\"token\":`${docRef.id}`})\r\n            \r\n        }).catch((error)=>console.log(error))\r\n\r\nsetTweetMessage(\"\");\r\nsetOption1('')\r\nsetOption2('')\r\nsetOption3('')\r\nsetOption4('')\r\nsetPollOnOff(false)\r\n\r\n        }else if(tweetAudio){\r\n             db.collection('posts').add({\r\n        \r\n        username:profile.username,\r\n        userId:user.uid,\r\n        verified:false,\r\n        text:tweetMessage,\r\n        avatar:profile.imageUrl,\r\n        audio:tweetAudio,\r\n        createdAt:new Date().getTime().toString(),\r\n        likes:0,\r\n        comments:0,\r\n        shares:0,\r\n        token:\"\",\r\n         hashes:hashes,\r\n         retweet:false\r\n        \r\n\r\n        })\r\n        .then((docRef)=>{\r\n            setPostToken(docRef.id)\r\n            db.collection(\"posts\").doc(docRef.id).update({\"token\":`${docRef.id}`})\r\n            \r\n        }).catch((error)=>console.log(error))\r\n          \r\n\r\nsetTweetMessage(\"\");\r\nsetTweetAudio('')\r\n\r\n        }\r\n        setOpenEmoji(false)\r\n        db.collection('users').doc(naam).get().then((doc)=>{\r\n            if(doc.exists){\r\n                db.collection('users').doc(naam).collection('notificaitons').add({\r\n                    avatar:profile.imageUrl,\r\n                    timestamp:new Date().getTime().toString(),\r\n                    tagUsername:profile.username,\r\n                    postId:postToken,\r\n                    seen:false,\r\n                    token:''\r\n                }).then((docRef)=>{\r\n            db.collection(\"users\").doc(naam).collection('notifications').doc(docRef.id).update({\"token\":`${docRef.id}`})\r\n            \r\n        }).catch((error)=>console.log(error))\r\n            }\r\n        })\r\n    }\r\n\r\n    const handlePoll=(e)=>{\r\ne.preventDefault()\r\nif(pollOnOff){\r\nsetPollOnOff(false)\r\n}else{setPollOnOff(true)}\r\n\r\n\r\n\r\n    }\r\n    const addOption=(e)=>{\r\ne.preventDefault()\r\nsetAdded(true)\r\nif(!choices3){\r\n    setChoices3(true)\r\n\r\n}else if(choices3&&!choices4){\r\n    setChoices4(true)}\r\n    }\r\n    const removeOption=(e)=>{\r\ne.preventDefault()\r\nsetAdded(false)\r\nif(choices3&&!choices4){\r\n    setChoices3(false)\r\n\r\n}else if(choices4){\r\n    setChoices4(false)}\r\n    }\r\n\r\n    const closeWindow=(e)=>{\r\ne.preventDefault()\r\ndispatch({type:'CLOSE__WINDOW'})\r\n    }\r\n\r\n    useEffect(()=>{\r\n//check length tweetmessage\r\nlet len = tweetMessage.length;\r\nlet nchar2=0\r\n\r\nfor(let i = 0; i != len; i++) {\r\n   if(tweetMessage[i] != ' ') {\r\n       \r\n       nchar2++\r\n       \r\n   }\r\n}\r\nsetNchar(nchar2)\r\nif(nchar2>250){\r\n    let newTweetMessage=tweetMessage\r\n    newTweetMessage=newTweetMessage.replace(`${newTweetMessage[newTweetMessage.length -1]}`,'')\r\n    setTweetMessage(newTweetMessage)\r\n}\r\nif(len>0){\r\nlet testmessage=tweetMessage\r\nlet newmes=/@[a-z]+/i.exec(testmessage)\r\n\r\nif(newmes){\r\nlet testmes=newmes[0].split('@')\r\nlet num=-1\r\n\r\ntestmes.forEach(function(val){\r\n    if(num<0){\r\n        num++\r\n    }else{\r\n      naam=val\r\n    }\r\n})\r\n\r\n\r\n\r\n//  finalmessage=testmessage.replace(/@[a-z]+/i,`<Link to=\"${naam}\">${newmes}</Link>`)\r\n//  console.log(finalmessage)\r\n}}\r\n\r\n// let docje=document.getElementById(\"newmes\")\r\n// docje.innerHTML=newstring\r\n\r\n\r\n    },[tweetMessage])\r\n    \r\n\r\n    return (!sidebar)?(\r\n<div className={`tweetbox ${pollOnOff&&\"tweetBox__extend\"}`}>\r\n    \r\n    \r\n    \r\n    <form>\r\n       \r\n        <div className=\"tweetBox__input\">\r\n          <Avatar src={profile.imageUrl}></Avatar>\r\n          \r\n          <input\r\n           \r\n          onChange={(e)=>setTweetMessage(e.target.value)}\r\n          value={tweetMessage}\r\n           placeholder={pollOnOff?\"Add a Question\":\"What's happening?\"} \r\n          type=\"text\"></input>\r\n          <div id=\"newmes\"></div>\r\n           <p className=\"maxchar2\">{nchar }/250</p>\r\n\r\n          </div>\r\n          <div className=\"pickerContainer\">\r\n     {/* {openEmoji&&<button className=\"picker__button\" title=\"yo\" onClick={()=>setOpenEmoji(false)}>yo</button>} */}\r\n      {/* {chosenEmoji ? (\r\n        <span>You chose: {chosenEmoji.emoji}</span>\r\n      ) : (\r\n        <span>No emoji Chosen</span>\r\n      )} */}\r\n      {openEmoji&&\r\n      <Picker pickerStyle={{width:'400px'}}  onEmojiClick={onEmojiClick} />\r\n      }\r\n     \r\n    </div>\r\n         \r\n          {pollOnOff&&\r\n    <div className=\"tweet__poll\">\r\n         \r\n        <input className=\"tweet__poll__input\"placeholder=\"Option 1\" value={option1} type=\"text\" onChange={(e)=>setOption1(e.target.value)}></input>\r\n        <input className=\"tweet__poll__input\" placeholder=\"Option 2\" value={option2} type=\"text\" onChange={(e)=>setOption2(e.target.value)}></input>\r\n        {choices3&&<input className=\"tweet__poll__input\" placeholder=\"Option 3\" value={option3} type=\"text\" onChange={(e)=>setOption3(e.target.value)}></input>}\r\n        {choices4&&<input className=\"tweet__poll__input\" placeholder=\"Option 4\" value={option4} type=\"text\" onChange={(e)=>setOption4(e.target.value)}></input>}\r\n        {/* {choices3?\r\n        <IconButton onClick={addOption}>\r\n        <RemoveIcon />\r\n        </IconButton>: */}\r\n        {(!choices3&&!choices4&&!added)&&\r\n        <IconButton onClick={addOption}>\r\n        <AddBoxIcon/>\r\n        </IconButton>}\r\n        {(choices3&&!choices4)&&\r\n        <IconButton onClick={addOption}>\r\n        <AddBoxIcon/>\r\n        </IconButton>}\r\n        {choices4&&\r\n         <IconButton onClick={removeOption}>\r\n        <RemoveIcon/>\r\n        </IconButton>\r\n        }\r\n        {(choices3&&!choices4)&&\r\n        <IconButton onClick={removeOption}>\r\n        <RemoveIcon/>\r\n        </IconButton>\r\n        }\r\n        <Tooltip title=\"Back\">\r\n        <IconButton onClick={()=>setPollOnOff(false)}>\r\n        <NavigateBeforeIcon/>\r\n        </IconButton>\r\n        </Tooltip>\r\n         \r\n         \r\n        \r\n        \r\n        \r\n        </div>}\r\n          <div className=\"tweetBox__footer\">\r\n              <div className={`tweetBox__tweetbutton ${!tweetMessage&&\"tweetBox__tweetButtonO\"}`}>\r\n              <Button\r\n        onClick={sendTweet}\r\n        type=\"submit\"\r\n         className=\"tweetBox__tweetButton\">Post</Button>\r\n        \r\n          </div>\r\n          <input placeholder=\"ImageInput\" hidden=\"hidden\" type=\"file\" id=\"imageInput\" value={image} onChange={handlechangeimage}></input>\r\n       \r\n       {!tweetImage&&\r\n        <Tooltip title=\"Add media\">\r\n        <IconButton  onClick={handleImage}>\r\n        <ImageIcon/>\r\n        </IconButton>\r\n        </Tooltip>\r\n              }\r\n         <div className=\"bytes\">\r\n            \r\n            \r\n            {tweetImage&&<div className=\"addedImageCon\" >\r\n                <IconButton onClick={()=>setTweetImage('')}>\r\n                <RemoveIcon/>\r\n                </IconButton>\r\n                <img src={tweetImage.uri}alt=\"\"className=\"addedImage\"></img>\r\n                </div>}\r\n        </div>\r\n        <Tooltip title=\"Add Poll\">\r\n        <IconButton onClick={handlePoll} >\r\n        <PollIcon/>\r\n        </IconButton>\r\n        </Tooltip>\r\n        <input placeholder=\"AudioInput\" hidden=\"hidden\" type=\"file\" id=\"audioInput\" value={audio} onChange={handlechangeaudio}></input>\r\n        {!tweetAudio&&\r\n        <Tooltip title=\"Add Audio\">\r\n            <IconButton  onClick={handleAudio}>\r\n        <AudiotrackIcon/>\r\n        </IconButton>\r\n        </Tooltip>}\r\n       {tweetAudio&&\r\n        <div className=\"addedImageCon\">\r\n        <IconButton onClick={()=>setTweetAudio('')}>\r\n        <RemoveIcon/>\r\n        </IconButton>\r\n        {ad&&\r\n        <p>audio added</p>}\r\n        </div>}\r\n\r\n        \r\n        <div className=\"addedEmojiCon\">\r\n            <Tooltip  title=\"Add Emoji\">\r\n        <IconButton  onClick={()=>setOpenEmoji(!openEmoji)}>\r\n        <EmojiEmotionsIcon/>\r\n        </IconButton>\r\n        </Tooltip>\r\n        \r\n        </div>\r\n        \r\n        \r\n        \r\n        \r\n        </div>\r\n        \r\n        \r\n    </form>\r\n\r\n    <div id=\"emoji\">\r\n\r\n    </div>\r\n\r\n    \r\n    \r\n</div>\r\n\r\n\r\n    ):(\r\n        <div className=\"tweetbox__2\">\r\n            \r\n    <IconButton onClick={closeWindow}className=\"repeat__closeButton\">\r\n        <HighlightOffOutlinedIcon/>\r\n        </IconButton>\r\n    <form>\r\n       \r\n        <div className=\"tweetBox__input\">\r\n          <Avatar src={profile.imageUrl}></Avatar>\r\n          \r\n          <input\r\n\r\n          onChange={(e)=>setTweetMessage(e.target.value)}\r\n          value={tweetMessage}\r\n           placeholder=\"whats happening?\" \r\n          type=\"text\"></input>\r\n          </div>\r\n          \r\n          \r\n          <div className=\"tweetBox__footer\">\r\n              <div className=\"tweetBox__tweetbutton\">\r\n              <Button\r\n        onClick={sendTweet}\r\n        type=\"submit\"\r\n         className=\"tweetBox__tweetButton\">Tweet</Button>\r\n          </div>\r\n       <input placeholder=\"Edit Profile pic\" hidden=\"hidden\" type=\"file\" id=\"imageInput\" value={image} onChange={handlechangeimage}></input>\r\n        <Tooltip title=\"Add media\">\r\n        <IconButton  onClick={handleImage}>\r\n        <ImageIcon/>\r\n        </IconButton>\r\n        </Tooltip>\r\n\r\n         <Tooltip title=\"Add Poll\">\r\n        <IconButton onClick={handlePoll} >\r\n        <PollIcon/>\r\n        </IconButton>\r\n        </Tooltip>\r\n\r\n        </div>\r\n        \r\n         \r\n    </form>\r\n    {pollOnOff&&\r\n    <div className=\"tweet__poll\">\r\n        \r\n        \r\n        \r\n        </div>}\r\n\r\n    \r\n\r\n</div>\r\n    )\r\n}\r\n\r\nexport default TweetBox","import React,{useEffect,useState} from \"react\";\r\nimport \"./Sidebar.css\";\r\nimport TwitterIcon from \"@material-ui/icons/Twitter\";\r\nimport SidebarOption from \"./SidebarOption\";\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport {Avatar,Button} from \"@material-ui/core\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {db,auth} from \"./firebase\";\r\nimport TweetBox from \"./TweetBox\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\r\n\r\nfunction Sidebar(){\r\n    \r\n        \r\n    var getUrl = window.location;\r\n    const [{user,profile,handle,windowstate},dispatch]=useStateValue();\r\n    const[click,setClick]=useState(false);\r\n    const[open,setOpen]=useState(false);\r\n\r\n    const [act,setAct]=useState(false);\r\n    const[explore1,setExplore1]=useState(false);\r\n    const[follow1,setFollow1]=useState(false)\r\n    const[profile1,setProfile1]=useState(false);\r\n    const[chat1,setChat1]=useState(false)\r\n    const[notifi1,setNotifi1]=useState(false)\r\n    const [notiCounter,setNotiCounter]=useState([])\r\n    const [notify,setNotify]=useState(false)\r\n\r\n\r\n    useEffect(()=>{\r\n        let isSubscribed = true;\r\n\r\nif(profile.username !== undefined){\r\n    setNotiCounter([])\r\ndb.collection('users').doc(profile.username).collection('notifications').where('seen','==',false)\r\n    .onSnapshot(snapshot=>( \r\n        ( isSubscribed?\r\n        setNotiCounter(snapshot.docs.map((doc)=>doc.id\r\n                         )):null)\r\n    \r\n    )\r\n        \r\n\r\n    \r\n        )\r\n        if(notiCounter.length>0){\r\n            setNotify(true)\r\n            \r\n        }else{\r\n            setNotify(false)\r\n        }\r\n        }\r\nreturn () => isSubscribed = false\r\n    },[user,profile])\r\n\r\n\r\n   \r\n    \r\n\r\n    useEffect(()=>{\r\n\r\n  \r\nif(profile.username !='undefined'){\r\n  \r\n   if(getUrl.href=='https://socialhit.nl/explore'){\r\n      setExplore1(true)\r\n   }else{setExplore1(false)}\r\n   if(getUrl.href=='https://socialhit.nl/'){\r\n      setFollow1(true)\r\n   }else{setFollow1(false)}\r\n   if(getUrl.href=='https://socialhit.nl/chat'){\r\n      setChat1(true)\r\n   }else{setChat1(false)}\r\n    if(getUrl.href==`https://socialhit.nl/profile/${profile.username}`){\r\n      setProfile1(true)\r\n      \r\n   }else{setProfile1(false)}\r\n if(getUrl.href=='https://socialhit.nl/notifications'){\r\n      setNotifi1(true)\r\n      \r\n   }else{setNotifi1(false)}\r\n\r\n   \r\n}else{console.log('no profile')}\r\n\r\n    },[getUrl.href,user])\r\n    //console.log(getUrl.href)\r\n   \r\n\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n\r\n    const handletweet=(e)=>{\r\n        e.preventDefault()\r\n        \r\n        if(windowstate){\r\n            // setOpen(false)\r\n            dispatch({type:'CLOSE__WINDOW'})\r\n        }\r\n        if(!windowstate){\r\n            // setOpen(true)\r\n            dispatch({type:'OPEN__WINDOW'})\r\n        }\r\n\r\n    }\r\n\r\n    const handleAuth=()=>{\r\n        if(user){\r\n   auth.signOut()\r\n        }\r\n    }\r\n    \r\n    \r\n\r\n    return(\r\n       \r\n<div className=\"sidebar\">\r\n    <Link to=\"/\">\r\n        <img className=\"header__logo\" src=\"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/shortlogoSocialHit.jpg?alt=media&token=68b2e724-0787-4d13-91ed-4001379e11ba\"></img>\r\n{/* <TwitterIcon className=\"sidebar__twitterIcon\" /> */}\r\n</Link>\r\n    <Link to=\"/\">\r\n        {follow1?      \r\n    <SidebarOption active Icon={HomeIcon} text=\"Following\" /> :\r\n    <SidebarOption  Icon={HomeIcon} text=\"Following\" />\r\n    \r\n    }\r\n       \r\n    </Link>\r\n    \r\n    <Link to=\"/explore\">\r\n        {explore1?\r\n    <SidebarOption active Icon={SearchIcon} text=\"Explore\" />:\r\n    <SidebarOption  Icon={SearchIcon} text=\"Explore\" />\r\n    }\r\n    </Link >\r\n    <Link to=\"/notifications\">\r\n  {notify?\r\n  <div>\r\n{notifi1?\r\n    <SidebarOption active alert Icon={notify? NotificationsActiveIcon: NotificationsIcon} text=\"Notifications\" />:\r\n    <SidebarOption Icon={ notify? NotificationsActiveIcon: NotificationsIcon} text=\"Notifications\" />}\r\n  </div>:\r\n        <div>\r\n        {notifi1?\r\n    <SidebarOption active Icon={ NotificationsIcon} text=\"Notifications\" />:\r\n    <SidebarOption Icon={ notify? NotificationsActiveIcon: NotificationsIcon} text=\"Notifications\" />}\r\n    </div>}\r\n    </Link>\r\n    <Link to=\"/chat\">\r\n        {chat1?\r\n    <SidebarOption Icon={ MailOutlineIcon} active text=\"Chat\" />\r\n    :<SidebarOption Icon={ MailOutlineIcon} text=\"Chat\" />}\r\n    </Link>\r\n    \r\n    <Link to={`/profile/${profile?.username}`}>\r\n        {profile1?\r\n    <SidebarOption Icon={ AccountCircleIcon} active text=\"Profile\" />:\r\n    <SidebarOption Icon={ AccountCircleIcon} text=\"Profile\" />\r\n    }\r\n    </Link>\r\n\r\n    {/* <Link to=\"/games\">\r\n        \r\n    \r\n    <SidebarOption text=\"Games\" />\r\n    \r\n    </Link> */}\r\n\r\n    <Button onClick={handletweet}variant=\"outlined\" className=\"sidebar__tweet\" fullWidth>Post</Button>\r\n\r\n<div className=\"profile\">\r\n    \r\n        <h1>{user?`Hello ${profile?.username}`:\"Hello Guest\"}</h1>\r\n        {user?\r\n        <Link to={`/profile/${profile?.username}`}>\r\n        {/* <Avatar onClick={()=>{click?setClick(false):setClick(true)}} src={profile.imageUrl}></Avatar> */}\r\n        {profile.imageUrl?\r\n        <img onClick={()=>{click?setClick(false):setClick(true)}} src={profile.imageUrl} className=\"profile__aa\"/>:\r\n        <img onClick={()=>{click?setClick(false):setClick(true)}} src=\"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\" className=\"profile__aa\"/>\r\n        // <Avatar onClick={()=>{click?setClick(false):setClick(true)}} src=''></Avatar>\r\n        }\r\n        </Link>:<div></div>}\r\n        <Link  to=\"/login\">\r\n<h3 className=\"profile__link\"onClick={handleAuth}>{user?\"Sign out\":\"Sign in\"}</h3>\r\n</Link>\r\n</div>\r\n{(user&&windowstate)?\r\n<div className=\"open\">\r\n    <TweetBox sidebar/>\r\n</div>:<div></div>}\r\n{!user?<div>Please Sign In to post</div>:<div></div>}\r\n</div>\r\n \r\n    )\r\n}\r\n\r\nexport default Sidebar;","import React,{useEffect, useState} from \"react\";\r\nimport TweetBox from \"./TweetBox\";\r\nimport \"./Feed.css\";\r\nimport Post from \"./Post\";\r\nimport {db} from \"./firebase\";\r\nimport FlipMove from \"react-flip-move\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\n\r\nfunction Feed(){\r\n    const [posts,setPosts]=useState([]);\r\n    const[{user,profile},dispatch]=useStateValue();\r\n    const[feedData,setFeedData]=useState([]);\r\n    const[retweetData,setRetweetData]=useState([])\r\n    const [rposts,setRposts]=useState([]);\r\n    const [postsBucket,setPostsBucket]=useState([]);\r\n    const [update,setUpdate]=useState(false)\r\n    const [doubleposts,setDoubleposts]=useState([]);\r\n    const [likersPostsId,setLikersPostsId]=useState([]);\r\n    const [likersPosts,setLikersPosts]=useState([]);\r\n\r\n    \r\n    \r\nuseEffect(()=>{\r\nsetTimeout(()=>{\r\nsetUpdate(!update)\r\n},700)\r\n\r\n},[])\r\n\r\n\r\n    useEffect(()=>{\r\n        let isSubscribed = true\r\nif(user&&profile.username!='undefined'){\r\n    \r\n    db.collection('users').doc(`${profile.username}`).collection('following')\r\n    .onSnapshot(snapshot=>( \r\n        ( isSubscribed?\r\n        setFeedData(snapshot.docs.map((doc)=>doc.data()\r\n                         )):null)\r\n    \r\n    )\r\n        \r\n        )\r\n}else{console.log()}\r\nreturn () => isSubscribed = false\r\n    \r\n    },[user,update])\r\n\r\n    useEffect(()=>{\r\n         let isSubscribed = true\r\n        if(feedData.length>0&&profile.username!='undefined'&&isSubscribed){\r\n feedData.map((doc)=>{\r\n   const liker1=doc.username\r\n   \r\n\r\ndb.collection(\"users\").doc(liker1).collection('likedposts')\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => (\r\n            \r\n            setLikersPostsId((dat)=>{\r\n                \r\n                const newdata={data:doc.data(),liker:liker1}\r\n                const olddata=dat.filter((dat)=>dat.data.postId!==newdata.data.postId)\r\n                return[...olddata,newdata]\r\n            })\r\n        ))})\r\n          .catch(error => (isSubscribed ? console.log(error) : null))\r\n        \r\n \r\n    })\r\n    \r\n    }\r\n        else{console.log()}\r\n        return () => isSubscribed = false\r\n    },[feedData,user])\r\n\r\n    \r\n//\r\n//\r\n//\r\nuseEffect(()=>{\r\n        let isSubscribed = true;\r\n  if(likersPostsId.length>0&&isSubscribed){\r\n likersPostsId.map((doc)=>{\r\n     const liker1=doc.liker\r\n     const createdA=doc.data.createdAt\r\n     \r\n     \r\ndb.collection(\"posts\").doc(doc.data.postId)\r\n    .get()\r\n    .then((doc) => {\r\n       \r\n          \r\n\r\n            setLikersPosts((dat)=>{\r\n                const newdata={data:doc.data(),liker:liker1,id:Math.random().toString(36),createdAt:createdA,createdAt2:createdA}\r\n                \r\n                const olddata=dat.filter((dat2)=>dat2.data.token!==newdata.data.token)\r\n                return[...olddata,newdata]\r\n            })\r\n          }).catch(error => (isSubscribed ? console.log(error) : null))\r\n    })\r\n     \r\n        }else{console.log()}\r\nreturn () => isSubscribed = false\r\n       \r\n    },[likersPostsId,user])\r\n\r\n\r\n\r\n    \r\n    \r\n//\r\n//\r\n//\r\n    useEffect(()=>{\r\n         let isSubscribed = true\r\n        if(feedData.length>0&&profile.username!='undefined'){\r\n feedData.map((doc)=>{\r\ndb.collection(\"posts\").orderBy('createdAt','desc').limit(10).where(\"userId\", \"==\", doc.userId)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => (\r\n            (isSubscribed?\r\n            setPosts((dat)=>{\r\n                \r\n                const newdata={data:doc.data(),createdAt2:doc.data().createdAt,id:Math.random().toString(36)}\r\n                const olddata=dat.filter((dat)=>dat.data.token!==newdata.data.token)\r\n                return[...olddata,newdata]\r\n            }):null)\r\n        \r\n ))\r\n    })\r\n    .catch(error => (isSubscribed ? console.log(error) : null))\r\n    })\r\n        }else{console.log()}\r\n        return () => isSubscribed = false\r\n    },[feedData,user])\r\n    \r\n    //\r\n    //\r\n    //\r\n    useEffect(()=>{\r\n        let isSubscribed = true\r\n  if(feedData.length>0&&profile.username!='undefined'){\r\n feedData.map((doc)=>{\r\ndb.collection(\"users\").doc(doc.username).collection('retweets').limit(10).where(\"Rusername\", \"==\", doc.username)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => (\r\n          \r\n(isSubscribed?\r\n            setRetweetData((dat)=>{\r\n                const newdata=doc.data()\r\n                const olddata=dat.filter((dat)=>dat.token!==newdata.token)\r\n                return[...olddata,newdata]\r\n            }):null)\r\n    ));\r\n    })\r\n    .catch(error => (isSubscribed ? console.log(error) : null))\r\n\r\n\r\n    })\r\n        }else{console.log()}\r\n return () => isSubscribed = false\r\n    },[feedData,user])\r\n    \r\n    \r\n    useEffect(()=>{\r\n        let isSubscribed = true;\r\n  if(retweetData.length>0){\r\n retweetData.map((doc)=>{\r\n     const retweeter=doc.Rusername\r\n     const createdA=doc.createdAt\r\n     \r\n     \r\ndb.collection(\"posts\").orderBy('createdAt','desc').limit(10).where(\"token\", \"==\", doc.token)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => (\r\n          \r\n(isSubscribed?\r\n            setRposts((dat)=>{\r\n                const newdata={data:doc.data(),Rtweeter:retweeter,id:Math.random().toString(36),RcreatedAt:createdA,createdAt2:createdA}\r\n                \r\n                const olddata=dat.filter((dat2)=>dat2.data.token!==newdata.data.token)\r\n                return[...olddata,newdata]\r\n            }):null)\r\n    ));\r\n    })\r\n     .catch(error => (isSubscribed ? console.log(error) : null))\r\n\r\n\r\n    })\r\n    \r\n\r\n        }else{console.log()}\r\nreturn () => isSubscribed = false\r\n       \r\n    },[retweetData,user])\r\n\r\n\r\n\r\n\r\n    \r\n// useEffect(()=>{\r\n//     let isSubscribed = true;\r\n// posts.map((doc)=>(\r\n//    // console.log(doc.data)\r\n//    (isSubscribed?\r\n// setRposts((dat)=>{\r\n//      const newdata={data:doc.data,id:doc.data.token}\r\n// const olddata=dat.filter((dat)=>dat.data.token!==newdata.data.token)\r\n   \r\n//     return[...olddata,newdata]\r\n\r\n\r\n//  }):null)\r\n    \r\n// ))\r\n\r\n// return () => isSubscribed = false\r\n// },[posts,user])\r\n\r\nuseEffect(()=>{\r\n   \r\nvar newArray=rposts.concat(posts)\r\n var newArray2=newArray.concat(likersPosts)   \r\nsetDoubleposts(newArray2)\r\n\r\n\r\n\r\n},[rposts,posts])\r\n\r\nfunction compareValues(key, order = 'asc') {\r\n  return function innerSort(a, b) {\r\n     \r\n      let varA \r\n      let varB \r\n     \r\n\r\n    if (!a.hasOwnProperty(key) && b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n    //   varA=a.data.createdAt\r\n    //   varB=a.RcreatedAt\r\n    varA=a.createdAt2\r\n       varB=b.createdAt2\r\n      \r\n    }\r\n    else if (a.hasOwnProperty(key) && !b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n    //   varA=a.RcreatedAt\r\n    //   varB=a.data.createdAt\r\n    varA=a.createdAt2\r\n       varB=b.createdAt2\r\n      \r\n    }\r\n    else if (!a.hasOwnProperty(key) && !b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n    //   varA=a.data.createdAt\r\n    //   varB=a.data.createdAt\r\n\r\n     varA=a.createdAt2\r\n       varB=b.createdAt2\r\n      \r\n    }\r\n    else if (a.hasOwnProperty(key) && b.hasOwnProperty(key)) {\r\n      // property doesn't exist on either object\r\n      varA=a.createdAt2\r\n      varB=b.createdAt2\r\n      \r\n    }\r\n\r\n     \r\n    \r\n     \r\n\r\n    let comparison = 0;\r\n    if (varA > varB) {\r\n      comparison = 1;\r\n    } else if (varA < varB) {\r\n      comparison = -1;\r\n    }\r\n    return (\r\n      (order === 'desc') ? (comparison * -1) : comparison\r\n    );\r\n  };\r\n}\r\nif(doubleposts!=undefined){\r\n   \r\n doubleposts.sort(compareValues('createdAt2', 'desc')) \r\n}  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n     \r\n     //console.log(doubleposts)\r\n\r\n   \r\n\r\n    \r\n \r\n\r\n    \r\n   \r\n    return(\r\n<div className=\"feed\">\r\n    <div className=\"feed__header\">\r\n    <h2>Following</h2>\r\n    </div>\r\n{user?\r\n    <TweetBox/>\r\n    :<Link to=\"/login\"><div className=\"feed__tweetbox\">Please Sign In to post</div></Link>}\r\n    \r\n  {update?\r\n   <div>    \r\n{doubleposts.map(post=>(\r\n      \r\n      \r\n        <Post\r\n        \r\n       key={post.id}\r\n       audio={post.data.audio}\r\n        token={post.data.token}\r\n        userId={post.data.userId}\r\n        displayName={post.data.displayName}\r\n        username={post.data.username}\r\n        verified={post.data.verified}\r\n        text={post.data.text}\r\n         avatar={post.data.avatar}\r\n        image={post.data.image}\r\n        createdAt={post.data.createdAt}\r\n        likes={post.data.likes}\r\n        comments={post.data.comments}\r\n        shares={post.data.shares}\r\n        option1={post.data.option1}\r\n        option2={post.data.option2}\r\n        option3={post.data.option3}\r\n        option4={post.data.option4}\r\n        votes1={post.data.votes1}\r\n        votes2={post.data.votes2}\r\n        votes3={post.data.votes3}\r\n        votes4={post.data.votes4}\r\n        Rusername={post.data.Rusername}\r\n        Rimage={post.data.Rimage}\r\n        Rtext={post.data.Rtext}\r\n        Ravatar={post.data.Ravatar}\r\n        Rtweeter={post.Rtweeter}\r\n        RcreatedAt={post.RcreatedAt}\r\n        liker={post.liker}\r\n        likerCreatedAt={post.createdAt}\r\n       \r\n        \r\n\r\n        />\r\n      \r\n    ))}</div>:<div className=\"loading\"><p>Loading....</p></div>}\r\n{/*      \r\n// {posts.map(Rpost=>(\r\n      \r\n      \r\n//         <Post\r\n       \r\n//         key={Rpost.data.token}\r\n//         token={Rpost.data.token}\r\n//         userId={Rpost.data.userId}\r\n//         displayName={Rpost.data.displayName}\r\n//         username={Rpost.data.username}\r\n//         verified={Rpost.data.verified}\r\n//         text={Rpost.data.text}\r\n//          avatar={Rpost.data.avatar}\r\n//         image={Rpost.data.image}\r\n//         createdAt={Rpost.data.createdAt}\r\n//         likes={Rpost.data.likes}\r\n//         comments={Rpost.data.comments}\r\n//         shares={Rpost.data.shares}\r\n//         option1={Rpost.data.option1}\r\n//         option2={Rpost.data.option2}\r\n//         option3={Rpost.data.option3}\r\n//         option4={Rpost.data.option4}\r\n//         votes1={Rpost.data.votes1}\r\n//         votes2={Rpost.data.votes2}\r\n//         votes3={Rpost.data.votes3}\r\n//         votes4={Rpost.data.votes4}\r\n        \r\n\r\n//         />\r\n      \r\n//     ))}    */}\r\n\r\n\r\n\r\n   \r\n   \r\n    \r\n    \r\n</div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Feed","import React,{useState,useEffect} from \"react\";\r\nimport \"./Widgets.css\";\r\nimport{TwitterTimelineEmbed,TwitterShareButton,TwitterTweetEmbed} from \"react-twitter-embed\"\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {db} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport Post from \"./Post\";\r\n\r\nfunction Widgets(){\r\n    const[searchContent,setSearchContent]=useState('');\r\n    const [output,setOutput]=useState([]);\r\n    const[show,setShow]=useState(false);\r\n    const[showHash,setShowHash]=useState(false);\r\n    const[ searchPosts,setSearchPosts]=useState([]);\r\n    const [hashtrends,setHashtrends]=useState([])\r\n    const[{user,profile,hashTrends,dataTrendsExplore},dispatch]=useStateValue();\r\n    const[ refresh,setRefresh]=useState(false)\r\n    \r\n    const history=useHistory()\r\n\r\n    \r\n        \r\n   \r\n\r\nuseEffect(()=>{\r\n    let isSubscribed=true;\r\n    if(user&&profile.username!='undefined'){\r\ndb.collection('hashtrends').orderBy('postsCount','desc').limit(10).get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => (\r\n            (isSubscribed?\r\n            setHashtrends((dat)=>{\r\n                \r\n                const newdata={data:doc.data(),key:doc.data().createdAt}\r\n                const olddata=dat.filter((dat)=>dat.data.createdAt!==newdata.data.createdAt)\r\n                return[...olddata,newdata]\r\n            })\r\n            \r\n            \r\n            :null)\r\n            \r\n        \r\n ))\r\n dispatch({type:'SET_HASHTRENDS',hashTrends:[]})\r\n dispatch({type:'SET_HASHTRENDS',hashTrends:hashtrends})\r\n    }).catch((error)=>console.log(error))\r\n    \r\n    \r\n}\r\n        return () => isSubscribed = false\r\n\r\n},[user])\r\n\r\n\r\n useEffect(()=>{\r\n     let isSubscribed=true\r\n     if(searchContent&&profile.username!='undefined'){\r\ndb.collection('users').where('username','>=',searchContent).get()\r\n.then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => (\r\n            (isSubscribed?\r\n            setOutput((dat)=>{\r\n             const newdata={data:doc.data(),key:doc.data().userId}\r\n             const olddata=dat.filter((dat)=>dat.key!==newdata.key)\r\n   \r\n               return[...olddata,newdata]\r\n                })\r\n            \r\n            \r\n            :null)\r\n            \r\n\r\n        ))})}else{\r\n            setShow(false)\r\n          setOutput([])\r\n         \r\n         console.log('empty')\r\n        }\r\n        if(output.length>0){\r\n            setShow(true)\r\n        }\r\n return () => isSubscribed = false\r\n },[searchContent])\r\n\r\n//  useEffect(()=>{\r\n// let isSubscribed=true\r\n// if(searchContent&&profile.username!== undefined){\r\n// const splitSearchContent=searchContent.split('#')\r\n// let searchHash1\r\n//   let first=-1\r\n \r\n// splitSearchContent.forEach(function(val){\r\n// // str += '<content>'+val+'</content><br />';\r\n\r\n//     searchHash1=val\r\n    \r\n// })\r\n\r\n\r\n\r\n\r\n\r\n// db.collection(\"posts\").where('hashes','array-contains',searchHash1).get().then((querySnapshot) => {\r\n//     querySnapshot.forEach((doc) => {\r\n//          if(doc.exists&&isSubscribed){\r\n//         // doc.data() is never undefined for query doc snapshots\r\n        \r\n// setSearchPosts((dat)=>{\r\n//      const newdata=doc.data()\r\n// const olddata=dat.filter((dat)=>dat.token!==newdata.token)\r\n   \r\n//     return[...olddata,newdata]\r\n\r\n\r\n//  })\r\n//  setShowHash(true)\r\n//    }else{console.log('hashes not found')}\r\n// })}).catch((error)=>console.log(error));\r\n// }else{setShowHash(false)\r\n//     setSearchPosts([])}\r\n// return () => isSubscribed = false\r\n//  },[searchContent])\r\n\r\n \r\n \r\n\r\n const handleTrend=(e)=>{\r\n     e.preventDefault()\r\n// dispatch({type:'SET_DATATRENDSEXPLORE',hashtag:doc.data.hashtag})\r\n// dispatch({type:'OPEN_OpenTrendExplore',OpenTrendExplore:true})\r\n }\r\n useEffect(()=>{\r\n\r\nsetTimeout(()=>{\r\n            setRefresh(!refresh)\r\n        },10000)\r\n    },[])\r\n\r\n    return(\r\n<div className=\"widgets\">\r\n    \r\n    \r\n    <div className=\"widgets__input\">\r\n        <SearchIcon />\r\n        \r\n        <input onChange={(e)=>setSearchContent(e.target.value)} value={searchContent} placeholder='search for users'className=\"searchWidget\" type=\"text\"></input>\r\n\r\n        \r\n    </div>\r\n\r\n    <div className=\"widgets__widgetContainer\">\r\n        <h2>Trends</h2>\r\n        {hashtrends.map(doc=>(\r\n<div onClick={()=>{\r\n    \r\n    \r\n    dispatch({type:'SET_DATATRENDSEXPLORE',hashtag:doc.data.hashtag})\r\n     dispatch({type:'OPEN_OPENTRENDEXPLORE',OpenTrendExplore:true})\r\n     history.push('/explore')\r\n}\r\n\r\n\r\n} className=\"widget__hashoptie\">\r\n            <h3>#{doc.data.hashtag}</h3>\r\n            <p>{doc.data.postsCount} tweets</p>\r\n        </div>\r\n\r\n        ))}\r\n        \r\n{show&&\r\n<div>\r\n    {output.map(doc=>(\r\n\r\n<Link to={`/profile/${doc.data.username}`}>\r\n        <div className=\"widget__optie\">\r\n        <Avatar src={doc.data.imageUrl||''}/>\r\n        <div className=\"widget__optie__info\">\r\n            <h2>{doc.data.username}</h2>\r\n            \r\n        </div>\r\n      \r\n     \r\n        \r\n    </div>\r\n    </Link>\r\n\r\n\r\n    ))}\r\n    </div>\r\n}\r\n{/* {showHash&&\r\n    <div>\r\n    {searchPosts.map(post=>(\r\n        <div className=\"widget__optie\">\r\n     <Post\r\n      key={post.createdAt}\r\n         audio={post.audio}\r\n        token={post.token}\r\n        userId={post.userId}\r\n        displayName={post.displayName}\r\n        username={post.username}\r\n        verified={post.verified}\r\n        text={post.text}\r\n         avatar={post.avatar}\r\n        image={post.image}\r\n        createdAt={post.createdAt}\r\n        likes={post.likes}\r\n        comments={post.comments}\r\n        shares={post.shares}\r\n        option1={post.option1}\r\n        option2={post.option2}\r\n        option3={post.option3}\r\n        option4={post.option4}\r\n        votes1={post.votes1}\r\n        votes2={post.votes2}\r\n        votes3={post.votes3}\r\n        votes4={post.votes4}\r\n        Rusername={post.Rusername}\r\n        Rimage={post.Rimage}\r\n        Rtext={post.Rtext}\r\n        Ravatar={post.Ravatar}\r\n        \r\n     \r\n     />\r\n     </div>\r\n    ))}\r\n\r\n    </div>} */}\r\n        \r\n        \r\n\r\n       \r\n    \r\n    </div>\r\n    \r\n    \r\n</div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Widgets;","import React,{useState,useEffect} from 'react';\r\nimport \"./Login.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {db,auth,storage} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\n\r\n\r\nfunction Login() {\r\n    const history=useHistory()\r\n    const[email,setEmail]=useState('');\r\n    const[password,setPassword]=useState('');\r\n    const[username,setUsername]=useState('');\r\n    const[{user,handle},dispatch]=useStateValue();\r\n    const[open,setOpen]=useState(false)\r\n\r\n    \r\n   \r\n  \r\n\r\n    const signin=(e)=>{\r\ne.preventDefault();\r\nvar newemail = email.replace(/\\s+/g, '');\r\n\r\n\r\nif(newemail&&password){\r\n    \r\n// db.collection('users').doc(username).get().then(doc=>{\r\n   \r\n//     if(doc.exists&&(doc.data().email===email)){\r\n\r\n        \r\nauth.signInWithEmailAndPassword(newemail,password).then((userCredential) => {\r\n    // Signed in\r\n    var useruser = userCredential.user;\r\n    dispatch({\r\n    type:'SET_USER',\r\n    user:useruser,\r\n    \r\n   \r\n    \r\n})\r\n\r\nif(useruser.uid){\r\n   \r\n db.collectionGroup('users').where('userId', '==', useruser.uid)\r\n.get().then((querySnapshot) => {\r\n    querySnapshot.forEach((doc) => {\r\n       // console.log( doc.data());\r\n        dispatch({\r\n                  type:'SET_PROFILE',\r\n                  profile:doc.data(),\r\n                 }\r\n                )\r\n    });\r\n}).catch((error)=>console.log(error))\r\n}\r\n// dispatch({\r\n//     type:'SET_HANDLE',\r\n//     handle:username,\r\n// })\r\n   \r\n    // ...\r\n  })\r\n.then((auth)=>{\r\n    history.push('/')\r\n}).catch(error=>alert(error.message))\r\n    // }else{alert('wrong credentials')}\r\n\r\n\r\n//})\r\n}\r\nelse{alert('email/password is missing')}\r\n\r\n    }\r\n\r\n//     const register=(e)=>{\r\n//         e.preventDefault();\r\n//         if(username){\r\n// db.collection('users').where('username','==',username).get().then(doc=>{\r\n//     if(doc.exists){\r\n//         return alert(username+':this username is already taken')\r\n//     }else{\r\n// auth.createUserWithEmailAndPassword(email,password).then((userCredential) => {\r\n//     // Signed in\r\n//     var newuser = userCredential.user;\r\n//     db.collection('users').doc(`${username}`).set({\r\n//     username:username,\r\n//     email:newuser.email,\r\n//     userId:newuser.uid,\r\n//     following:0,\r\n//     followers:0,\r\n//     imageUrl:'',\r\n//     bio:'',\r\n    \r\n// })})\r\n//         .then((auth)=>{\r\n//             setOpen(true)\r\n//         }).catch(error=>alert(error.message))\r\n//     }\r\n// })\r\n\r\n        \r\n        \r\n// }else{alert('please enter username')}     \r\n\r\n//     }\r\n\r\n     useEffect(()=>{\r\nif(open){\r\n    setTimeout(()=>{\r\nsetOpen(false)\r\n    },3000)\r\n}},[open])\r\n    return (\r\n        <div className=\"login\">\r\n            <Link to=\"/\">\r\n                <img className=\"header__logo\" id=\"myimg\" src=\"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/socialHit.jpg.jpg?alt=media&token=421646ee-5d89-4c89-8eab-57d3c88174f6\"></img>\r\n             {/* <img className=\"header__logo\" src=\"\"></img> */}\r\n        </Link>\r\n        <div className=\"login__container\">\r\n            <h1>sign in</h1>\r\n            \r\n            <form>\r\n                {/* <h5>Username</h5>\r\n                <input onChange={(e)=>setUsername(e.target.value)}value={username} type=\"text\"></input> */}\r\n                \r\n                <h5>Email</h5>\r\n                <input onChange={(e)=>setEmail(e.target.value)}value={email} type=\"text\"></input>\r\n\r\n                <h5>Password</h5>\r\n                <input onChange={(e)=>setPassword(e.target.value)}value={password} type=\"password\"></input>\r\n                <button type=\"submit\"onClick={signin} className=\"login__button\">Sign in</button>\r\n            </form>\r\n            {/* <p>\r\n                By signing-in you agree to the <strong>SocialX</strong> conditions of Use & Sale.\r\n                Please see our Privacy Notice,our Cookies Notice and our Interest-Based Ads Notice.\r\n            </p> */}\r\n            <button onClick={()=>history.push('/forgotpassword')} className=\"login__forgotpasswordbutton\">Forgot Password?</button>\r\n            <button onClick={()=>history.push('/register')} className=\"login__registerButton\">Create account</button>\r\n        </div>\r\n        {/* {open&&<div className=\"login__popup\">\r\n             <h1>Thanks for signing up! You can Login now!</h1>\r\n            </div>} */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React,{useEffect,useState} from 'react';\r\nimport \"./Explore.css\";\r\nimport Post from \"./Post\";\r\nimport { db } from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {Link} from \"react-router-dom\";\r\nimport {Avatar,IconButton} from \"@material-ui/core\";\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\n\r\n\r\nfunction Explore() {\r\n     const [posts,setPosts]=useState([]);\r\n    const[{user,hashTrends,dataTrendsExplore,OpenTrendExplore},dispatch]=useStateValue();\r\n    const[moreMore,setMoreMore]=useState(false);\r\n    const [searchContent,setSearchContent]=useState('');\r\n    const [show,setShow]=useState(false);\r\n    const [output,setOutput]=useState([]);\r\n    const [searchPosts,setSearchPosts]=useState([]);\r\n    const [widgetTrends,setWidgetTrends]=useState([]);\r\n    \r\n\r\n   \r\nuseEffect(()=>{\r\n    \r\nif(dataTrendsExplore){\r\n    \r\n   \r\n    db.collection(\"posts\").orderBy('createdAt','desc').limit(10).where('hashes','array-contains',dataTrendsExplore).get().then((querySnapshot) => {\r\n\r\n   \r\n    querySnapshot.forEach((doc) => {\r\n        \r\n        // doc.data() is never undefined for query doc snapshots      \r\nsetWidgetTrends((dat)=>{\r\n     const newdata=doc.data()\r\n     const olddata=dat.filter((dat)=>dat.hashes[0]==dataTrendsExplore)\r\n const newolddata=olddata.filter((dat)=>dat.token!==newdata.token)\r\n   \r\n    return[...newolddata,newdata]\r\n\r\n\r\n })\r\n})}).catch((error)=>console.log(error))}else{dispatch({type:'OPEN_OPENTRENDEXPLORE',OpenTrendExplore:false})}\r\n\r\n\r\n},[dataTrendsExplore])\r\n\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n let isSubscribed = true\r\n dispatch({type:'OPEN_OPENTRENDEXPLORE',OpenTrendExplore:false})\r\n \r\n db.collection('posts').orderBy('createdAt','desc').limit(10).onSnapshot(snapshot=>{\r\n           if  (isSubscribed) {\r\n    setPosts(snapshot.docs.map(doc=>(doc.data() )     ))}\r\n           })\r\n    return () => isSubscribed = false\r\n    },[])\r\n    \r\n\r\n    \r\n useEffect(()=>{\r\n     if(searchContent){\r\n        \r\n         dispatch({type:'OPEN_OPENTRENDEXPLORE',OpenTrendExplore:false})\r\ndb.collection('users').doc(searchContent).get().then((doc)=>{\r\n    if(doc.exists&&output.length<5){\r\n        \r\nsetOutput((dat)=>{\r\n   const newdata={data:doc.data(),key:doc.data().userId}\r\nconst olddata=dat.filter((dat)=>dat.key!==newdata.key)\r\n   \r\n    return[...olddata,newdata]\r\n})\r\nsetShow(true)\r\n\r\n\r\n    } else{console.log('doc not found')} \r\n }\r\n\r\n).catch((error)=>console.log(error))\r\n\r\n;\r\n\r\n     }else{\r\n         setShow(false)\r\n         setOutput([])\r\n         \r\n        }\r\n\r\n },[searchContent])\r\n\r\n useEffect(()=>{\r\nlet isSubscribed=true\r\nif(searchContent){\r\n    const splitSearchContent=searchContent.split('#')\r\nlet searchHash1\r\n  let first=-1\r\n \r\nsplitSearchContent.forEach(function(val){\r\n// str += '<content>'+val+'</content><br />';\r\n\r\n    searchHash1=val\r\n    \r\n})\r\ndb.collection(\"posts\").where('hashes','array-contains',searchHash1).get().then((querySnapshot) => {\r\n\r\n   \r\n    querySnapshot.forEach((doc) => {\r\n         if(doc.exists&&isSubscribed&&searchPosts.length<20){\r\n        // doc.data() is never undefined for query doc snapshots\r\n        \r\nsetSearchPosts((dat)=>{\r\n     const newdata=doc.data()\r\nconst olddata=dat.filter((dat)=>dat.token!==newdata.token)\r\n   \r\n    return[...olddata,newdata]\r\n\r\n\r\n })\r\n setShow(true)\r\n   }else{console.log('hashes not found')}\r\n})}).catch((error)=>console.log(error));\r\n}else{setShow(false)\r\n    setSearchPosts([])}\r\nreturn () => isSubscribed = false\r\n },[searchContent])\r\n\r\n    \r\n     \r\n     \r\n    return (\r\n        <div className=\"explore\">\r\n    <div className=\"explore__header\">\r\n        <div className=\"explore__header__left\">\r\n        {user?\r\n        \r\n        <h2>Explore</h2>\r\n        :<h2>Please Sign In to post and interact with other users</h2>\r\n        \r\n        }\r\n        <div>\r\n        {OpenTrendExplore&&\r\n            \r\n            <ArrowBackIosIcon className=\"explore__header__left__but\" onClick={()=>dispatch({type:'OPEN_OPENTRENDEXPLORE',OpenTrendExplore:false})}/>\r\n            \r\n            \r\n        }\r\n        </div>\r\n        </div>\r\n        \r\n        {user&&\r\n        <div className=\"widgets__input\">\r\n        <SearchIcon />\r\n        \r\n        <input onChange={(e)=>setSearchContent(e.target.value)} value={searchContent} placeholder='search for users or hashtags'className=\"SearchTwitter\" type=\"text\"></input>\r\n            </div>  }\r\n        \r\n    </div>\r\n\r\n\r\n    \r\n    \r\n   \r\n{OpenTrendExplore?<div>\r\n{widgetTrends.map(post=>(\r\n        \r\n     <Post\r\n     \r\n     key={post.createdAt}\r\n     \r\n        token={post.token}\r\n        userId={post.userId}\r\n        displayName={post.displayName}\r\n        username={post.username}\r\n        verified={post.verified}\r\n        text={post.text}\r\n         avatar={post.avatar}\r\n        image={post.image}\r\n        createdAt={post.createdAt}\r\n        likes={post.likes}\r\n        comments={post.comments}\r\n        shares={post.shares}\r\n        option1={post.option1}\r\n        option2={post.option2}\r\n        option3={post.option3}\r\n        option4={post.option4}\r\n        votes1={post.votes1}\r\n        votes2={post.votes2}\r\n        votes3={post.votes3}\r\n        votes4={post.votes4}\r\n       \r\n        \r\n     \r\n     />\r\n     \r\n    ))}\r\n\r\n    </div>:\r\n<div>\r\n    {!show?\r\n    <div>\r\n{posts.map(post=>(\r\n      \r\n        <Post\r\n        key={post.createdAt}\r\n         audio={post.audio}\r\n        token={post.token}\r\n        userId={post.userId}\r\n        displayName={post.displayName}\r\n        username={post.username}\r\n        verified={post.verified}\r\n        text={post.text}\r\n         avatar={post.avatar}\r\n        image={post.image}\r\n        createdAt={post.createdAt}\r\n        likes={post.likes}\r\n        comments={post.comments}\r\n        shares={post.shares}\r\n        option1={post.option1}\r\n        option2={post.option2}\r\n        option3={post.option3}\r\n        option4={post.option4}\r\n        votes1={post.votes1}\r\n        votes2={post.votes2}\r\n        votes3={post.votes3}\r\n        votes4={post.votes4}\r\n        Rusername={post.Rusername}\r\n        Rimage={post.Rimage}\r\n        Rtext={post.Rtext}\r\n        Ravatar={post.Ravatar}\r\n\r\n\r\n        />\r\n    ))}\r\n</div>:\r\n<div>\r\n {output.map(doc=>(\r\n\r\n<Link to={`/profile/${doc.data.username}`}>\r\n        <div className=\"widget__optie\">\r\n        <Avatar src={doc.data.imageUrl||''}/>\r\n        <div className=\"widget__optie__info\">\r\n            <h2>{doc.data.username}</h2>\r\n            \r\n        </div>\r\n      \r\n     \r\n        \r\n    </div>\r\n    </Link>\r\n\r\n\r\n    ))}\r\n\r\n    {searchPosts.map(post=>(\r\n        \r\n     <Post\r\n     key={post.createdAt}\r\n        token={post.token}\r\n        userId={post.userId}\r\n        displayName={post.displayName}\r\n        username={post.username}\r\n        verified={post.verified}\r\n        text={post.text}\r\n         avatar={post.avatar}\r\n        image={post.image}\r\n        createdAt={post.createdAt}\r\n        likes={post.likes}\r\n        comments={post.comments}\r\n        shares={post.shares}\r\n        option1={post.option1}\r\n        option2={post.option2}\r\n        option3={post.option3}\r\n        option4={post.option4}\r\n        votes1={post.votes1}\r\n        votes2={post.votes2}\r\n        votes3={post.votes3}\r\n        votes4={post.votes4}\r\n        \r\n     \r\n     />\r\n     \r\n    ))}\r\n\r\n\r\n</div>\r\n\r\n}\r\n</div>}\r\n    \r\n\r\n\r\n\r\n   \r\n   \r\n    \r\n    \r\n</div>\r\n    )\r\n}\r\n\r\nexport default Explore\r\n","import React,{useState,useEffect} from 'react';\r\nimport \"./ChatOptie.css\";\r\nimport {db} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Avatar,IconButton} from \"@material-ui/core\";\r\n\r\n\r\nfunction ChatOptie({id,name1,name2,addNewChat}) {\r\n    const [messages,setMessages]=useState(\"\");\r\n     const [{user,profile},dispatch]=useStateValue();\r\n     const [roomName,setRoomName]=useState('');\r\n\r\n\r\nuseEffect(()=>{\r\nif(id){\r\n    db.collection('messages').doc(`${id}`).collection('messages').orderBy('timestamp','desc')\r\n    .onSnapshot(snapshot=>(\r\nsetMessages(snapshot.docs.map((doc)=>doc.data()\r\n))\r\n    ))\r\n}\r\n},[id])\r\nconst createChat=()=>{\r\n        const roomName=prompt(\"please enter name for chat\");\r\n        if(roomName){\r\n            db.collection('messages').add({\r\n                name:roomName,\r\n                userId:user.uid,\r\n                sender:profile.username,\r\n                \r\n\r\n            }).then(()=>{console.log('message added')}).catch((error)=>console.log(error))\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\nif(profile.username){\r\n      if(name1===profile.username){\r\n          setRoomName(name2)\r\n      }else{ setRoomName(name1)}\r\n}\r\n    },[profile.username])\r\n    \r\n\r\n    return !addNewChat?(\r\n        <div>\r\n            <Link to={`/messages/${id}`}>\r\n      <div className=\"chat__optie\">\r\n        <Avatar src=''/>\r\n        <div className=\"chat__optie__info\">\r\n            <h2>{roomName}</h2>\r\n            <p>{messages[0]?.message}</p>\r\n        </div>\r\n      \r\n     \r\n        \r\n    </div>\r\n      </Link>\r\n        </div>\r\n    ):(\r\n        <div>\r\n        <Link to=\"/addnewchat\">\r\n      <div className=\"chat__optie\">\r\n          <h2>add newchat</h2>\r\n            \r\n      </div>\r\n      </Link>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default ChatOptie\r\n","import React,{useEffect,useState} from 'react';\r\nimport { db } from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport \"./AddnewChat.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\n\r\n\r\nfunction AddnewChat() {\r\n    const[{user,profile},dispatch]=useStateValue();\r\n    const[searchContent,setSearchContent]=useState('');\r\n    const [output,setOutput]=useState([]);\r\n    const[show,setShow]=useState(false);\r\n    const history=useHistory()\r\n\r\n    const handleNewchat=(e)=>{\r\ne.preventDefault()\r\nif(profile){\r\n    db.collection('messages').add({\r\n        senderUsername:profile.username,\r\n        receiverUsername:searchContent\r\n//     }).then((docRef)=>{\r\n// db.collection('users').doc(profile.username).collection('chats').add({\r\n// roomId:docRef.id\r\n// })\r\n// db.collection('users').doc(searchContent).collection('chats').add({\r\n// roomId:docRef.id\r\n// })\r\n\r\n\r\n    }).catch((error)=>console.log(error))\r\n\r\n\r\n    \r\n}\r\nhistory.push('/chat')\r\n\r\n    }\r\nuseEffect(()=>{\r\n     if(searchContent){\r\ndb.collection('users').doc(profile.username).collection('following').where('username','>=',searchContent).get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n   \r\n        \r\nsetOutput((dat)=>{\r\n   const newdata={data:doc.data(),key:doc.data().userId}\r\nconst olddata=dat.filter((dat)=>dat.key!==newdata.key)\r\n   \r\n    return[...olddata,newdata]\r\n})\r\nsetShow(true)\r\n\r\n\r\n    \r\n }\r\n\r\n)}).catch((error)=>console.log(error))\r\n\r\n;\r\n\r\n     }else{\r\n         setShow(false)\r\n         setOutput([])\r\n         \r\n        console.log('empty')}\r\n\r\n },[searchContent])\r\n    return (\r\n        <div className=\"addnew\">\r\n            <div className=\"widgets__input\">\r\n        <SearchIcon />\r\n        \r\n        <input onChange={(e)=>setSearchContent(e.target.value)} value={searchContent} placeholder='search in following'className=\"Search Twitter\" type=\"text\"></input>\r\n\r\n        \r\n    </div>\r\n\r\n    <div className=\"widgets__widgetContainer\">\r\n        \r\n{show?\r\n<div>\r\n    {output.map((doc)=>(\r\n<div onClick={handleNewchat} className=\"widget__optie\">\r\n        <Avatar src={doc.data.imageUrl}/>\r\n        <div className=\"widget__optie__info\">\r\n            <h2>{doc.data.username}</h2>\r\n            \r\n        </div>\r\n      \r\n     \r\n        \r\n    </div>\r\n\r\n\r\n    ))}\r\n        \r\n    </div>\r\n    :<div></div>}\r\n        \r\n        \r\n    \r\n    </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default AddnewChat\r\n\r\n","import React,{useState,useEffect} from 'react'\r\nimport \"./ChatPage.css\";\r\nimport ChatOptie from \"./ChatOptie\";\r\nimport { db } from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {Link} from \"react-router-dom\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport AddnewChat from './AddnewChat';\r\n\r\n\r\nfunction ChatPage() {\r\n     const [messages,setMessages]=useState([]);\r\n    \r\n    const [{user,profile},dispatch]=useStateValue();\r\n    const[addnew,setAddnew]=useState(true)\r\n    \r\n\r\n\r\nuseEffect(()=>{\r\n    if(user&&profile.username){\r\ndb.collection(\"messages\").where(\"senderUsername\", \"==\", profile.username)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n            // doc.data() is never undefined for query doc snapshots\r\n           // console.log( doc.data());\r\n            setMessages((dat)=>{\r\n                const newdata={data:doc.data(),id:doc.id}\r\n                const olddata=dat.filter((dat)=>dat.id!==newdata.id)\r\n                return[...olddata,newdata]\r\n            })\r\n            \r\n        });\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\n    //\r\n    //\r\n    db.collection(\"messages\").where(\"receiverUsername\", \"==\", profile.username)\r\n    .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n            // doc.data() is never undefined for query doc snapshots\r\n           // console.log( doc.data());\r\n            setMessages((dat)=>{\r\n                const newdata={data:doc.data(),id:doc.id}\r\n                const olddata=dat.filter((dat)=>dat.id!==newdata.id)\r\n                return[...olddata,newdata]\r\n            })\r\n            \r\n        });\r\n    })\r\n    .catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\n}\r\n\r\n\r\n},[user,profile.username])\r\n  \r\n    \r\n\r\n    \r\n    return (\r\n        \r\n        <div className=\"chat\">\r\n            \r\n           <div>\r\n            <div className=\"chat__header\">\r\n <h2>Chat</h2>\r\n            </div>\r\n            \r\n    <ChatOptie addNewChat/>\r\n            {messages.map(message=>(\r\n\r\n<ChatOptie key={message.id} id={message.id} name1={message.data.receiverUsername} name2={message.data.senderUsername}/>\r\n            ))}\r\n    \r\n           </div>\r\n           \r\n    \r\n            \r\n        </div>\r\n        \r\n        \r\n    \r\n\r\n    )\r\n            }\r\nexport default ChatPage\r\n","import React,{useEffect,useState} from \"react\";\r\nimport {Avatar,IconButton} from \"@material-ui/core\";\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport SearchOutlinedIcon from '@material-ui/icons/SearchOutlined';\r\nimport ChatOptie from \"./ChatOptie\";\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport {useParams} from \"react-router-dom\";\r\nimport  \"./Chat.css\";\r\nimport {db} from \"./firebase\";\r\nimport firebase from \"firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\n\r\nfunction Chat() {\r\n    const [input,setInput]=useState(\"\");\r\n    const [seed, setSeed]=useState(\"\");\r\n    const {roomId}=useParams();\r\n    const [roomName,setRoomName]=useState(\"\");\r\n    const [messages,setMessages]=useState([]);\r\n    const [{user,profile},dispatch]=useStateValue();\r\n    \r\n\r\n\r\n    useEffect(()=>{\r\n         let isSubscribed = true\r\nif(roomId&&profile.username){\r\n    db.collection('messages').doc(roomId).onSnapshot((snapshot)=>{\r\n       \r\n    \r\n\r\n        db.collection(\"messages\")\r\n        .doc(roomId).collection(\"messages\")\r\n        .orderBy('timestamp', 'asc')\r\n        .onSnapshot(snapshot=>(\r\n            (isSubscribed?\r\n            setMessages(snapshot.docs.map(doc=>doc.data()\r\n            )):null)\r\n            \r\n    ))\r\n        })\r\n\r\n   db.collection('messages').doc(roomId).get().then((doc)=>{\r\n       \r\n       if(doc.data().receiverUsername===profile.username&&isSubscribed){\r\n       setRoomName(doc.data().senderUsername)\r\n       }else if(isSubscribed){\r\n           setRoomName(doc.data().receiverUsername)\r\n       }else{console.log('subscribed is false')}\r\n   }).catch((error)=>console.log(error))     \r\n}\r\nreturn () => isSubscribed = false\r\n    },[profile.username])\r\n\r\n    useEffect(()=>{\r\n        setSeed(Math.floor(Math.random()*5000));\r\n    },[profile.username]);\r\n\r\n    const sendMessage=(e)=>{\r\n        e.preventDefault();\r\n        console.log('you typed:',input)\r\n\r\ndb.collection('messages').doc(roomId).collection('messages').add({\r\n    message:input,\r\n    userId:profile.userId,\r\n    username:profile.username,\r\n    timestamp:firebase.firestore.FieldValue.serverTimestamp(),\r\n    key:profile.userId\r\n}).catch((error)=>console.log(error))\r\n\r\n        setInput(\"\")\r\n\r\n    }\r\n  return (\r\n    <div className=\"chat\">\r\n      \r\n      <div className=\"chat__header\">\r\n      <Avatar src={`https://avatars.dicebear.com/4.5/api/human/${seed}.svg`}/>\r\n      <div className=\"chat__headerInfo\">\r\n          <h3>{roomName}</h3>\r\n          <p>last seen {\"\"}{new Date(messages[messages.length-1]?.timestamp?.toDate()).toUTCString()}</p>\r\n      </div>\r\n\r\n<div className=\"chat__headerRight\">\r\n<IconButton><SearchOutlinedIcon /></IconButton>\r\n\r\n          <IconButton><AttachFileIcon/></IconButton>\r\n          <IconButton> <MoreVertIcon/> </IconButton>\r\n</div>\r\n\r\n\r\n\r\n     \r\n      </div>\r\n      <div className=\"chat__body\">\r\n          {messages.map(message=>(\r\n\r\n          \r\n      <p className={`chat__message ${message.username===profile.username &&\"chat__reciever\"} `}>\r\n      <span className=\"chat__name\">{message.username===profile.username?\"You\":message.username}</span>\r\n      {message.message}\r\n      <span className=\"chat__timestamp\">{new Date(message.timestamp?.toDate()).toUTCString()}</span>\r\n      </p>\r\n      ))}\r\n      </div>\r\n\r\n      <div className=\"chat__footer\">\r\n<InsertEmoticonIcon/>\r\n<form >\r\n    <input value={input} onChange={e=>setInput(e.target.value)} placeholder=\"Type a message\" type=\"text\"/>\r\n        <button onClick={sendMessage} type=\"submit\">Send a message</button>\r\n        \r\n</form>\r\n<MicIcon/>\r\n\r\n      </div>\r\n        \r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default Chat;\r\n\r\n","import \"./Followers.css\";\r\nimport React,{useEffect, useState} from \"react\";\r\nimport {db} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {useParams} from \"react-router-dom\";\r\n\r\n\r\nfunction Followers() {\r\n     const {pName}=useParams();\r\n     const [volgersData,setVolgersData]=useState([]);\r\n    const[{user},dispatch]=useStateValue();\r\n    const[volgers,setVolgers]=useState([])\r\n    \r\n    \r\n    useEffect(()=>{\r\n\r\nif(pName!='undefined'){\r\n\r\n    db.collection('users').doc(pName).collection('followers')\r\n    .onSnapshot(snapshot=>(\r\nsetVolgers(snapshot.docs.map((doc)=>doc.data()\r\n))\r\n    ))\r\n    }\r\n    \r\n    },[user])\r\n    \r\n    \r\n\r\n    useEffect(()=>{\r\n volgers.map((doc)=>{\r\ndb.collection(\"users\").doc(doc.username)\r\n    .get().then((doc)=>{\r\nsetVolgersData((dat)=>{\r\n                const newdata=doc.data()\r\n                const olddata=dat.filter((dat)=>dat.userId!==newdata.userId)\r\n                return[...olddata,newdata]\r\n            })\r\n\r\n        }).catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\n    \r\n          \r\n\r\n            \r\n        \r\n    })\r\n    \r\n\r\n\r\n    \r\n\r\n    },[volgers])\r\n   \r\n    return (\r\n        <div className=\"followers\">\r\n    <div className=\"followers__header\">\r\n    <h2>Followers</h2>\r\n    </div>\r\n     <div>\r\n         {volgersData.map((doc)=>(\r\n <Link to={`/profile/${doc.username}`}>\r\n      <div className=\"followers__optie\">\r\n        <Avatar src={doc.imageUrl}/>\r\n        <div className=\"followers__optie__info\">\r\n            <h2>{doc.username}</h2>\r\n            \r\n        \r\n      \r\n     \r\n       </div> \r\n    </div>\r\n      </Link>\r\n         ))}\r\n        </div>\r\n\r\n\r\n\r\n         \r\n           \r\n\r\n    \r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Followers\r\n","import \"./Following.css\";\r\nimport React,{useEffect, useState} from \"react\";\r\nimport {db} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {useParams} from \"react-router-dom\";\r\n\r\n\r\nfunction Following() {\r\n    const {pName}=useParams();\r\n     const [volgendData,setVolgendData]=useState([]);\r\n    const[{user},dispatch]=useStateValue();\r\n    const[volgend,setVolgend]=useState([])\r\n    \r\n    \r\n    useEffect(()=>{\r\n\r\n\r\nif(pName!='undefined'){\r\n    db.collection('users').doc(pName).collection('following')\r\n    .onSnapshot(snapshot=>(\r\nsetVolgend(snapshot.docs.map((doc)=>doc.data()\r\n))\r\n    ))\r\n    }\r\n    \r\n    },[user])\r\n    \r\n   \r\n\r\n    useEffect(()=>{\r\n volgend.map((doc)=>{\r\ndb.collection(\"users\").doc(doc.username)\r\n    .get().then((doc)=>{\r\nsetVolgendData((dat)=>{\r\n                const newdata=doc.data()\r\n                const olddata=dat.filter((dat)=>dat.userId!==newdata.userId)\r\n                return[...olddata,newdata]\r\n            })\r\n\r\n        }).catch((error) => {\r\n        console.log(\"Error getting documents: \", error);\r\n    });\r\n    \r\n          \r\n\r\n            \r\n        \r\n    })\r\n    \r\n\r\n\r\n    \r\n\r\n    },[volgend])\r\n   \r\n   \r\n    return (\r\n        <div className=\"following\">\r\n    <div className=\"following__header\">\r\n    <h2>Following</h2>\r\n     </div>\r\n     <div>\r\n         {volgendData.map((doc)=>(\r\n <Link to={`/profile/${doc.username}`}>\r\n      <div className=\"followers__optie\">\r\n        <Avatar src={doc.imageUrl}/>\r\n        <div className=\"followers__optie__info\">\r\n            <h2>{doc.username}</h2>\r\n            \r\n        </div>\r\n      \r\n     \r\n        \r\n    </div>\r\n      </Link>\r\n         ))}\r\n        </div>\r\n\r\n\r\n         \r\n           \r\n\r\n   \r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Following\r\n\r\n","import React,{useState,useEffect} from 'react';\r\nimport \"./EditProfile.css\";\r\nimport {db,storage} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\n\r\nfunction EditProfile() {\r\n    const [{user,profile},dispatch]=useStateValue();\r\n    const [bio,setBio]=useState(profile.bio)\r\n     const [name,setName]=useState('')\r\n     const [image,setImage]=useState('')\r\n     const childPath=`users/${profile.username}/${Math.random().toString(36)}`;\r\n      const [nchar,setNchar]=useState(0);\r\n      \r\n\r\n    const handleBio=(e)=>{\r\n         e.preventDefault()\r\n         if(user&&profile.username!='undefined'){\r\n         db.collection('users').doc(profile.username).update({\r\n             bio:bio\r\n         }).catch((error)=>console.log(error))}\r\n         setBio('')\r\n      \r\n     }\r\n     \r\n    \r\n      \r\n    \r\n    const handlechangeimage=(e)=>{\r\n        const image=e.target.files[0]\r\n        \r\n        const task=storage.ref().child(childPath).put(image)\r\n        \r\n       const taskProgress=snapshot=>{\r\n           console.log(`transferred:${snapshot.bytesTransferred}`)\r\n       }\r\n        const taskCompleted=()=>{\r\ntask.snapshot.ref.getDownloadURL().then((snapshot)=>{\r\n    db.collection('users').doc(profile.username).update({\r\n        imageUrl:snapshot\r\n    })\r\n})\r\n        }\r\n\r\n        const taskError=snapshot=>{\r\n        console.log(snapshot)\r\n        }\r\n        task.on(\"state__changed\",taskProgress,taskError,taskCompleted)\r\n    }\r\n    const handleImage=()=>{\r\n        const fileInput=document.getElementById('imageInput');\r\n        fileInput.click()\r\n    }\r\n     const handleName=(e)=>{\r\n         e.preventDefault()\r\n         if(user){\r\n         db.collection('users').doc(`${profile.username}`).update({\r\n             username:name\r\n         })}\r\n         setName('')\r\n      \r\n     }\r\n\r\n     useEffect(()=>{\r\n//check length tweetmessage\r\nlet len = bio.length;\r\nlet nchar2=0\r\n\r\nfor(let i = 0; i != len; i++) {\r\n   if(bio[i] != ' ') {\r\n       \r\n       nchar2++\r\n       \r\n   }\r\n}\r\nsetNchar(nchar2)\r\nif(nchar2>100){\r\n    let newbio=bio\r\n    newbio=newbio.replace(`${newbio[newbio.length -1]}`,'')\r\n    setBio(newbio)\r\n}\r\n     },[bio])\r\n    return (\r\n        <div className=\"edit\">\r\n    <div className=\"edit__header\">\r\n    <h2>Edit Profile</h2>\r\n    \r\n    </div>\r\n    <div className=\"edit__image\">\r\n        <Avatar src={profile.imageUrl}/>\r\n        \r\n      <input placeholder=\"Edit Profile pic\" hidden=\"hidden\" type=\"file\" id=\"imageInput\" value={image} onChange={handlechangeimage}></input>\r\n      {/* <Tooltip title=\"Edit profile picture\" placement=\"top\"> */}\r\n      <Tooltip title=\"Edit Profile Image\">\r\n      <IconButton className=\"edit__image__icon\" onClick={handleImage}>\r\n      <EditIcon />\r\n      </IconButton>\r\n      </Tooltip>\r\n      {/* </Tooltip> */}\r\n      \r\n    </div>\r\n    {/* <div className=\"edit__name\">\r\n      <h3>Name</h3>\r\n      <form onSubmit={handleName}>\r\n      <input placeholder=\"Edit Name\" type=\"text\" value={name} onChange={(e)=>setName(e.target.value)}></input>\r\n      </form>\r\n      <h2>{profile.username}</h2>\r\n    </div> */}\r\n    <div className=\"edit__bio\">\r\n      <h3>Bio</h3>\r\n      <form  onSubmit={handleBio}>\r\n          <div className=\"edit__bio__input\">\r\n      <input className=\"bio__input\"  placeholder={bio} type=\"text\" value={bio} onChange={(e)=>setBio(e.target.value)}></input>\r\n     \r\n           <div className=\"maxchar2\">{nchar }/100</div>\r\n\r\n    \r\n      </div>\r\n      </form>\r\n      \r\n    </div>\r\n\r\n    \r\n    </div>\r\n    )\r\n}\r\n\r\nexport default EditProfile\r\n","import React,{useState,useEffect} from 'react';\r\nimport \"./Notifications.css\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {db} from \"./firebase\";\r\nimport {Avatar,IconButton} from \"@material-ui/core\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\n\r\n\r\nfunction Notifications() {\r\n    const[notis,setNotis]=useState([]);\r\n    const[newNotis,setNewNotis]=useState([]);\r\n    const[{user,profile},dispatch]=useStateValue();\r\n    const history=useHistory();\r\n    \r\n\r\nuseEffect(()=>{\r\nlet isSubscribed = true;\r\n\r\nif(profile.username !== undefined){\r\ndb.collection('users').doc(profile.username).collection('notifications').orderBy('timestamp','desc')\r\n    .onSnapshot(snapshot=>( \r\n        ( isSubscribed?\r\n        setNotis(snapshot.docs.map((doc)=>doc.data()\r\n                         )):null)\r\n    \r\n    )\r\n        \r\n        )\r\n        }\r\nreturn () => isSubscribed = false\r\n},[user])\r\n  \r\n\r\n\r\nuseEffect(()=>{\r\n   let isSubscribed = true;\r\nif(user&&isSubscribed){\r\n   \r\n    notis.map((doc)=>{\r\n       \r\n        var date1=doc.timestamp\r\n        var date2=new Date().getTime().toString()\r\n\r\n       var diff = (date2 - date1)/1000;\r\n    diff = Math.abs(Math.floor(diff));\r\n\r\n    var days = Math.floor(diff/(24*60*60));\r\n    var leftSec = diff - days * 24*60*60;\r\n\r\n    var hrs = Math.floor(leftSec/(60*60));\r\n    var leftSec = leftSec - hrs * 60*60;\r\n\r\n    var min = Math.floor(leftSec/(60));\r\n    var leftSec = leftSec - min * 60;\r\n\r\n    let newtime\r\n    if(days<1&&hrs<1&&min<1){\r\n newtime=` ${leftSec}s ago`\r\n    }\r\n    else if(days<1&&hrs<1){\r\n         newtime=`${min}m ago`\r\n    }\r\n    else if(days<1){\r\n    newtime=`${hrs}h ago`\r\n    }else{\r\n        newtime=`${days}d ago`\r\n    }\r\n    setNewNotis((dat)=>{\r\n           //const olddata={avatar:doc2.avatar,likerUsername:doc2.likerUsername,timestamp:doc2.timestamp}\r\n           let newData\r\n           if(doc.likerUsername){\r\n             newData={avatar:doc.avatar,likerUsername:doc.likerUsername,newtimestamp:newtime,postId:doc.postId,key:doc.key,token:doc.token}\r\n           }else if(doc.followUsername){\r\n               \r\n               newData={avatar:doc.avatar,followUsername:doc.followUsername,newtimestamp:newtime,key:doc.key,token:doc.token}\r\n\r\n           }else if(doc.tagUsername){\r\n               newData={avatar:doc.avatar,tagUsername:doc.tagUsername,newtimestamp:newtime,postId:doc.postId,key:doc.key,token:doc.token}\r\n           }\r\n           else if(doc.commentUsername){\r\n               newData={avatar:doc.avatar,commentUsername:doc.commentUsername,newtimestamp:newtime,postId:doc.postId,key:doc.key,token:doc.token}\r\n           }\r\n          \r\n             const olddata=dat.filter((dat)=>dat.key!==newData.key)\r\n        return[...olddata,newData]\r\n    })\r\n    \r\n    \r\n//     const newData={data:doc.data(),newtimestamp:newtime}\r\n//     console.log(newData)\r\n//  setNewNotis(...newNotis,newData)\r\n    })\r\n}else{console.log('no user or error')}\r\nreturn () => isSubscribed = false\r\n},[user,notis])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"notifications\">\r\n            <div className=\"notifications__header\">\r\n            <h1>Notifications</h1>\r\n            </div>\r\n            {newNotis.map(doc=>(\r\n <div className=\"notifications__optie\">\r\n\r\n        \r\n        <div>\r\n\r\n            {doc.likerUsername&&\r\n            <div className=\"chat__optie__avatar\">\r\n            <Avatar onClick={(e)=>{\r\n                 e.stopPropagation();\r\n     e.preventDefault()\r\n     db.collection('users').doc(profile.username).collection('notifications').doc(doc.token).update({\r\n         seen:true\r\n     })\r\n     history.push(`/profile/${doc.likerUsername}`)\r\n            }}  src={doc.avatar}/>\r\n            <div  onClick={(e)=>{\r\n                e.stopPropagation();\r\n     e.preventDefault();\r\n     \r\n     db.collection('users').doc(profile.username).collection('notifications').doc(doc.token).update({\r\n         seen:true\r\n     })\r\n                history.push(`/post/${doc.likerUsername}/${doc.postId}`)}} className=\"chat__optie__info\">\r\n                \r\n            <h2><strong>{doc.likerUsername}</strong> <small> has liked your post</small></h2>\r\n            <p><small>{doc.newtimestamp}</small></p>\r\n            </div>\r\n            </div>\r\n            }\r\n\r\n            {doc.followUsername&&\r\n            <div className=\"chat__optie__avatar\">\r\n            <Avatar onClick={(e)=>{\r\n                 e.stopPropagation();\r\n     e.preventDefault()\r\n     db.collection('users').doc(profile.username).collection('notifications').doc(doc.token).update({\r\n         seen:true\r\n     })\r\n     history.push(`/profile/${doc.followUsername}`)\r\n            }} src={doc.avatar}/>\r\n            <div onClick={(e)=>{\r\n                 e.stopPropagation();\r\n                 e.preventDefault();\r\n                   db.collection('users').doc(profile.username).collection('notifications').doc(doc.token).update({\r\n                           seen:true\r\n                           })\r\n                history.push(`/profile/${doc.followUsername}`)}} className=\"chat__optie__info\">\r\n                \r\n            <h2><strong>{doc.followUsername}</strong> <small> is now following you</small></h2>\r\n            <p><small>{doc.newtimestamp}</small></p>\r\n            </div>\r\n            </div>}\r\n\r\n            {doc.tagUsername&&\r\n            <div className=\"chat__optie__avatar\">\r\n            <Avatar onClick={(e)=>{\r\n                 e.stopPropagation();\r\n     e.preventDefault();\r\n     db.collection('users').doc(profile.username).collection('notifications').doc(doc.token).update({\r\n         seen:true\r\n     })\r\n     history.push(`/profile/${doc.tagUsername}`)\r\n            }}  src={doc.avatar}/>\r\n            <div onClick={(e)=>{\r\n                 e.stopPropagation();\r\n                 e.preventDefault();\r\n                   db.collection('users').doc(profile.username).collection('notifications').doc(doc.token).update({\r\n                           seen:true\r\n                           })\r\n                history.push(`/post/${doc.tagUsername}/${doc.postId}`)}} className=\"chat__optie__info\">\r\n                \r\n            <h2><strong>{doc.tagUsername}</strong> <small> has taged you in his/her post</small></h2>\r\n            <p><small>{doc.newtimestamp}</small></p>\r\n            </div>\r\n            </div>}\r\n            \r\n        \r\n            {doc.commentUsername&&\r\n            <div className=\"chat__optie__avatar\">\r\n            <Avatar onClick={(e)=>{\r\n                 e.stopPropagation();\r\n     e.preventDefault();\r\n     db.collection('users').doc(profile.username).collection('notifications').doc(doc.token).update({\r\n         seen:true\r\n     })\r\n     history.push(`/profile/${doc.commentUsername}`)\r\n            }} src={doc.avatar}/>\r\n            <div  onClick={(e)=>{\r\n                 e.stopPropagation();\r\n     e.preventDefault();\r\n                db.collection('users').doc(profile.username).collection('notifications').doc(doc.token).update({\r\n         seen:true\r\n     })\r\n                history.push(`/post/${doc.commentUsername}/${doc.postId}`)}} className=\"chat__optie__info\">\r\n                \r\n            <h2><strong>{doc.commentUsername}</strong> <small> has commented on your post</small></h2>\r\n            <p><small>{doc.newtimestamp}</small></p>\r\n            </div>\r\n            </div>}\r\n            \r\n        </div>\r\n      \r\n     \r\n            </div>\r\n\r\n            ))}\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notifications\r\n","import React,{useState,useEffect} from 'react';\r\nimport \"./Login.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {db,auth,storage} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\n\r\n\r\nfunction Register() {\r\n    const history=useHistory()\r\n    const[email,setEmail]=useState('');\r\n    const[password,setPassword]=useState('');\r\n    const[username,setUsername]=useState('');\r\n    const[{user,handle},dispatch]=useStateValue();\r\n    const[open,setOpen]=useState(false)\r\n\r\n    const register=(e)=>{\r\n        e.preventDefault();\r\n\r\n        var newemail = email.replace(/\\s+/g, '');\r\n        \r\n        if(username&&username!='undefined'){\r\ndb.collection('users').where('username','==',username).get().then(doc=>{\r\n    if(doc.exists){\r\n        return alert(username+':this username is already taken')\r\n    }else{\r\nauth.createUserWithEmailAndPassword(newemail,password).then((userCredential) => {\r\n    // Signed in\r\n    var newuser = userCredential.user;\r\n    \r\n   \r\n    db.collection('users').doc(username).set({\r\n    username:username,\r\n    email:newuser.email,\r\n    userId:newuser.uid,\r\n    imageUrl:'',\r\n    bio:'',\r\n    \r\n})\r\n\r\ndb.collection('users').doc(username).collection('followingNUM').doc(username).set({\r\n    following:0\r\n}).catch(error=>alert(error.message))\r\n db.collection('users').doc(username).collection('followersNUM').doc(username).set({\r\n    followers:0\r\n}).catch(error=>alert(error.message))\r\n\r\nnewuser.sendEmailVerification().then(function() {\r\n  \r\n}).catch(function(error) {\r\n  // An error happened.\r\n});\r\n\r\nsetEmail('')\r\n    setUsername('')\r\n    setPassword('')\r\n\r\n\r\n})\r\n        .then((auth)=>{\r\n            setOpen(true)\r\n        }).catch(error=>alert(error.message))\r\n    }\r\n})\r\n\r\n        \r\n        \r\n}else{alert('please enter username')}     \r\n\r\n    }\r\n\r\n     useEffect(()=>{\r\nif(open){\r\n    setTimeout(()=>{\r\nsetOpen(false)\r\n    },3000)\r\n}},[open])\r\n    return (\r\n        <div className=\"login\">\r\n            <Link to=\"/\">\r\n                <img className=\"header__logo\" id=\"myimg\" src=\"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/socialHit.jpg.jpg?alt=media&token=421646ee-5d89-4c89-8eab-57d3c88174f6\"></img>\r\n             {/* <img className=\"header__logo\" src=\"\"></img> */}\r\n        </Link>\r\n        <div className=\"login__container\">\r\n            <h1>Register</h1>\r\n            \r\n            <form>\r\n                <h5>Username</h5>\r\n                <input onChange={(e)=>setUsername(e.target.value)}value={username} type=\"text\"></input>\r\n                \r\n                <h5>Email</h5>\r\n                <input onChange={(e)=>setEmail(e.target.value)}value={email} type=\"text\"></input>\r\n\r\n                <h5>Password</h5>\r\n                <input onChange={(e)=>setPassword(e.target.value)}value={password} type=\"password\"></input>\r\n                \r\n            </form>\r\n            {/* <p>\r\n                By signing-in you agree to the <strong>SocialX</strong> conditions of Use & Sale.\r\n                Please see our Privacy Notice,our Cookies Notice and our Interest-Based Ads Notice.\r\n            </p> */}\r\n            <button onClick={register} className=\"login__registerButton\">Create account</button>\r\n            \r\n             <button type=\"submit\" onClick={()=>history.push('/login')}className=\"login__button\">Back to Sign in</button>\r\n             \r\n        </div>\r\n        {open&&<div className=\"login__popup\">\r\n             <h1>Thanks for signing up! You can Login now!</h1>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React,{useState,useEffect} from 'react';\r\nimport \"./ProfileLikes.css\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {Avatar,IconButton} from \"@material-ui/core\";\r\nimport { db} from \"./firebase\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport Post from \"./Post\";\r\nimport firebase from \"firebase\";\r\nimport EmailOutlinedIcon from '@material-ui/icons/EmailOutlined';\r\n\r\nfunction ProfileLikes() {\r\n    const {pName}=useParams();\r\n     const[{user,profile,handle},dispatch]=useStateValue();\r\n    const [ feedposts,setFeedPosts]=useState([])\r\n    const [ posts,setPosts]=useState([])\r\n    \r\n    \r\nuseEffect(()=>{\r\n     let isSubscribed = true;\r\n if(isSubscribed){\r\n    db.collection('users').doc(pName).collection('likedposts').onSnapshot(snapshot=>(\r\n        \r\n             setFeedPosts(snapshot.docs.map((doc)=>doc.data()))\r\n    ))\r\n }\r\n    return () => isSubscribed = false\r\n},[])\r\n\r\nuseEffect(()=>{\r\n     let isSubscribed = true;\r\n    if(feedposts.length>0&&isSubscribed){\r\n feedposts.map((doc3)=>{\r\n            db.collection('posts').doc(doc3.postId).get().then((doc2)=>{\r\n                \r\n               setPosts((dat)=>{\r\n                \r\n                const newdata=doc2.data()\r\n                const olddata=dat.filter((dat)=>dat.token!==newdata.token)\r\n                return[...olddata,newdata]\r\n               })\r\n            })\r\n        })\r\n    }\r\n    return () => isSubscribed = false\r\n},[feedposts])\r\n\r\n\r\n\r\n       \r\n        \r\n\r\n\r\n\r\n    return (\r\n        \r\n      <div> \r\n          {(posts!=undefined)?\r\n          <div>            \r\n{posts.map(post=>(\r\n      \r\n      \r\n        <Post\r\n        \r\n       key={post.createdAt}\r\n       audio={post.audio}\r\n        token={post.token}\r\n        userId={post.userId}\r\n        displayName={post.displayName}\r\n        username={post.username}\r\n        verified={post.verified}\r\n        text={post.text}\r\n         avatar={post.avatar}\r\n        image={post.image}\r\n        createdAt={post.createdAt}\r\n        likes={post.likes}\r\n        comments={post.comments}\r\n        shares={post.shares}\r\n        option1={post.option1}\r\n        option2={post.option2}\r\n        option3={post.option3}\r\n        option4={post.option4}\r\n        votes1={post.votes1}\r\n        votes2={post.votes2}\r\n        votes3={post.votes3}\r\n        votes4={post.votes4}\r\n        Rusername={post.Rusername}\r\n        Rimage={post.Rimage}\r\n        Rtext={post.Rtext}\r\n        Ravatar={post.Ravatar}\r\n        Rtweeter={post.Rtweeter}\r\n        \r\n\r\n        />\r\n      \r\n    ))}\r\n    </div>:<div>Loading...</div>  } \r\n    \r\n    </div>\r\n          \r\n\r\n           \r\n    )\r\n}\r\n\r\nexport default ProfileLikes\r\n","import React,{useState,useEffect} from 'react';\r\nimport \"./ProfileMain.css\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\nimport {Avatar,IconButton} from \"@material-ui/core\";\r\nimport { db} from \"./firebase\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport Post from \"./Post\";\r\nimport firebase from \"firebase\";\r\nimport EmailOutlinedIcon from '@material-ui/icons/EmailOutlined';\r\nimport ProfileLikes from \"./ProfileLikes\"\r\nimport Profile from \"./Profile\"\r\n\r\n\r\nfunction ProfileMain() {\r\n    const {pName}=useParams();\r\n    const history=useHistory()\r\n   \r\n     const[{user,profile,handle},dispatch]=useStateValue();\r\n     \r\n     const[newProfile,setNewProfile]=useState('');\r\n     const[profileMain,setProfileMain]=useState([]);\r\n     const [allow,setAllow]=useState(false);\r\n     const[follow,setFollow]=useState(false);\r\n     const[poster,setPoster]=useState([]);\r\n         \r\n    const[userfollowing,setUserfollowing]=useState(0);\r\n    const [myposts,setMyposts]=useState([])\r\n    const[ retweetData, setRetweetData]=useState([]);\r\n    const [rposts,setRposts]=useState([]);\r\n    const [update,setUpdate]=useState(false)\r\n    const [ postsOrLiked,SetPostsOrLiked]=useState(false);\r\n    const [ floading,setFloading]=useState(false);\r\n    const [ followingNUM,setFollowingNUM]=useState('')\r\n    const [ followersNUM,setFollowersNUM]=useState('')\r\n    \r\n    \r\n    \r\nuseEffect(()=>{\r\n    let isSubscribed = true\r\n        \r\n       \r\n       if(profile&&(pName!=='undefined')&&isSubscribed&&user){ \r\ndb.collection('users').doc(`/${profile.username}/following/${pName}`).get().then(doc=>{\r\n    if(doc.exists){\r\n        setFollow(true)\r\n        setFloading(true)\r\n        console.log('following found')\r\n    }else{\r\n        setFollow(false)\r\n        setFloading(true)\r\n        console.log('following not')\r\n    }\r\n}).catch((error)=>console.log(error))\r\n       }else{console.log('no profile')}\r\n  \r\n    \r\n    \r\nreturn () => isSubscribed = false\r\n},[follow,user,profile]) \r\n       \r\n \r\n        \r\n\r\n       \r\n      \r\n     \r\n        \r\n\r\n        const handleFollow=(e)=>{\r\n            \r\n            e.preventDefault()\r\n         if(follow&&pName!='undefined'){\r\n             setFollow(false)\r\n             setPoster({...poster,followers:1})\r\n            //setPosterfollowers(posterfollowers-1)\r\n             setUserfollowing(userfollowing-1)\r\n             db.collection(\"users\").doc(`${profile?.username}/following/${pName}`).delete().then(() => {\r\n    console.log(\"Document successfully deleted!\");\r\n}).catch((error) => {\r\n    console.error(\"Error removing document: \", error);\r\n});\r\ndb.collection('users').doc(`/${pName}/followers/${profile.username}`).delete()\r\n             .then(() => {\r\n    console.log(\"Document successfully added!\");\r\n}).catch((error) => {\r\n    console.error(\"Error adding document: \", error);\r\n});\r\n\r\ndb.collection('users').doc(pName).collection('followersNUM').doc(pName).update({\r\n    followers:followersNUM-1\r\n    }).then(()=>{console.log('followers succesfully updated')}).catch((error)=>console.log(error))\r\n\r\n    db.collection('users').doc(profile.username).collection('followingNUM').doc(profile.username).update({\r\n    following:followingNUM-1\r\n}).then(()=>{console.log('followers succesfully updated')}).catch((error)=>console.log(error))\r\n\r\n       db.collection('users').doc(pName).collection('notifications').where('followUsername','==',profile.username).get().then((query)=>{\r\n        query.forEach((doc)=>{\r\n               db.collection('users').doc(pName).collection('notifications').doc(doc.id).delete().then(() => {\r\n    console.log();\r\n}).catch((error) => {\r\n    console.error(\"Error removing document: \", error);\r\n});\r\n\r\n        })\r\n    })\r\n\r\n         }\r\n         if(!follow&&pName!='undefined'){\r\n             \r\n             setFollow(true)\r\n            setPoster({...poster,followers:1})\r\n             setUserfollowing(userfollowing+1)\r\n             \r\n             db.collection('users').doc(`/${profile?.username}/following/${pName}`).set({\r\n                 userId:profileMain.userId,\r\n                 username:pName,\r\n                 timestamp:new Date().getTime().toString(),\r\n                 imageUrl:profileMain.imageUrl,\r\n                 fuserId:profile.userId\r\n             }).then(() => {\r\n    console.log(\"Document successfully added!\");\r\n}).catch((error) => {\r\n    console.error(\"Error adding document: \", error);\r\n});\r\n\r\ndb.collection('users').doc(`/${pName}/followers/${profile.username}`).set({\r\n                 userId:profile.userId,\r\n                 username:profile.username,\r\n                 timestamp:new Date().getTime().toString(),\r\n                 imageUrl:profileMain.imageUrl,\r\n             }).then(() => {\r\n    console.log(\"Document successfully added!\");\r\n}).catch((error) => {\r\n    console.error(\"Error adding document: \", error);\r\n});\r\n\r\ndb.collection('users').doc(pName).collection('followersNUM').doc(pName).update({\r\n    followers:firebase.firestore.FieldValue.increment(1)\r\n    }).then(()=>{console.log('followers succesfully updated')}).catch((error)=>console.log(error))\r\n\r\n    db.collection('users').doc(profile.username).collection('followingNUM').doc(profile.username).update({\r\n    following:firebase.firestore.FieldValue.increment(1)\r\n}).then(()=>{console.log('followers succesfully updated')}).catch((error)=>console.log(error))\r\n        \r\n        db.collection('users').doc(pName).collection('notifications').add({\r\n            follow:true,\r\n            followUsername:profile.username,\r\n            avatar:profile.imageUrl,\r\n            timestamp:new Date().getTime().toString(),\r\n             key:Math.random().toString(36),\r\n             seen:false,\r\n             token:''\r\n\r\n        }).then((docRef)=>{\r\n            db.collection(\"users\").doc(pName).collection('notifications').doc(docRef.id).update({\"token\":docRef.id})\r\n            \r\n        }).catch((error)=>console.log(error))\r\n\r\n}\r\n    \r\n    \r\n    \r\n    }\r\n  \r\n\r\nuseEffect(()=>{\r\n let isSubscribed = true;\r\n   \r\n    if(profile&&pName!='undefined'){\r\n       \r\ndb.collection('users').doc(pName).get().then((doc)=>{\r\n    if(doc.exists&&isSubscribed){\r\n    setProfileMain(doc.data())\r\n        }else{\r\n            console.log('doc from user not found')\r\n        }\r\n    }).catch((error)=>console.log(error))\r\n\r\n if(profile.username==pName&&isSubscribed){\r\n        setAllow(true)\r\n    }else if(isSubscribed){\r\n        setAllow(false)\r\n\r\n    }else{return}\r\n\r\n    db.collection('users').doc(pName).collection('followingNUM').doc(pName).get().then((doc)=>{\r\n        setFollowingNUM(doc.data().following)\r\n    })\r\n    db.collection('users').doc(pName).collection('followersNUM').doc(pName).get().then((doc)=>{\r\n        setFollowersNUM(doc.data().followers)\r\n    })\r\n\r\n    }else{\r\n\r\n        \r\n        console.log('no profile/pName undefined')}\r\n\r\n       \r\n\r\n    \r\nreturn () => isSubscribed = false\r\n},[pName,user,update,profile,follow])\r\n\r\n\r\n const handleMessage=(e)=>{\r\n            e.preventDefault()\r\n             \r\n\r\nif(profile&&pName!='undefined'){\r\n    db.collection('messages').add({\r\n        senderUsername:profile.username,\r\n        receiverUsername:pName\r\n    }).catch((error)=>console.log(error))\r\n\r\n\r\n    \r\n}\r\nhistory.push('/chat')\r\n\r\n    }\r\n        \r\n    if(!floading){return(\r\n        <div className=\"loading__page\">\r\n            <img className=\"loading__logo\" src=\"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/shortlogoSocialHit.jpg?alt=media&token=68b2e724-0787-4d13-91ed-4001379e11ba\"></img>\r\n          <h1 className=\"loading\">Loading...</h1>\r\n        </div>\r\n    )}\r\n\r\n\r\n    return (\r\n        <div className=\"profile\">\r\n            <div className=\"profile__header\">\r\n            <h1 >Profile</h1>\r\n            </div>\r\n            \r\n            <div className=\"profile__body\">\r\n                <div className=\"profile__avatar\">\r\n                {profileMain.imageUrl?\r\n                 \r\n                <img src={profileMain.imageUrl} className=\"profile__a\"/>\r\n                :<Avatar className=\"profile__a\" src=''/>}\r\n                \r\n               <h3 className=\"profile__option\">{profileMain?`@ ${profileMain?.username}`:\"@ \"}</h3>\r\n               <Link to={`/profile/${pName}/edit`}>\r\n                   {!allow&&user?\r\n\r\n                   <div className=\"followbutton\">\r\n                       <IconButton onClick={handleMessage} className=\"profile__followf\"><EmailOutlinedIcon/></IconButton>\r\n                     {/* <button onClick={handleMessage} className=\"profile__followf\">Message</button> */}\r\n                   {!follow?\r\n     <button onClick={handleFollow} className=\"profile__followf\">Follow</button>:\r\n     <button onClick={handleFollow} className=\"profile__2followf\">Unfollow</button>}\r\n     </div>:<div></div>}\r\n               {allow&&\r\n               <div  className=\"profile__edit\" > <EditIcon/> Edit Profile</div>}\r\n               \r\n               </Link>\r\n                 <div className=\"profile__commentsContainer\">\r\n                 \r\n                 </div>\r\n                </div>\r\n                \r\n\r\n                <div className=\"profile__bio\">\r\n                <h4>{profileMain.bio}</h4>\r\n\r\n            </div>\r\n            <div className=\"profile__follow\">\r\n                <Link to={`/profile/followers/${pName}`}>\r\n                <div className=\"profile__num\">followers : {followersNUM}</div>\r\n                </Link>\r\n                <Link to={`/profile/following/${pName}`}>\r\n                <div className=\"profile__num\">following : {followingNUM}</div>\r\n                </Link>\r\n            </div>\r\n                \r\n              \r\n            </div>\r\n            <div className=\"postOptions\">\r\n                \r\n                {postsOrLiked?\r\n                <div onClick={()=>SetPostsOrLiked(false)} className=\"postOptions__option\">\r\n                    <h3>Posts</h3>\r\n                  \r\n                </div>:\r\n                <div onClick={()=>SetPostsOrLiked(false)} className=\"postOptions__optionA\">\r\n                    <h3>Posts</h3>\r\n                  \r\n                </div>\r\n                    }\r\n                   \r\n                  \r\n                \r\n                {postsOrLiked?\r\n                    \r\n                <div onClick={()=>SetPostsOrLiked(true)} className=\"postOptions__optionA\">\r\n                    <h3>Likes</h3>\r\n                  \r\n                </div>:\r\n                <div onClick={()=>SetPostsOrLiked(true)} className=\"postOptions__option\">\r\n                    <h3>Likes</h3>\r\n                  \r\n                </div>\r\n                }\r\n               \r\n                   \r\n                    \r\n            </div>\r\n            {!postsOrLiked?\r\n            <Profile/>:\r\n            <ProfileLikes/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileMain","import React,{useEffect,useState} from 'react';\r\nimport \"./PostPop.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {db} from \"./firebase\";\r\nimport Post from \"./Post\";\r\nimport Comment from \"./Comment\"\r\n\r\n\r\nfunction PostPop() {\r\n    const nam=useParams()\r\n   \r\n    const [post,setPost]=useState([])\r\n    const [comments,setComments]=useState([])\r\n \r\n    useEffect(()=>{\r\n        let isSubscribed=true\r\n        if(nam.tok){\r\n      db.collection('posts').doc(nam.tok).get().then((doc)=>{\r\n          if(isSubscribed){\r\n          setPost(doc.data())\r\n          }else{console.log('component not mounted')}\r\n      })\r\n    }\r\n    return () => isSubscribed = false\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        let isSubscribed=true\r\n        if(isSubscribed&&nam.tok){\r\n            db.collection('comments').where(\"token\", \"==\", nam.tok)\r\n            .get()\r\n    .then((querySnapshot) => {\r\n        querySnapshot.forEach((doc) => {\r\n           \r\n             setComments((dat)=>{\r\n             const data={key:doc.data().token,comment:doc.data().comment,username:doc.data().username}\r\n             \r\n                   const newnew= dat.filter((dat)=>dat.comment!==data.comment)\r\n                   \r\n                   return[...newnew,data]            \r\n            })      \r\n        })}).catch((error)=>console.log(error))}\r\n        \r\n\r\n\r\n        return () => isSubscribed = false\r\n    },[])\r\n    \r\n    \r\n    return (\r\n        <div className=\"postpop\">\r\n            <div>\r\n            {(post!=undefined&&post!=null)&&\r\n            \r\n           <Post\r\n        \r\n       key={post.createdAt}\r\n       audio={post.audio}\r\n        token={post.token}\r\n        userId={post.userId}\r\n        displayName={post.displayName}\r\n        username={post.username}\r\n        verified={post.verified}\r\n        text={post.text}\r\n         avatar={post.avatar}\r\n        image={post.image}\r\n        createdAt={post.createdAt}\r\n        likes={post.likes}\r\n        comments={post.comments}\r\n        shares={post.shares}\r\n        option1={post.option1}\r\n        option2={post.option2}\r\n        option3={post.option3}\r\n        option4={post.option4}\r\n        votes1={post.votes1}\r\n        votes2={post.votes2}\r\n        votes3={post.votes3}\r\n        votes4={post.votes4}\r\n        Rusername={post.Rusername}\r\n        Rimage={post.Rimage}\r\n        Rtext={post.Rtext}\r\n        Ravatar={post.Ravatar}\r\n        Rtweeter={post.Rtweeter}\r\n        \r\n\r\n        />\r\n\r\n            }\r\n            </div>\r\n            \r\n            <div>\r\n                {comments.map(com=>(\r\n         <Comment text={com.comment} username={com.username} avatar={com.avatar}  />\r\n\r\n            ))}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PostPop\r\n\r\n","import React,{useEffect,useState} from 'react';\r\nimport \"./ForgotPassword.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {db,auth,storage} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\n\r\nfunction ForgotPassword() {\r\n    const[ open,setOpen]=useState(false);\r\n    const[email,setEmail]=useState('')\r\n    \r\n\r\n    useEffect(()=>{\r\nif(open){\r\n    setTimeout(()=>{\r\nsetOpen(false)\r\n    },3000)\r\n}},[open])\r\n\r\n    const handleReset=(e)=>{\r\n        e.preventDefault()\r\n\r\n       auth.sendPasswordResetEmail(email).then(function() {\r\n  setOpen(true)\r\n}).catch(function(error) {\r\n  alert(error)\r\n});\r\n\r\n    }\r\n    return (\r\n        <div className=\"login\">\r\n            <Link to=\"/\">\r\n                <img className=\"header__logo\" id=\"myimg\" src=\"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/socialHit.jpg.jpg?alt=media&token=421646ee-5d89-4c89-8eab-57d3c88174f6\"></img>\r\n             {/* <img className=\"header__logo\" src=\"\"></img> */}\r\n        </Link>\r\n        <div className=\"login__container\">\r\n            <h1>Reset Password</h1>\r\n           <form>\r\n            <h5>Email</h5>\r\n            <input onChange={(e)=>setEmail(e.target.value)}value={email} type=\"text\"></input>\r\n            {email&&\r\n            <button type=\"submit\"onClick={handleReset} className=\"forgot__forgotpasswordbutton\">Send Reset Mail</button>}\r\n            </form>\r\n            </div>\r\n           \r\n            {open&&<div className=\"login__popup\">\r\n             <h1>Reset Mail send!</h1>\r\n            </div>}\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword\r\n","import React,{useEffect,useState} from 'react';\r\nimport \"./Reset.css\";\r\nimport {Link,useHistory} from \"react-router-dom\";\r\nimport {db,auth,storage} from \"./firebase\";\r\nimport {useStateValue} from \"./Stateprovider\";\r\n\r\nfunction Reset() {\r\n    \r\n    const[{profile},dispatch]=useStateValue();\r\n     \r\n\r\n    \r\n\r\n    const handleReset=(e)=>{\r\n        e.preventDefault()\r\n        \r\n       auth.sendPasswordResetEmail(profile.email).then(function() {\r\n \r\n}).catch(function(error) {\r\n  // An error happened.\r\n});\r\n\r\n    }\r\n    return (\r\n        <div className=\"reset\">\r\n            <Link to=\"/\">\r\n                <img className=\"header__logo\" id=\"myimg\" src=\"https://firebasestorage.googleapis.com/v0/b/twitterclone-6c140.appspot.com/o/socialHit.jpg.jpg?alt=media&token=421646ee-5d89-4c89-8eab-57d3c88174f6\"></img>\r\n             {/* <img className=\"header__logo\" src=\"\"></img> */}\r\n        </Link>\r\n        <div className=\"reset__container\">\r\n            <h1>Reset Password</h1>\r\n\r\n            \r\n            \r\n            </div>\r\n            \r\n            </div>\r\n    )\r\n}\r\n\r\nexport default Reset\r\n","import React,{useEffect,useState,Component} from \"react\";\nimport Sidebar from \"./Sidebar\";\nimport \"./App.css\";\nimport Feed from \"./Feed\";\nimport Widgets from \"./Widgets\";\nimport {BrowserRouter as Router,Switch,Route} from \"react-router-dom\";\nimport Login from \"./Login\";\nimport { auth } from \"./firebase\";\nimport {useStateValue} from \"./Stateprovider\";\nimport Profile from \"./Profile\";\nimport Explore from \"./Explore\";\nimport ChatPage from \"./ChatPage\";\nimport Chat from \"./Chat\";\nimport Followers from \"./Followers\";\nimport Following from \"./Following\";\nimport EditProfile from \"./EditProfile\";\nimport { db } from \"./firebase\";\nimport AddnewChat from \"./AddnewChat\";\nimport Notifications from \"./Notifications\";\nimport Register from \"./Register\";\nimport ProfileMain from \"./ProfileMain\";\nimport PostPop from \"./PostPop\";\nimport ForgotPassword from \"./ForgotPassword\"\nimport Reset from \"./Reset\"\n// import Games from \"./Games\"\n\n\n\nfunction App() {\n  const[{user},dispatch]=useStateValue();\n  const [loaded,setLoaded]=useState(false)\n \n  \n\n  useEffect(()=>{\n    let isSubscribed=true\n    if(isSubscribed){\nauth.onAuthStateChanged((authUser)=>{\n  // console.log('the user is:',authUser);\n  if(authUser){\nsetLoaded(true)\n         dispatch({\n           type:'SET_USER',\n           user:authUser})\n  }else{\n    setLoaded(true)\ndispatch({\n  type:'SET_USER',\n  user:null})\n  }\n})\n    }\n    return () => isSubscribed = false\n  },[user])\n\n  \n  useEffect(()=>{\nif(user){\n\n db.collection('users').where('userId', '==', user.uid)\n.get().then((querySnapshot) => {\n    querySnapshot.forEach((doc) => {\n       // console.log( doc.data());\n        dispatch({\n                  type:'SET_PROFILE',\n                  profile:doc.data(),\n                 }\n                )\n    });\n}).catch((error)=>console.log(error));\n}\n            \n\n              \n  },[user])\n\nif(!user&&!loaded){\n  <div style={{flex:1,justifyContent:'center'}}>\n    Loading..\n  </div>\n}\n\nreturn (\n    <Router>\n    <div className=\"app\">\n      \n        \n          <Switch>\n\n            <Route path=\"/messages/:roomId\">\n             <Sidebar />\n              <Chat/>\n             <Widgets/>\n            </Route>\n\n            <Route path=\"/post/:nam/:tok\">\n             <Sidebar />\n              <PostPop/>\n             <Widgets/>\n            </Route>\n\n            <Route path=\"/addnewchat\">\n             <Sidebar />\n              <AddnewChat/>\n             <Widgets/>\n            </Route>\n\n            <Route path=\"/notifications\">\n             <Sidebar />\n              <Notifications/>\n             <Widgets/>\n            </Route>\n           \n        <Route exact path=\"/login\">\n        <Login/>\n        </Route>\n\n        <Route exact path=\"/register\">\n        <Register/>\n        </Route>\n\n        <Route exact path=\"/forgotpassword\">\n        <ForgotPassword/>\n        </Route>\n\n        \n\n        \n       \n\n        <Route path=\"/profile/followers/:pName\">\n        <Sidebar />\n        <Followers />\n        <Widgets/>\n        </Route>\n\n        \n\n        <Route path=\"/profile/following/:pName\">\n        <Sidebar />\n        <Following />\n        <Widgets/>\n        </Route>\n\n        <Route  path=\"/profile/:pName/edit\">\n        <Sidebar />\n        <EditProfile />\n        <Widgets/>\n        </Route>\n\n        \n\n        <Route  path=\"/profile/:pName\">\n        <Sidebar />\n        <ProfileMain />\n        <Widgets/>\n        </Route>\n\n\n         \n\n         \n\n        <Route path=\"/explore\">\n        <Sidebar />\n        <Explore />\n        <Widgets/>\n        </Route>\n\n         <Route path=\"/chat\">\n        <Sidebar />\n        <ChatPage />\n        <Widgets/>\n        </Route>\n\n        {/* <Route path=\"/games\">\n        <Sidebar />\n        <Games />\n        <Widgets/>\n        </Route> */}\n\n        <Route path=\"/\">\n        <Sidebar />\n        <Feed />\n        <Widgets/>\n        </Route>\n\n        <Route  path=\"/__/auth/action\">\n        <Reset/>\n        </Route>\n\n        </Switch>\n        \n      \n    </div>\n    </Router>\n  )\n}\n\nexport default App\n","export const initialState={\r\n    user:null,profile:[],handle:null,profilepop:false,windowstate:false,hashTrends:[],dataTrendsExplore:'',OpenTrendExplore:false,OpenComment:false\r\n    \r\n    \r\n}\r\n\r\n\r\nconst reducer=(state,action)=>{\r\n    // console.log(action)\r\n    switch(action.type){\r\n        \r\n            case 'SET_USER':\r\n             return{\r\n                ...state,user:action.user\r\n                 }\r\n                \r\n                 case 'SET_HANDLE':\r\n             return{\r\n                ...state,handle:action.handle\r\n                 }\r\n                  case 'SET_PROFILEPOP':\r\n             return{\r\n                ...state,profilepop:action.profilepop\r\n                 }\r\n                  \r\n                \r\n                \r\n                case 'SET_PROFILE':\r\n                    return{\r\n                      ...state,profile:action.profile\r\n                    }\r\n                   \r\n                    case 'SET_HASHTRENDS':\r\n                    return{\r\n                      ...state,hashTrends:action.hashTrends\r\n                    }\r\n                    case 'SET_DATATRENDSEXPLORE':\r\n                    return{\r\n                      ...state,dataTrendsExplore:action.hashtag\r\n                    }\r\n                    \r\n                    case 'OPEN_OPENTRENDEXPLORE':\r\n                    return{\r\n                      ...state,OpenTrendExplore:action.OpenTrendExplore\r\n                    }\r\n                    \r\n\r\n                case 'CLOSE__WINDOW':\r\n                    return{\r\n                      ...state,windowstate:false\r\n                    }\r\n                     \r\n\r\n                case 'OPEN__WINDOW':\r\n                    return{\r\n                      ...state,windowstate:true\r\n                    }\r\n                    case 'CLOSE__COMMENT':\r\n                    return{\r\n                      ...state,OpenComment:false\r\n                    }\r\n                     \r\n\r\n                case 'OPEN__COMMENT':\r\n                    return{\r\n                      ...state,OpenComment:true\r\n                    }\r\n                    default:return state;     \r\n                \r\n    }\r\n}\r\nexport default reducer","import React from \"react\";\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { StateProvider } from './Stateprovider';\nimport reducer,{initialState} from \"./reducer\";\n\n\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n    <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}